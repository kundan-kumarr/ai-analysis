
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2. Data Types, Graphical Marks, and Visual Encoding Channels &#8212; Visualization Curriculum</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'altair_marks_encoding';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Data Transformation" href="altair_data_transformation.html" />
    <link rel="prev" title="1. Introduction to Altair" href="altair_introduction.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/altair-hist.png" class="logo__image only-light" alt="Visualization Curriculum - Home"/>
    <script>document.write(`<img src="_static/altair-hist.png" class="logo__image only-dark" alt="Visualization Curriculum - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Curriculum</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="altair_introduction.html">1. Introduction to Altair</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. Data Types, Graphical Marks, and Visual Encoding Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="altair_data_transformation.html">3. Data Transformation</a></li>
<li class="toctree-l1"><a class="reference internal" href="altair_scales_axes_legends.html">4. Scales, Axes, and Legends</a></li>
<li class="toctree-l1"><a class="reference internal" href="altair_view_composition.html">5. Multi-View Composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="altair_interaction.html">6. Interaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="altair_cartographic.html">7. Cartographic Visualization</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Support</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="altair_debugging.html">Altair Debugging Guide</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/uwdata/visualization-curriculum/blob/master/altair_marks_encoding.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/uwdata/visualization-curriculum" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/uwdata/visualization-curriculum/issues/new?title=Issue%20on%20page%20%2Faltair_marks_encoding.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/altair_marks_encoding.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Types, Graphical Marks, and Visual Encoding Channels</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#global-development-data">2.1. Global Development Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-types">2.2. Data Types</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nominal-n">2.2.1. Nominal (N)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ordinal-o">2.2.2. Ordinal (O)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quantitative-q">2.2.3. Quantitative (Q)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#temporal-t">2.2.4. Temporal (T)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">2.2.5. Summary</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding-channels">2.3. Encoding Channels</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#x">2.3.1. X</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#y">2.3.2. Y</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#size">2.3.3. Size</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#color-and-opacity">2.3.4. Color and Opacity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shape">2.3.5. Shape</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tooltips-ordering">2.3.6. Tooltips &amp; Ordering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#column-and-row-facets">2.3.7. Column and Row Facets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-peek-ahead-interactive-filtering">2.3.8. A Peek Ahead: Interactive Filtering</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#graphical-marks">2.4. Graphical Marks</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#point-marks">2.4.1. Point Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#circle-marks">2.4.2. Circle Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#square-marks">2.4.3. Square Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tick-marks">2.4.4. Tick Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bar-marks">2.4.5. Bar Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#line-marks">2.4.6. Line Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#area-marks">2.4.7. Area Marks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.5. Summary</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-types-graphical-marks-and-visual-encoding-channels">
<h1><span class="section-number">2. </span>Data Types, Graphical Marks, and Visual Encoding Channels<a class="headerlink" href="#data-types-graphical-marks-and-visual-encoding-channels" title="Link to this heading">#</a></h1>
<p>A visualization represents data using a collection of <em>graphical marks</em> (bars, lines, points, etc.). The attributes of a mark — such as its position, shape, size, or color — serve as <em>channels</em> through which we can encode underlying data values.</p>
<p>With a basic framework of <em>data types</em>, <em>marks</em>, and <em>encoding channels</em>, we can concisely create a wide variety of visualizations. In this notebook, we explore each of these elements and show how to use them to create custom statistical graphics.</p>
<p><em>This notebook is part of the <a class="reference external" href="https://github.com/uwdata/visualization-curriculum">data visualization curriculum</a>.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">altair</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">alt</span>
</pre></div>
</div>
</div>
</div>
<section id="global-development-data">
<h2><span class="section-number">2.1. </span>Global Development Data<a class="headerlink" href="#global-development-data" title="Link to this heading">#</a></h2>
<p>We will be visualizing global health and population data for a number of countries, over the time period of 1955 to 2005. The data was collected by the <a class="reference external" href="https://www.gapminder.org/">Gapminder Foundation</a> and shared in <a class="reference external" href="https://www.youtube.com/watch?v=hVimVzgtD6w">Hans Rosling’s popular TED talk</a>. If you haven’t seen the talk, we encourage you to watch it first!</p>
<p>Let’s first load the dataset from the <a class="reference external" href="https://github.com/vega/vega-datasets">vega-datasets</a> collection into a Pandas data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">vega_datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">data</span> <span class="k">as</span> <span class="n">vega_data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">vega_data</span><span class="o">.</span><span class="n">gapminder</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>How big is the data?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(693, 6)
</pre></div>
</div>
</div>
</div>
<p>693 rows and 6 columns! Let’s take a peek at the data content:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>country</th>
      <th>cluster</th>
      <th>pop</th>
      <th>life_expect</th>
      <th>fertility</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1955</td>
      <td>Afghanistan</td>
      <td>0</td>
      <td>8891209</td>
      <td>30.332</td>
      <td>7.7</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1960</td>
      <td>Afghanistan</td>
      <td>0</td>
      <td>9829450</td>
      <td>31.997</td>
      <td>7.7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1965</td>
      <td>Afghanistan</td>
      <td>0</td>
      <td>10997885</td>
      <td>34.020</td>
      <td>7.7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1970</td>
      <td>Afghanistan</td>
      <td>0</td>
      <td>12430623</td>
      <td>36.088</td>
      <td>7.7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1975</td>
      <td>Afghanistan</td>
      <td>0</td>
      <td>14132019</td>
      <td>38.438</td>
      <td>7.7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>For each <code class="docutils literal notranslate"><span class="pre">country</span></code> and <code class="docutils literal notranslate"><span class="pre">year</span></code> (in 5-year intervals), we have measures of fertility in terms of the number of children per woman (<code class="docutils literal notranslate"><span class="pre">fertility</span></code>), life expectancy in years (<code class="docutils literal notranslate"><span class="pre">life_expect</span></code>), and total population (<code class="docutils literal notranslate"><span class="pre">pop</span></code>).</p>
<p>We also see a <code class="docutils literal notranslate"><span class="pre">cluster</span></code> field with an integer code. What might this represent? We’ll try and solve this mystery as we visualize the data!</p>
<p>Let’s also create a smaller data frame, filtered down to values for the year 2000 only:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data2000</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2000</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data2000</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>country</th>
      <th>cluster</th>
      <th>pop</th>
      <th>life_expect</th>
      <th>fertility</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>9</th>
      <td>2000</td>
      <td>Afghanistan</td>
      <td>0</td>
      <td>23898198</td>
      <td>42.129</td>
      <td>7.4792</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2000</td>
      <td>Argentina</td>
      <td>3</td>
      <td>37497728</td>
      <td>74.340</td>
      <td>2.3500</td>
    </tr>
    <tr>
      <th>31</th>
      <td>2000</td>
      <td>Aruba</td>
      <td>3</td>
      <td>69539</td>
      <td>73.451</td>
      <td>2.1240</td>
    </tr>
    <tr>
      <th>42</th>
      <td>2000</td>
      <td>Australia</td>
      <td>4</td>
      <td>19164620</td>
      <td>80.370</td>
      <td>1.7560</td>
    </tr>
    <tr>
      <th>53</th>
      <td>2000</td>
      <td>Austria</td>
      <td>1</td>
      <td>8113413</td>
      <td>78.980</td>
      <td>1.3820</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="data-types">
<h2><span class="section-number">2.2. </span>Data Types<a class="headerlink" href="#data-types" title="Link to this heading">#</a></h2>
<p>The first ingredient in effective visualization is the input data. Data values can represent different forms of measurement. What kinds of comparisons do those measurements support? And what kinds of visual encodings then support those comparisons?</p>
<p>We will start by looking at the basic data types that Altair uses to inform visual encoding choices. These data types determine the kinds of comparisons we can make, and thereby guide our visualization design decisions.</p>
<section id="nominal-n">
<h3><span class="section-number">2.2.1. </span>Nominal (N)<a class="headerlink" href="#nominal-n" title="Link to this heading">#</a></h3>
<p><em>Nominal</em> data (also called <em>categorical</em> data) consist of category names.</p>
<p>With nominal data we can compare the equality of values: <em>is value A the same or different than value B? (A = B)</em>, supporting statements like “A is equal to B” or “A is not equal to B”.
In the dataset above, the <code class="docutils literal notranslate"><span class="pre">country</span></code> field is nominal.</p>
<p>When visualizing nominal data we should readily be able to see if values are the same or different: position, color hue (blue, red, green, <em>etc.</em>), and shape can help. However, using a size channel to encode nominal data might mislead us, suggesting rank-order or magnitude differences among values that do not exist!</p>
</section>
<section id="ordinal-o">
<h3><span class="section-number">2.2.2. </span>Ordinal (O)<a class="headerlink" href="#ordinal-o" title="Link to this heading">#</a></h3>
<p><em>Ordinal</em> data consist of values that have a specific ordering.</p>
<p>With ordinal data we can compare the rank-ordering of values: <em>does value A come before or after value B? (A &lt; B)</em>, supporting statements like “A is less than B” or “A is greater than B”.
In the dataset above, we can treat the <code class="docutils literal notranslate"><span class="pre">year</span></code> field as ordinal.</p>
<p>When visualizing ordinal data, we should perceive a sense of rank-order. Position, size, or color value (brightness) might be appropriate, where as color hue (which is not perceptually ordered) would be less appropriate.</p>
</section>
<section id="quantitative-q">
<h3><span class="section-number">2.2.3. </span>Quantitative (Q)<a class="headerlink" href="#quantitative-q" title="Link to this heading">#</a></h3>
<p>With <em>quantitative</em> data we can measure numerical differences among values. There are multiple sub-types of quantitative data:</p>
<p>For <em>interval</em> data we can measure the distance (interval) between points: <em>what is the distance to value A from value B? (A - B)</em>, supporting statements such as “A is 12 units away from B”.</p>
<p>For <em>ratio</em> data the zero-point is meaningful and so we can also measure proportions or scale factors: <em>value A is what proportion of value B? (A / B)</em>, supporting statements such as “A is 10% of B” or “B is 7 times larger than A”.</p>
<p>In the dataset above, <code class="docutils literal notranslate"><span class="pre">year</span></code> is a quantitative interval field (the value of year “zero” is subjective), whereas <code class="docutils literal notranslate"><span class="pre">fertility</span></code> and <code class="docutils literal notranslate"><span class="pre">life_expect</span></code> are quantitative ratio fields (zero is meaningful for calculating proportions).
Vega-Lite represents quantitative data, but does not make a distinction between interval and ratio types.</p>
<p>Quantitative values can be visualized using position, size, or color value, among other channels. An axis with a zero baseline is essential for proportional comparisons of ratio values, but can be safely omitted for interval comparisons.</p>
</section>
<section id="temporal-t">
<h3><span class="section-number">2.2.4. </span>Temporal (T)<a class="headerlink" href="#temporal-t" title="Link to this heading">#</a></h3>
<p><em>Temporal</em> values measure time points or intervals. This type is a special case of quantitative values (timestamps) with rich semantics and conventions (i.e., the <a class="reference external" href="https://en.wikipedia.org/wiki/Gregorian_calendar">Gregorian calendar</a>). The temporal type in Vega-Lite supports reasoning about time units (year, month, day, hour, etc.), and provides methods for requesting specific time intervals.</p>
<p>Example temporal values include date strings such as <code class="docutils literal notranslate"><span class="pre">“2019-01-04”</span></code> and <code class="docutils literal notranslate"><span class="pre">“Jan</span> <span class="pre">04</span> <span class="pre">2019”</span></code>, as well as standardized date-times such as the <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO date-time format</a>: <code class="docutils literal notranslate"><span class="pre">“2019-01-04T17:50:35.643Z”</span></code>.</p>
<p>There are no temporal values in our global development dataset above, as the <code class="docutils literal notranslate"><span class="pre">year</span></code> field is simply encoded as an integer. For more details about using temporal data in Altair, see the <a class="reference external" href="https://altair-viz.github.io/user_guide/times_and_dates.html">Times and Dates documentation</a>.</p>
</section>
<section id="summary">
<h3><span class="section-number">2.2.5. </span>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h3>
<p>These data types are not mutually exclusive, but rather form a hierarchy: ordinal data support nominal (equality) comparisons, while quantitative data support ordinal (rank-order) comparisons.</p>
<p>Moreover, these data types do <em>not</em> provide a fixed categorization. Just because a data field is represented using a number doesn’t mean we have to treat it as a quantitative type! For example, we might interpret a set of ages (10 years old, 20 years old, etc) as nominal (underage or overage), ordinal (grouped by year), or quantitative (calculate average age).</p>
<p>Now let’s examine how to visually encode these data types!</p>
</section>
</section>
<section id="encoding-channels">
<h2><span class="section-number">2.3. </span>Encoding Channels<a class="headerlink" href="#encoding-channels" title="Link to this heading">#</a></h2>
<p>At the heart of Altair is the use of <em>encodings</em> that bind data fields (with a given data type) to available encoding <em>channels</em> of a chosen <em>mark</em> type. In this notebook we’ll examine the following encoding channels:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: Horizontal (x-axis) position of the mark.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: Vertical (y-axis) position of the mark.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code>: Size of the mark. May correspond to area or length, depending on the mark type.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color</span></code>: Mark color, specified as a <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value">legal CSS color</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">opacity</span></code>: Mark opacity, ranging from 0 (fully transparent) to 1 (fully opaque).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shape</span></code>: Plotting symbol shape for <code class="docutils literal notranslate"><span class="pre">point</span></code> marks.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tooltip</span></code>: Tooltip text to display upon mouse hover over the mark.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">order</span></code>: Mark ordering, determines line/area point order and drawing order.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">column</span></code>: Facet the data into horizontally-aligned subplots.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">row</span></code>: Facet the data into vertically-aligned subplots.</p></li>
</ul>
<p>For a complete list of available channels, see the <a class="reference external" href="https://altair-viz.github.io/user_guide/encodings/index.html">Altair encoding documentation</a>.</p>
<section id="x">
<h3><span class="section-number">2.3.1. </span>X<a class="headerlink" href="#x" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">x</span></code> encoding channel sets a mark’s horizontal position (x-coordinate). In addition, default choices of axis and title are made automatically. In the chart below, the choice of a quantitative data type results in a continuous linear axis scale:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-dc4f1ecc4f0248329912c6ccc9eefc7c.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-dc4f1ecc4f0248329912c6ccc9eefc7c.vega-embed details,
  #altair-viz-dc4f1ecc4f0248329912c6ccc9eefc7c.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-dc4f1ecc4f0248329912c6ccc9eefc7c"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-dc4f1ecc4f0248329912c6ccc9eefc7c") {
      outputDiv = document.getElementById("altair-viz-dc4f1ecc4f0248329912c6ccc9eefc7c");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point"}, "encoding": {"x": {"field": "fertility", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="y">
<h3><span class="section-number">2.3.2. </span>Y<a class="headerlink" href="#y" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">y</span></code> encoding channel sets a mark’s vertical position (y-coordinate). Here we’ve added the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> field using an ordinal (<code class="docutils literal notranslate"><span class="pre">O</span></code>) data type. The result is a discrete axis that includes a sized band, with a default step size, for each unique value:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;cluster:O&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-354bb0e7561545e9a82cdb67be25bf14.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-354bb0e7561545e9a82cdb67be25bf14.vega-embed details,
  #altair-viz-354bb0e7561545e9a82cdb67be25bf14.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-354bb0e7561545e9a82cdb67be25bf14"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-354bb0e7561545e9a82cdb67be25bf14") {
      outputDiv = document.getElementById("altair-viz-354bb0e7561545e9a82cdb67be25bf14");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point"}, "encoding": {"x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "cluster", "type": "ordinal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p><em>What happens to the chart above if you swap the <code class="docutils literal notranslate"><span class="pre">O</span></code> and <code class="docutils literal notranslate"><span class="pre">Q</span></code> field types?</em></p>
<p>If we instead add the <code class="docutils literal notranslate"><span class="pre">life_expect</span></code> field as a quantitative (<code class="docutils literal notranslate"><span class="pre">Q</span></code>) variable, the result is a scatter plot with linear scales for both axes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-013fdc018b34451897bb5f03a812b982.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-013fdc018b34451897bb5f03a812b982.vega-embed details,
  #altair-viz-013fdc018b34451897bb5f03a812b982.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-013fdc018b34451897bb5f03a812b982"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-013fdc018b34451897bb5f03a812b982") {
      outputDiv = document.getElementById("altair-viz-013fdc018b34451897bb5f03a812b982");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point"}, "encoding": {"x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>By default, axes for linear quantitative scales include zero to ensure a proper baseline for comparing ratio-valued data. In some cases, however, a zero baseline may be meaningless or you may want to focus on interval comparisons. To disable automatic inclusion of zero, configure the scale mapping using the encoding <code class="docutils literal notranslate"><span class="pre">scale</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">zero</span><span class="o">=</span><span class="kc">False</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">zero</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-f2018f6c83d34ba5a49ff62ceb08781d.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-f2018f6c83d34ba5a49ff62ceb08781d.vega-embed details,
  #altair-viz-f2018f6c83d34ba5a49ff62ceb08781d.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-f2018f6c83d34ba5a49ff62ceb08781d"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-f2018f6c83d34ba5a49ff62ceb08781d") {
      outputDiv = document.getElementById("altair-viz-f2018f6c83d34ba5a49ff62ceb08781d");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point"}, "encoding": {"x": {"field": "fertility", "scale": {"zero": false}, "type": "quantitative"}, "y": {"field": "life_expect", "scale": {"zero": false}, "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>Now the axis scales no longer include zero by default. Some padding still remains, as the axis domain end points are automatically snapped to <em>nice</em> numbers like multiples of 5 or 10.</p>
<p><em>What happens if you also add <code class="docutils literal notranslate"><span class="pre">nice=False</span></code> to the scale attribute above?</em></p>
</section>
<section id="size">
<h3><span class="section-number">2.3.3. </span>Size<a class="headerlink" href="#size" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">size</span></code> encoding channel sets a mark’s size or extent. The meaning of the channel can vary based on the mark type. For <code class="docutils literal notranslate"><span class="pre">point</span></code> marks, the <code class="docutils literal notranslate"><span class="pre">size</span></code> channel maps to the pixel area of the plotting symbol, such that the diameter of the point matches the square root of the size value.</p>
<p>Let’s augment our scatter plot by encoding population (<code class="docutils literal notranslate"><span class="pre">pop</span></code>) on the <code class="docutils literal notranslate"><span class="pre">size</span></code> channel. As a result, the chart now also includes a legend for interpreting the size values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-8768065474fa4fd09a1a3d67b3b37a2c.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-8768065474fa4fd09a1a3d67b3b37a2c.vega-embed details,
  #altair-viz-8768065474fa4fd09a1a3d67b3b37a2c.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-8768065474fa4fd09a1a3d67b3b37a2c"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-8768065474fa4fd09a1a3d67b3b37a2c") {
      outputDiv = document.getElementById("altair-viz-8768065474fa4fd09a1a3d67b3b37a2c");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point"}, "encoding": {"size": {"field": "pop", "type": "quantitative"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>In some cases we might be unsatisfied with the default size range. To provide a customized span of sizes, set the <code class="docutils literal notranslate"><span class="pre">range</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">scale</span></code> attribute to an array indicating the smallest and largest sizes. Here we update the size encoding to range from 0 pixels (for zero values) to 1,000 pixels (for the maximum value in the scale domain):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">]))</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-c88fa55f4ba5445aa5eafce1c1d9e738.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-c88fa55f4ba5445aa5eafce1c1d9e738.vega-embed details,
  #altair-viz-c88fa55f4ba5445aa5eafce1c1d9e738.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-c88fa55f4ba5445aa5eafce1c1d9e738"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c88fa55f4ba5445aa5eafce1c1d9e738") {
      outputDiv = document.getElementById("altair-viz-c88fa55f4ba5445aa5eafce1c1d9e738");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point"}, "encoding": {"size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="color-and-opacity">
<h3><span class="section-number">2.3.4. </span>Color and Opacity<a class="headerlink" href="#color-and-opacity" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">color</span></code> encoding channel sets a mark’s color. The style of color encoding is highly dependent on the data type: nominal data will default to a multi-hued qualitative color scheme, whereas ordinal and quantitative data will use perceptually ordered color gradients.</p>
<p>Here, we encode the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> field using the <code class="docutils literal notranslate"><span class="pre">color</span></code> channel and a nominal (<code class="docutils literal notranslate"><span class="pre">N</span></code>) data type, resulting in a distinct hue for each cluster value. Can you start to guess what the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> field might indicate?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-623eeb37a90b45dc87b3f1d8f999f161.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-623eeb37a90b45dc87b3f1d8f999f161.vega-embed details,
  #altair-viz-623eeb37a90b45dc87b3f1d8f999f161.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-623eeb37a90b45dc87b3f1d8f999f161"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-623eeb37a90b45dc87b3f1d8f999f161") {
      outputDiv = document.getElementById("altair-viz-623eeb37a90b45dc87b3f1d8f999f161");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point"}, "encoding": {"color": {"field": "cluster", "type": "nominal"}, "size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>If we prefer filled shapes, we can can pass a <code class="docutils literal notranslate"><span class="pre">filled=True</span></code> parameter to the <code class="docutils literal notranslate"><span class="pre">mark_point</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-80b7ef8d30524460944d664f9ae00151.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-80b7ef8d30524460944d664f9ae00151.vega-embed details,
  #altair-viz-80b7ef8d30524460944d664f9ae00151.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-80b7ef8d30524460944d664f9ae00151"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-80b7ef8d30524460944d664f9ae00151") {
      outputDiv = document.getElementById("altair-viz-80b7ef8d30524460944d664f9ae00151");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "cluster", "type": "nominal"}, "size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>By default, Altair uses a bit of transparency to help combat over-plotting. We are free to further adjust the opacity, either by passing a default value to the <code class="docutils literal notranslate"><span class="pre">mark_*</span></code> method, or using a dedicated encoding channel.</p>
<p>Here we demonstrate how to provide a constant value to an encoding channel instead of binding a data field:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">OpacityValue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-68d613574f1a4da9bdf5e5f950f90802.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-68d613574f1a4da9bdf5e5f950f90802.vega-embed details,
  #altair-viz-68d613574f1a4da9bdf5e5f950f90802.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-68d613574f1a4da9bdf5e5f950f90802"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-68d613574f1a4da9bdf5e5f950f90802") {
      outputDiv = document.getElementById("altair-viz-68d613574f1a4da9bdf5e5f950f90802");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "cluster", "type": "nominal"}, "opacity": {"value": 0.5}, "size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="shape">
<h3><span class="section-number">2.3.5. </span>Shape<a class="headerlink" href="#shape" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">shape</span></code> encoding channel sets the geometric shape used by <code class="docutils literal notranslate"><span class="pre">point</span></code> marks. Unlike the other channels we have seen so far, the <code class="docutils literal notranslate"><span class="pre">shape</span></code> channel can not be used by other mark types. The shape encoding channel should only be used with nominal data, as perceptual rank-order and magnitude comparisons are not supported.</p>
<p>Let’s encode the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> field using <code class="docutils literal notranslate"><span class="pre">shape</span></code> as well as <code class="docutils literal notranslate"><span class="pre">color</span></code>. Using multiple channels for the same underlying data field is known as a <em>redundant encoding</em>. The resulting chart combines both color and shape information into a single symbol legend:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">OpacityValue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Shape</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-302201f984e845ceba49a08239ea31be.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-302201f984e845ceba49a08239ea31be.vega-embed details,
  #altair-viz-302201f984e845ceba49a08239ea31be.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-302201f984e845ceba49a08239ea31be"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-302201f984e845ceba49a08239ea31be") {
      outputDiv = document.getElementById("altair-viz-302201f984e845ceba49a08239ea31be");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "cluster", "type": "nominal"}, "opacity": {"value": 0.5}, "shape": {"field": "cluster", "type": "nominal"}, "size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="tooltips-ordering">
<h3><span class="section-number">2.3.6. </span>Tooltips &amp; Ordering<a class="headerlink" href="#tooltips-ordering" title="Link to this heading">#</a></h3>
<p>By this point, you might feel a bit frustrated: we’ve built up a chart, but we still don’t know what countries the visualized points correspond to! Let’s add interactive tooltips to enable exploration.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">tooltip</span></code> encoding channel determines tooltip text to show when a user moves the mouse cursor over a mark. Let’s add a tooltip encoding for the <code class="docutils literal notranslate"><span class="pre">country</span></code> field, then investigate which countries are being represented.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">OpacityValue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-85f8767a92d14b44896d4cce4aba0289.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-85f8767a92d14b44896d4cce4aba0289.vega-embed details,
  #altair-viz-85f8767a92d14b44896d4cce4aba0289.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-85f8767a92d14b44896d4cce4aba0289"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-85f8767a92d14b44896d4cce4aba0289") {
      outputDiv = document.getElementById("altair-viz-85f8767a92d14b44896d4cce4aba0289");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "cluster", "type": "nominal"}, "opacity": {"value": 0.5}, "size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "tooltip": {"field": "country", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>As you mouse around you may notice that you can not select some of the points. For example, the largest dark blue circle corresponds to India, which is drawn on top of a country with a smaller population, preventing the mouse from hovering over that country. To fix this problem, we can use the <code class="docutils literal notranslate"><span class="pre">order</span></code> encoding channel.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">order</span></code> encoding channel determines the order of data points, affecting both the order in which they are drawn and, for <code class="docutils literal notranslate"><span class="pre">line</span></code> and <code class="docutils literal notranslate"><span class="pre">area</span></code> marks, the order in which they are connected to one another.</p>
<p>Let’s order the values in descending rank order by the population (<code class="docutils literal notranslate"><span class="pre">pop</span></code>), ensuring that smaller circles are drawn later than larger circles:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">OpacityValue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Order</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;descending&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-933b805c472340818355f770a073d12f.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-933b805c472340818355f770a073d12f.vega-embed details,
  #altair-viz-933b805c472340818355f770a073d12f.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-933b805c472340818355f770a073d12f"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-933b805c472340818355f770a073d12f") {
      outputDiv = document.getElementById("altair-viz-933b805c472340818355f770a073d12f");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "cluster", "type": "nominal"}, "opacity": {"value": 0.5}, "order": {"field": "pop", "sort": "descending", "type": "quantitative"}, "size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "tooltip": {"field": "country", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>Now we can identify the smaller country being obscured by India: it’s Bangladesh!</p>
<p>We can also now figure out what the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> field represents. Mouse over the various colored points to formulate your own explanation.</p>
<p>At this point we’ve added tooltips that show only a single property of the underlying data record. To show multiple values, we can provide the <code class="docutils literal notranslate"><span class="pre">tooltip</span></code> channel an array of encodings, one for each field we want to include:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">OpacityValue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Order</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;descending&#39;</span><span class="p">),</span>
    <span class="n">tooltip</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">),</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
        <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">)</span>
    <span class="p">]</span>   
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-b1e9cb4471bc4607b23f87ff1f343610.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-b1e9cb4471bc4607b23f87ff1f343610.vega-embed details,
  #altair-viz-b1e9cb4471bc4607b23f87ff1f343610.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-b1e9cb4471bc4607b23f87ff1f343610"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-b1e9cb4471bc4607b23f87ff1f343610") {
      outputDiv = document.getElementById("altair-viz-b1e9cb4471bc4607b23f87ff1f343610");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "cluster", "type": "nominal"}, "opacity": {"value": 0.5}, "order": {"field": "pop", "sort": "descending", "type": "quantitative"}, "size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "tooltip": [{"field": "country", "type": "nominal"}, {"field": "fertility", "type": "quantitative"}, {"field": "life_expect", "type": "quantitative"}], "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>Now we can see multiple data fields upon mouse over!</p>
</section>
<section id="column-and-row-facets">
<h3><span class="section-number">2.3.7. </span>Column and Row Facets<a class="headerlink" href="#column-and-row-facets" title="Link to this heading">#</a></h3>
<p>Spatial position is one of the most powerful and flexible channels for visual encoding, but what can we do if we already have assigned fields to the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> channels? One valuable technique is to create a <em>trellis plot</em>, consisting of sub-plots that show a subset of the data. A trellis plot is one example of the more general technique of presenting data using <a class="reference external" href="https://en.wikipedia.org/wiki/Small_multiple">small multiples</a> of views.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">column</span></code> and <code class="docutils literal notranslate"><span class="pre">row</span></code> encoding channels generate either a horizontal (columns) or vertical (rows) set of sub-plots, in which the data is partitioned according to the provided data field.</p>
<p>Here is a trellis plot that divides the data into one column per `cluster` value:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">OpacityValue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Order</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;descending&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-fac9af838e114f869227303a83b100dc.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-fac9af838e114f869227303a83b100dc.vega-embed details,
  #altair-viz-fac9af838e114f869227303a83b100dc.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-fac9af838e114f869227303a83b100dc"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-fac9af838e114f869227303a83b100dc") {
      outputDiv = document.getElementById("altair-viz-fac9af838e114f869227303a83b100dc");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "cluster", "type": "nominal"}, "column": {"field": "cluster", "type": "nominal"}, "opacity": {"value": 0.5}, "order": {"field": "pop", "sort": "descending", "type": "quantitative"}, "size": {"field": "pop", "scale": {"range": [0, 1000]}, "type": "quantitative"}, "tooltip": {"field": "country", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>The plot above does not fit on screen, making it difficult to compare all the sub-plots to each other! We can set the default <code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code> properties to create a smaller set of multiples. Also, as the column headers already label the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> values, let’s remove our <code class="docutils literal notranslate"><span class="pre">color</span></code> legend by setting it to <code class="docutils literal notranslate"><span class="pre">None</span></code>. To make better use of space we can also orient our <code class="docutils literal notranslate"><span class="pre">size</span></code> legend to the <code class="docutils literal notranslate"><span class="pre">'bottom'</span></code> of the chart.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">]),</span>
             <span class="n">legend</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Legend</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">titleOrient</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">OpacityValue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Order</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;descending&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">135</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">135</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-43eef1e5fd1b43a28cbac7969aa5c532.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-43eef1e5fd1b43a28cbac7969aa5c532.vega-embed details,
  #altair-viz-43eef1e5fd1b43a28cbac7969aa5c532.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-43eef1e5fd1b43a28cbac7969aa5c532"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-43eef1e5fd1b43a28cbac7969aa5c532") {
      outputDiv = document.getElementById("altair-viz-43eef1e5fd1b43a28cbac7969aa5c532");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true}, "encoding": {"color": {"field": "cluster", "legend": null, "type": "nominal"}, "column": {"field": "cluster", "type": "nominal"}, "opacity": {"value": 0.5}, "order": {"field": "pop", "sort": "descending", "type": "quantitative"}, "size": {"field": "pop", "legend": {"orient": "bottom", "titleOrient": "left"}, "scale": {"range": [0, 1000]}, "type": "quantitative"}, "tooltip": {"field": "country", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "life_expect", "type": "quantitative"}}, "height": 135, "width": 135, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>Underneath the hood, the <code class="docutils literal notranslate"><span class="pre">column</span></code> and <code class="docutils literal notranslate"><span class="pre">row</span></code> encodings are translated into a new specification that uses the <code class="docutils literal notranslate"><span class="pre">facet</span></code> view composition operator. We will re-visit faceting in greater depth later on!</p>
<p>In the meantime, <em>can you rewrite the chart above to facet into rows instead of columns?</em></p>
</section>
<section id="a-peek-ahead-interactive-filtering">
<h3><span class="section-number">2.3.8. </span>A Peek Ahead: Interactive Filtering<a class="headerlink" href="#a-peek-ahead-interactive-filtering" title="Link to this heading">#</a></h3>
<p>In later modules, we’ll dive into interaction techniques for data exploration. Here is a sneak peak: binding a range slider to the <code class="docutils literal notranslate"><span class="pre">year</span></code> field to enable interactive scrubbing through each year of data. Don’t worry if the code below is a bit confusing at this point, as we will cover interaction in detail later.</p>
<p><em>Drag the slider back and forth to see how the data values change over time!</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">select_year</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_single</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;select&#39;</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">init</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="mi">1955</span><span class="p">},</span>
    <span class="n">bind</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">binding_range</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">1955</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2005</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Size</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1200000000</span><span class="p">],</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">])),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">OpacityValue</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Order</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;descending&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span><span class="n">select_year</span><span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">select_year</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/9g/mssvsk8d2ssbmyf5fg4v2ssh0000gq/T/ipykernel_99771/2101592094.py:1: AltairDeprecationWarning: 
Deprecated since `altair=5.0.0`. Use selection_point instead.
  select_year = alt.selection_single(
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">select_year</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">selection_single</span><span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">name</span><span class="o">=</span><span class="s1">&#39;select&#39;</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">init</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="mi">1955</span><span class="p">},</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">bind</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">binding_range</span><span class="p">(</span><span class="nb">min</span><span class="o">=</span><span class="mi">1955</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2005</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">9</span><span class="p">])),</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;life_expect:Q&#39;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">])),</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span>     <span class="n">alt</span><span class="o">.</span><span class="n">Order</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="s1">&#39;descending&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span> <span class="p">)</span><span class="o">.</span><span class="n">add_selection</span><span class="p">(</span><span class="n">select_year</span><span class="p">)</span><span class="o">.</span><span class="n">transform_filter</span><span class="p">(</span><span class="n">select_year</span><span class="p">)</span>

<span class="nn">File /opt/anaconda3/lib/python3.13/warnings.py:637,</span> in <span class="ni">deprecated.__call__.&lt;locals&gt;.wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">634</span> <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">635</span> <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">636</span>     <span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="n">category</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">637</span>     <span class="k">return</span> <span class="n">arg</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File /opt/anaconda3/lib/python3.13/site-packages/altair/vegalite/v5/api.py:1749,</span> in <span class="ni">selection_single</span><span class="nt">(**kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">1746</span> <span class="nd">@utils</span><span class="o">.</span><span class="n">deprecated</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;5.0.0&quot;</span><span class="p">,</span> <span class="n">alternative</span><span class="o">=</span><span class="s2">&quot;selection_point&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1747</span> <span class="k">def</span><span class="w"> </span><span class="nf">selection_single</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Parameter</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1748</span><span class="w">     </span><span class="sd">&quot;&quot;&quot;&#39;selection_single&#39; is deprecated.  Use &#39;selection_point&#39;.&quot;&quot;&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1749</span>     <span class="k">return</span> <span class="n">_selection</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s2">&quot;point&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File /opt/anaconda3/lib/python3.13/site-packages/altair/vegalite/v5/api.py:1443,</span> in <span class="ni">_selection</span><span class="nt">(type, **kwds)</span>
<span class="g g-Whitespace">   </span><span class="mi">1440</span>     <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;&#39;type&#39; must be &#39;point&#39; or &#39;interval&#39;&quot;&quot;&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1441</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1443</span> <span class="k">return</span> <span class="n">param</span><span class="p">(</span><span class="n">select</span><span class="o">=</span><span class="n">select</span><span class="p">,</span> <span class="o">**</span><span class="n">param_kwds</span><span class="p">)</span>

<span class="nn">File /opt/anaconda3/lib/python3.13/site-packages/altair/vegalite/v5/api.py:1413,</span> in <span class="ni">param</span><span class="nt">(name, value, bind, empty, expr, **kwds)</span>
<span class="g g-Whitespace">   </span><span class="mi">1411</span>     <span class="n">parameter</span><span class="o">.</span><span class="n">param_type</span> <span class="o">=</span> <span class="s2">&quot;selection&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1412</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1413</span>     <span class="n">parameter</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">SelectionParameter</span><span class="p">(</span>
<span class="g g-Whitespace">   </span><span class="mi">1414</span>         <span class="n">name</span><span class="o">=</span><span class="n">parameter</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">bind</span><span class="o">=</span><span class="n">bind</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">expr</span><span class="o">=</span><span class="n">expr</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span>
<span class="g g-Whitespace">   </span><span class="mi">1415</span>     <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1416</span>     <span class="n">parameter</span><span class="o">.</span><span class="n">param_type</span> <span class="o">=</span> <span class="s2">&quot;selection&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1418</span> <span class="k">return</span> <span class="n">parameter</span>

<span class="ne">TypeError</span>: altair.vegalite.v5.schema.core.SelectionParameter() got multiple values for keyword argument &#39;value&#39;
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="graphical-marks">
<h2><span class="section-number">2.4. </span>Graphical Marks<a class="headerlink" href="#graphical-marks" title="Link to this heading">#</a></h2>
<p>Our exploration of encoding channels above exclusively uses <code class="docutils literal notranslate"><span class="pre">point</span></code> marks to visualize the data. However, the <code class="docutils literal notranslate"><span class="pre">point</span></code> mark type is only one of the many geometric shapes that can be used to visually represent data. Altair includes a number of built-in mark types, including:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mark_area()</span></code> - Filled areas defined by a top-line and a baseline.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_bar()</span></code> -	Rectangular bars.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_circle()</span></code>	- Scatter plot points as filled circles.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_line()</span></code> - Connected line segments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_point()</span></code> - Scatter plot points with configurable shapes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_rect()</span></code> - Filled rectangles, useful for heatmaps.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_rule()</span></code> - Vertical or horizontal lines spanning the axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_square()</span></code> - Scatter plot points as filled squares.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_text()</span></code> - Scatter plot points represented by text.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mark_tick()</span></code> - Vertical or horizontal tick marks.</p></li>
</ul>
<p>For a complete list, and links to examples, see the <a class="reference external" href="https://altair-viz.github.io/user_guide/marks/index.html">Altair marks documentation</a>. Next, we will step through a number of the most commonly used mark types for statistical graphics.</p>
<section id="point-marks">
<h3><span class="section-number">2.4.1. </span>Point Marks<a class="headerlink" href="#point-marks" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">point</span></code> mark type conveys specific points, as in <em>scatter plots</em> and <em>dot plots</em>. In addition to <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> encoding channels (to specify 2D point positions), point marks can use <code class="docutils literal notranslate"><span class="pre">color</span></code>, <code class="docutils literal notranslate"><span class="pre">size</span></code>, and <code class="docutils literal notranslate"><span class="pre">shape</span></code> encodings to convey additional data fields.</p>
<p>Below is a dot plot of <code class="docutils literal notranslate"><span class="pre">fertility</span></code>, with the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> field redundantly encoded using both the <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">shape</span></code> channels.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Shape</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-4e11d270a9a94b6883c1f1da67bb875f.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-4e11d270a9a94b6883c1f1da67bb875f.vega-embed details,
  #altair-viz-4e11d270a9a94b6883c1f1da67bb875f.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-4e11d270a9a94b6883c1f1da67bb875f"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-4e11d270a9a94b6883c1f1da67bb875f") {
      outputDiv = document.getElementById("altair-viz-4e11d270a9a94b6883c1f1da67bb875f");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point"}, "encoding": {"shape": {"field": "cluster", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "cluster", "type": "nominal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>In addition to encoding channels, marks can be stylized by providing values to the <code class="docutils literal notranslate"><span class="pre">mark_*()</span></code> methods.</p>
<p>For example: point marks are drawn with stroked outlines by default, but can be specified to use <code class="docutils literal notranslate"><span class="pre">filled</span></code> shapes instead. Similarly, you can set a default <code class="docutils literal notranslate"><span class="pre">size</span></code> to set the total pixel area of the point mark.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_point</span><span class="p">(</span><span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Shape</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-80d42a5d46dc463786615c3b6f772048.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-80d42a5d46dc463786615c3b6f772048.vega-embed details,
  #altair-viz-80d42a5d46dc463786615c3b6f772048.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-80d42a5d46dc463786615c3b6f772048"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-80d42a5d46dc463786615c3b6f772048") {
      outputDiv = document.getElementById("altair-viz-80d42a5d46dc463786615c3b6f772048");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "point", "filled": true, "size": 100}, "encoding": {"shape": {"field": "cluster", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "cluster", "type": "nominal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="circle-marks">
<h3><span class="section-number">2.4.2. </span>Circle Marks<a class="headerlink" href="#circle-marks" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">circle</span></code> mark type is a convenient shorthand for <code class="docutils literal notranslate"><span class="pre">point</span></code> marks drawn as filled circles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Shape</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-3dbed0aeea1c4708b826f973f747341c.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-3dbed0aeea1c4708b826f973f747341c.vega-embed details,
  #altair-viz-3dbed0aeea1c4708b826f973f747341c.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-3dbed0aeea1c4708b826f973f747341c"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-3dbed0aeea1c4708b826f973f747341c") {
      outputDiv = document.getElementById("altair-viz-3dbed0aeea1c4708b826f973f747341c");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "circle", "size": 100}, "encoding": {"shape": {"field": "cluster", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "cluster", "type": "nominal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="square-marks">
<h3><span class="section-number">2.4.3. </span>Square Marks<a class="headerlink" href="#square-marks" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">square</span></code> mark type is a convenient shorthand for <code class="docutils literal notranslate"><span class="pre">point</span></code> marks drawn as filled squares.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_square</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Shape</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-8008031a0b964c50b7cb415fccfa3659.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-8008031a0b964c50b7cb415fccfa3659.vega-embed details,
  #altair-viz-8008031a0b964c50b7cb415fccfa3659.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-8008031a0b964c50b7cb415fccfa3659"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-8008031a0b964c50b7cb415fccfa3659") {
      outputDiv = document.getElementById("altair-viz-8008031a0b964c50b7cb415fccfa3659");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "square", "size": 100}, "encoding": {"shape": {"field": "cluster", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "cluster", "type": "nominal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="tick-marks">
<h3><span class="section-number">2.4.4. </span>Tick Marks<a class="headerlink" href="#tick-marks" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">tick</span></code> mark type conveys a data point using a short line segment or “tick”. These are particularly useful for comparing values along a single dimension with minimal overlap. A <em>dot plot</em> drawn with tick marks is sometimes referred to as a <em>strip plot</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_tick</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Shape</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-699c044f123d411d9741c0f7c75906ac.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-699c044f123d411d9741c0f7c75906ac.vega-embed details,
  #altair-viz-699c044f123d411d9741c0f7c75906ac.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-699c044f123d411d9741c0f7c75906ac"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-699c044f123d411d9741c0f7c75906ac") {
      outputDiv = document.getElementById("altair-viz-699c044f123d411d9741c0f7c75906ac");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "tick"}, "encoding": {"shape": {"field": "cluster", "type": "nominal"}, "x": {"field": "fertility", "type": "quantitative"}, "y": {"field": "cluster", "type": "nominal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="bar-marks">
<h3><span class="section-number">2.4.5. </span>Bar Marks<a class="headerlink" href="#bar-marks" title="Link to this heading">#</a></h3>
<p>The `bar` mark type draws a rectangle with a position, width, and height.</p>
<p>The plot below is a simple bar chart of the population (`pop`) of each country.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-c87edfcb2bc74691ab44dcbc890888b2.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-c87edfcb2bc74691ab44dcbc890888b2.vega-embed details,
  #altair-viz-c87edfcb2bc74691ab44dcbc890888b2.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-c87edfcb2bc74691ab44dcbc890888b2"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c87edfcb2bc74691ab44dcbc890888b2") {
      outputDiv = document.getElementById("altair-viz-c87edfcb2bc74691ab44dcbc890888b2");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "bar"}, "encoding": {"x": {"field": "country", "type": "nominal"}, "y": {"field": "pop", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>The bar width is set to a default size. We will discuss how to adjust the bar width later in this notebook. (A subsequent notebook will take a closer look at configuring axes, scales, and legends.)</p>
<p>Bars can also be stacked. Let’s change the <code class="docutils literal notranslate"><span class="pre">x</span></code> encoding to use the <code class="docutils literal notranslate"><span class="pre">cluster</span></code> field, and encode <code class="docutils literal notranslate"><span class="pre">country</span></code> using the <code class="docutils literal notranslate"><span class="pre">color</span></code> channel. We’ll also disable the legend (which would be very long with colors for all countries!) and use tooltips for the country name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-90ecfe75812f4bb8a1fc31e597b5cdc7.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-90ecfe75812f4bb8a1fc31e597b5cdc7.vega-embed details,
  #altair-viz-90ecfe75812f4bb8a1fc31e597b5cdc7.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-90ecfe75812f4bb8a1fc31e597b5cdc7"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-90ecfe75812f4bb8a1fc31e597b5cdc7") {
      outputDiv = document.getElementById("altair-viz-90ecfe75812f4bb8a1fc31e597b5cdc7");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "bar"}, "encoding": {"color": {"field": "country", "legend": null, "type": "nominal"}, "tooltip": {"field": "country", "type": "nominal"}, "x": {"field": "cluster", "type": "nominal"}, "y": {"field": "pop", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>In the chart above, the use of the <code class="docutils literal notranslate"><span class="pre">color</span></code> encoding channel causes Altair / Vega-Lite to automatically stack the bar marks. Otherwise, bars would be drawn on top of each other! Try adding the parameter <code class="docutils literal notranslate"><span class="pre">stack=None</span></code> to the <code class="docutils literal notranslate"><span class="pre">y</span></code> encoding channel to see what happens if we don’t apply stacking…</p>
<p>The examples above create bar charts from a zero-baseline, and the <code class="docutils literal notranslate"><span class="pre">y</span></code> channel only encodes the non-zero value (or height) of the bar. However, the bar mark also allows you to specify starting and ending points to convey ranges.</p>
<p>The chart below uses the <code class="docutils literal notranslate"><span class="pre">x</span></code> (starting point) and <code class="docutils literal notranslate"><span class="pre">x2</span></code> (ending point) channels to show the range of life expectancies within each regional cluster. Below we use the <code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> aggregation functions to determine the end points of the range; we will discuss aggregation in greater detail in the next notebook!</p>
<p>Alternatively, you can use <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">width</span></code> to provide a starting point plus offset, such that <code class="docutils literal notranslate"><span class="pre">x2</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">width</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data2000</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;min(life_expect):Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X2</span><span class="p">(</span><span class="s1">&#39;max(life_expect):Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;cluster:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-c6be1f99d70a4c40a8bf535eda158ea6.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-c6be1f99d70a4c40a8bf535eda158ea6.vega-embed details,
  #altair-viz-c6be1f99d70a4c40a8bf535eda158ea6.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-c6be1f99d70a4c40a8bf535eda158ea6"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c6be1f99d70a4c40a8bf535eda158ea6") {
      outputDiv = document.getElementById("altair-viz-c6be1f99d70a4c40a8bf535eda158ea6");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-cb7987c6e81b351f02ce1bc274364c30"}, "mark": {"type": "bar"}, "encoding": {"x": {"aggregate": "min", "field": "life_expect", "type": "quantitative"}, "x2": {"aggregate": "max", "field": "life_expect"}, "y": {"field": "cluster", "type": "nominal"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-cb7987c6e81b351f02ce1bc274364c30": [{"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="line-marks">
<h3><span class="section-number">2.4.6. </span>Line Marks<a class="headerlink" href="#line-marks" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">line</span></code> mark type connects plotted points with line segments, for example so that a line’s slope conveys information about the rate of change.</p>
<p>Let’s plot a line chart of fertility per country over the years, using the full, unfiltered global development data frame. We’ll again hide the legend and use tooltips instead.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">400</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-9cc3da4477d245f0b4da1135bf6872c3.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-9cc3da4477d245f0b4da1135bf6872c3.vega-embed details,
  #altair-viz-9cc3da4477d245f0b4da1135bf6872c3.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-9cc3da4477d245f0b4da1135bf6872c3"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-9cc3da4477d245f0b4da1135bf6872c3") {
      outputDiv = document.getElementById("altair-viz-9cc3da4477d245f0b4da1135bf6872c3");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-470debe790b2207869b38a22347b358b"}, "mark": {"type": "line"}, "encoding": {"color": {"field": "country", "legend": null, "type": "nominal"}, "tooltip": {"field": "country", "type": "nominal"}, "x": {"field": "year", "type": "ordinal"}, "y": {"field": "fertility", "type": "quantitative"}}, "width": 400, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-470debe790b2207869b38a22347b358b": [{"year": 1955, "country": "Afghanistan", "cluster": 0, "pop": 8891209, "life_expect": 30.332, "fertility": 7.7}, {"year": 1960, "country": "Afghanistan", "cluster": 0, "pop": 9829450, "life_expect": 31.997, "fertility": 7.7}, {"year": 1965, "country": "Afghanistan", "cluster": 0, "pop": 10997885, "life_expect": 34.02, "fertility": 7.7}, {"year": 1970, "country": "Afghanistan", "cluster": 0, "pop": 12430623, "life_expect": 36.088, "fertility": 7.7}, {"year": 1975, "country": "Afghanistan", "cluster": 0, "pop": 14132019, "life_expect": 38.438, "fertility": 7.7}, {"year": 1980, "country": "Afghanistan", "cluster": 0, "pop": 15112149, "life_expect": 39.854, "fertility": 7.8}, {"year": 1985, "country": "Afghanistan", "cluster": 0, "pop": 13796928, "life_expect": 40.822, "fertility": 7.9}, {"year": 1990, "country": "Afghanistan", "cluster": 0, "pop": 14669339, "life_expect": 41.674, "fertility": 8.0}, {"year": 1995, "country": "Afghanistan", "cluster": 0, "pop": 20881480, "life_expect": 41.763, "fertility": 8.0}, {"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2005, "country": "Afghanistan", "cluster": 0, "pop": 29928987, "life_expect": 43.828, "fertility": 7.0685}, {"year": 1955, "country": "Argentina", "cluster": 3, "pop": 18927821, "life_expect": 64.399, "fertility": 3.1265}, {"year": 1960, "country": "Argentina", "cluster": 3, "pop": 20616009, "life_expect": 65.142, "fertility": 3.0895}, {"year": 1965, "country": "Argentina", "cluster": 3, "pop": 22283100, "life_expect": 65.634, "fertility": 3.049}, {"year": 1970, "country": "Argentina", "cluster": 3, "pop": 23962313, "life_expect": 67.065, "fertility": 3.1455}, {"year": 1975, "country": "Argentina", "cluster": 3, "pop": 26081880, "life_expect": 68.481, "fertility": 3.44}, {"year": 1980, "country": "Argentina", "cluster": 3, "pop": 28369799, "life_expect": 69.942, "fertility": 3.15}, {"year": 1985, "country": "Argentina", "cluster": 3, "pop": 30675059, "life_expect": 70.774, "fertility": 3.053}, {"year": 1990, "country": "Argentina", "cluster": 3, "pop": 33022202, "life_expect": 71.868, "fertility": 2.9}, {"year": 1995, "country": "Argentina", "cluster": 3, "pop": 35311049, "life_expect": 73.275, "fertility": 2.63}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2005, "country": "Argentina", "cluster": 3, "pop": 39537943, "life_expect": 75.32, "fertility": 2.254}, {"year": 1955, "country": "Aruba", "cluster": 3, "pop": 53865, "life_expect": 64.381, "fertility": 5.15}, {"year": 1960, "country": "Aruba", "cluster": 3, "pop": 57203, "life_expect": 66.606, "fertility": 4.399}, {"year": 1965, "country": "Aruba", "cluster": 3, "pop": 59020, "life_expect": 68.336, "fertility": 3.301}, {"year": 1970, "country": "Aruba", "cluster": 3, "pop": 59039, "life_expect": 70.941, "fertility": 2.651}, {"year": 1975, "country": "Aruba", "cluster": 3, "pop": 59390, "life_expect": 71.83, "fertility": 2.45}, {"year": 1980, "country": "Aruba", "cluster": 3, "pop": 60266, "life_expect": 74.116, "fertility": 2.358}, {"year": 1985, "country": "Aruba", "cluster": 3, "pop": 64129, "life_expect": 74.494, "fertility": 2.3}, {"year": 1990, "country": "Aruba", "cluster": 3, "pop": 66653, "life_expect": 74.108, "fertility": 2.28}, {"year": 1995, "country": "Aruba", "cluster": 3, "pop": 67836, "life_expect": 73.011, "fertility": 2.208}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2005, "country": "Aruba", "cluster": 3, "pop": 71566, "life_expect": 74.239, "fertility": 2.04}, {"year": 1955, "country": "Australia", "cluster": 4, "pop": 9277087, "life_expect": 70.33, "fertility": 3.406}, {"year": 1960, "country": "Australia", "cluster": 4, "pop": 10361273, "life_expect": 70.93, "fertility": 3.274}, {"year": 1965, "country": "Australia", "cluster": 4, "pop": 11439384, "life_expect": 71.1, "fertility": 2.871}, {"year": 1970, "country": "Australia", "cluster": 4, "pop": 12660160, "life_expect": 71.93, "fertility": 2.535}, {"year": 1975, "country": "Australia", "cluster": 4, "pop": 13771400, "life_expect": 73.49, "fertility": 1.989}, {"year": 1980, "country": "Australia", "cluster": 4, "pop": 14615900, "life_expect": 74.74, "fertility": 1.907}, {"year": 1985, "country": "Australia", "cluster": 4, "pop": 15788300, "life_expect": 76.32, "fertility": 1.859}, {"year": 1990, "country": "Australia", "cluster": 4, "pop": 17022133, "life_expect": 77.56, "fertility": 1.86}, {"year": 1995, "country": "Australia", "cluster": 4, "pop": 18116171, "life_expect": 78.83, "fertility": 1.776}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2005, "country": "Australia", "cluster": 4, "pop": 20090437, "life_expect": 81.235, "fertility": 1.788}, {"year": 1955, "country": "Austria", "cluster": 1, "pop": 6946885, "life_expect": 67.48, "fertility": 2.52}, {"year": 1960, "country": "Austria", "cluster": 1, "pop": 7047437, "life_expect": 69.54, "fertility": 2.78}, {"year": 1965, "country": "Austria", "cluster": 1, "pop": 7270889, "life_expect": 70.14, "fertility": 2.53}, {"year": 1970, "country": "Austria", "cluster": 1, "pop": 7467086, "life_expect": 70.63, "fertility": 2.02}, {"year": 1975, "country": "Austria", "cluster": 1, "pop": 7578903, "life_expect": 72.17, "fertility": 1.6400000000000001}, {"year": 1980, "country": "Austria", "cluster": 1, "pop": 7549433, "life_expect": 73.18, "fertility": 1.62}, {"year": 1985, "country": "Austria", "cluster": 1, "pop": 7559776, "life_expect": 74.94, "fertility": 1.45}, {"year": 1990, "country": "Austria", "cluster": 1, "pop": 7722953, "life_expect": 76.04, "fertility": 1.47}, {"year": 1995, "country": "Austria", "cluster": 1, "pop": 8047433, "life_expect": 77.51, "fertility": 1.388}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2005, "country": "Austria", "cluster": 1, "pop": 8184691, "life_expect": 79.829, "fertility": 1.42}, {"year": 1955, "country": "Bahamas", "cluster": 3, "pop": 87138, "life_expect": 62.405, "fertility": 4.305}, {"year": 1960, "country": "Bahamas", "cluster": 3, "pop": 112234, "life_expect": 64.209, "fertility": 4.503}, {"year": 1965, "country": "Bahamas", "cluster": 3, "pop": 139205, "life_expect": 65.795, "fertility": 3.794}, {"year": 1970, "country": "Bahamas", "cluster": 3, "pop": 170323, "life_expect": 66.515, "fertility": 3.444}, {"year": 1975, "country": "Bahamas", "cluster": 3, "pop": 189139, "life_expect": 67.199, "fertility": 3.221}, {"year": 1980, "country": "Bahamas", "cluster": 3, "pop": 209944, "life_expect": 67.874, "fertility": 3.16}, {"year": 1985, "country": "Bahamas", "cluster": 3, "pop": 234988, "life_expect": 69.524, "fertility": 2.62}, {"year": 1990, "country": "Bahamas", "cluster": 3, "pop": 257253, "life_expect": 69.171, "fertility": 2.6}, {"year": 1995, "country": "Bahamas", "cluster": 3, "pop": 275303, "life_expect": 68.472, "fertility": 2.4}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2005, "country": "Bahamas", "cluster": 3, "pop": 301790, "life_expect": 73.495, "fertility": 2.0221}, {"year": 1955, "country": "Bangladesh", "cluster": 0, "pop": 49601520, "life_expect": 39.348, "fertility": 6.76}, {"year": 1960, "country": "Bangladesh", "cluster": 0, "pop": 54621538, "life_expect": 41.216, "fertility": 6.85}, {"year": 1965, "country": "Bangladesh", "cluster": 0, "pop": 60332117, "life_expect": 43.453, "fertility": 6.6}, {"year": 1970, "country": "Bangladesh", "cluster": 0, "pop": 67402621, "life_expect": 45.252, "fertility": 6.15}, {"year": 1975, "country": "Bangladesh", "cluster": 0, "pop": 76253310, "life_expect": 46.923, "fertility": 5.6}, {"year": 1980, "country": "Bangladesh", "cluster": 0, "pop": 88076996, "life_expect": 50.009, "fertility": 5.25}, {"year": 1985, "country": "Bangladesh", "cluster": 0, "pop": 99752733, "life_expect": 52.819, "fertility": 4.6290000000000004}, {"year": 1990, "country": "Bangladesh", "cluster": 0, "pop": 109896945, "life_expect": 56.018, "fertility": 4.117}, {"year": 1995, "country": "Bangladesh", "cluster": 0, "pop": 119186448, "life_expect": 59.412, "fertility": 3.5043}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2005, "country": "Bangladesh", "cluster": 0, "pop": 144319628, "life_expect": 64.062, "fertility": 2.826}, {"year": 1955, "country": "Barbados", "cluster": 3, "pop": 227255, "life_expect": 62.57, "fertility": 4.67}, {"year": 1960, "country": "Barbados", "cluster": 3, "pop": 232339, "life_expect": 65.87, "fertility": 4.26}, {"year": 1965, "country": "Barbados", "cluster": 3, "pop": 234980, "life_expect": 67.62, "fertility": 3.45}, {"year": 1970, "country": "Barbados", "cluster": 3, "pop": 238756, "life_expect": 69.42, "fertility": 2.74}, {"year": 1975, "country": "Barbados", "cluster": 3, "pop": 247147, "life_expect": 71.27, "fertility": 2.19}, {"year": 1980, "country": "Barbados", "cluster": 3, "pop": 251966, "life_expect": 72.695, "fertility": 1.92}, {"year": 1985, "country": "Barbados", "cluster": 3, "pop": 257446, "life_expect": 74.027, "fertility": 1.75}, {"year": 1990, "country": "Barbados", "cluster": 3, "pop": 262624, "life_expect": 74.894, "fertility": 1.6}, {"year": 1995, "country": "Barbados", "cluster": 3, "pop": 267907, "life_expect": 74.912, "fertility": 1.5}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2005, "country": "Barbados", "cluster": 3, "pop": 278870, "life_expect": 77.296, "fertility": 1.5}, {"year": 1955, "country": "Belgium", "cluster": 1, "pop": 8868475, "life_expect": 69.24, "fertility": 2.496}, {"year": 1960, "country": "Belgium", "cluster": 1, "pop": 9118700, "life_expect": 70.25, "fertility": 2.644}, {"year": 1965, "country": "Belgium", "cluster": 1, "pop": 9448100, "life_expect": 70.94, "fertility": 2.392}, {"year": 1970, "country": "Belgium", "cluster": 1, "pop": 9637800, "life_expect": 71.44, "fertility": 2.015}, {"year": 1975, "country": "Belgium", "cluster": 1, "pop": 9794800, "life_expect": 72.8, "fertility": 1.705}, {"year": 1980, "country": "Belgium", "cluster": 1, "pop": 9846800, "life_expect": 73.93, "fertility": 1.595}, {"year": 1985, "country": "Belgium", "cluster": 1, "pop": 9858200, "life_expect": 75.35, "fertility": 1.559}, {"year": 1990, "country": "Belgium", "cluster": 1, "pop": 9969310, "life_expect": 76.46, "fertility": 1.613}, {"year": 1995, "country": "Belgium", "cluster": 1, "pop": 10155459, "life_expect": 77.53, "fertility": 1.604}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2005, "country": "Belgium", "cluster": 1, "pop": 10364388, "life_expect": 79.441, "fertility": 1.646}, {"year": 1955, "country": "Bolivia", "cluster": 3, "pop": 3074311, "life_expect": 41.89, "fertility": 6.75}, {"year": 1960, "country": "Bolivia", "cluster": 3, "pop": 3434073, "life_expect": 43.428, "fertility": 6.63}, {"year": 1965, "country": "Bolivia", "cluster": 3, "pop": 3853315, "life_expect": 45.032, "fertility": 6.56}, {"year": 1970, "country": "Bolivia", "cluster": 3, "pop": 4346218, "life_expect": 46.714, "fertility": 6.5}, {"year": 1975, "country": "Bolivia", "cluster": 3, "pop": 4914316, "life_expect": 50.023, "fertility": 5.8}, {"year": 1980, "country": "Bolivia", "cluster": 3, "pop": 5441298, "life_expect": 53.859, "fertility": 5.2995}, {"year": 1985, "country": "Bolivia", "cluster": 3, "pop": 5934935, "life_expect": 57.251, "fertility": 5.0}, {"year": 1990, "country": "Bolivia", "cluster": 3, "pop": 6573900, "life_expect": 59.957, "fertility": 4.8}, {"year": 1995, "country": "Bolivia", "cluster": 3, "pop": 7376582, "life_expect": 62.05, "fertility": 4.324}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2005, "country": "Bolivia", "cluster": 3, "pop": 8857870, "life_expect": 65.554, "fertility": 3.5}, {"year": 1955, "country": "Brazil", "cluster": 3, "pop": 61773546, "life_expect": 53.285, "fertility": 6.1501}, {"year": 1960, "country": "Brazil", "cluster": 3, "pop": 71694810, "life_expect": 55.665, "fertility": 6.1501}, {"year": 1965, "country": "Brazil", "cluster": 3, "pop": 83092908, "life_expect": 57.632, "fertility": 5.38}, {"year": 1970, "country": "Brazil", "cluster": 3, "pop": 95684297, "life_expect": 59.504, "fertility": 4.7175}, {"year": 1975, "country": "Brazil", "cluster": 3, "pop": 108823732, "life_expect": 61.489, "fertility": 4.305}, {"year": 1980, "country": "Brazil", "cluster": 3, "pop": 122958132, "life_expect": 63.336, "fertility": 3.8}, {"year": 1985, "country": "Brazil", "cluster": 3, "pop": 137302933, "life_expect": 65.205, "fertility": 3.1}, {"year": 1990, "country": "Brazil", "cluster": 3, "pop": 151083809, "life_expect": 67.057, "fertility": 2.6}, {"year": 1995, "country": "Brazil", "cluster": 3, "pop": 163542501, "life_expect": 69.388, "fertility": 2.45}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2005, "country": "Brazil", "cluster": 3, "pop": 186112794, "life_expect": 72.39, "fertility": 2.245}, {"year": 1955, "country": "Canada", "cluster": 3, "pop": 16050356, "life_expect": 69.96, "fertility": 3.882}, {"year": 1960, "country": "Canada", "cluster": 3, "pop": 18266765, "life_expect": 71.3, "fertility": 3.675}, {"year": 1965, "country": "Canada", "cluster": 3, "pop": 20071104, "life_expect": 72.13, "fertility": 2.61}, {"year": 1970, "country": "Canada", "cluster": 3, "pop": 21749986, "life_expect": 72.88, "fertility": 1.976}, {"year": 1975, "country": "Canada", "cluster": 3, "pop": 23209200, "life_expect": 74.21, "fertility": 1.734}, {"year": 1980, "country": "Canada", "cluster": 3, "pop": 24593300, "life_expect": 75.76, "fertility": 1.6340000000000001}, {"year": 1985, "country": "Canada", "cluster": 3, "pop": 25941600, "life_expect": 76.86, "fertility": 1.616}, {"year": 1990, "country": "Canada", "cluster": 3, "pop": 27790600, "life_expect": 77.95, "fertility": 1.694}, {"year": 1995, "country": "Canada", "cluster": 3, "pop": 29619002, "life_expect": 78.61, "fertility": 1.564}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2005, "country": "Canada", "cluster": 3, "pop": 32805041, "life_expect": 80.653, "fertility": 1.527}, {"year": 1955, "country": "Chile", "cluster": 3, "pop": 6743269, "life_expect": 56.074, "fertility": 5.486}, {"year": 1960, "country": "Chile", "cluster": 3, "pop": 7585349, "life_expect": 57.924, "fertility": 5.4385}, {"year": 1965, "country": "Chile", "cluster": 3, "pop": 8509950, "life_expect": 60.523, "fertility": 4.4405}, {"year": 1970, "country": "Chile", "cluster": 3, "pop": 9368558, "life_expect": 63.441, "fertility": 3.63}, {"year": 1975, "country": "Chile", "cluster": 3, "pop": 10251542, "life_expect": 67.052, "fertility": 2.803}, {"year": 1980, "country": "Chile", "cluster": 3, "pop": 11093718, "life_expect": 70.565, "fertility": 2.671}, {"year": 1985, "country": "Chile", "cluster": 3, "pop": 12066701, "life_expect": 72.492, "fertility": 2.65}, {"year": 1990, "country": "Chile", "cluster": 3, "pop": 13127760, "life_expect": 74.126, "fertility": 2.55}, {"year": 1995, "country": "Chile", "cluster": 3, "pop": 14205449, "life_expect": 75.816, "fertility": 2.21}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2005, "country": "Chile", "cluster": 3, "pop": 15980912, "life_expect": 78.553, "fertility": 1.944}, {"year": 1955, "country": "China", "cluster": 4, "pop": 608655000, "life_expect": 50.54896, "fertility": 5.59}, {"year": 1960, "country": "China", "cluster": 4, "pop": 667070000, "life_expect": 44.50136, "fertility": 5.72}, {"year": 1965, "country": "China", "cluster": 4, "pop": 715185000, "life_expect": 58.38112, "fertility": 6.06}, {"year": 1970, "country": "China", "cluster": 4, "pop": 818315000, "life_expect": 63.11888, "fertility": 4.86}, {"year": 1975, "country": "China", "cluster": 4, "pop": 916395000, "life_expect": 63.96736, "fertility": 3.32}, {"year": 1980, "country": "China", "cluster": 4, "pop": 981235000, "life_expect": 65.525, "fertility": 2.55}, {"year": 1985, "country": "China", "cluster": 4, "pop": 1051040000, "life_expect": 67.274, "fertility": 2.46}, {"year": 1990, "country": "China", "cluster": 4, "pop": 1135185000, "life_expect": 68.69, "fertility": 1.92}, {"year": 1995, "country": "China", "cluster": 4, "pop": 1204855000, "life_expect": 70.426, "fertility": 1.781}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2005, "country": "China", "cluster": 4, "pop": 1303182268, "life_expect": 72.961, "fertility": 1.725}, {"year": 1955, "country": "Colombia", "cluster": 3, "pop": 13588405, "life_expect": 55.118, "fertility": 6.76}, {"year": 1960, "country": "Colombia", "cluster": 3, "pop": 15952727, "life_expect": 57.863, "fertility": 6.76}, {"year": 1965, "country": "Colombia", "cluster": 3, "pop": 18646175, "life_expect": 59.963, "fertility": 6.18}, {"year": 1970, "country": "Colombia", "cluster": 3, "pop": 21429658, "life_expect": 61.623, "fertility": 5.0005}, {"year": 1975, "country": "Colombia", "cluster": 3, "pop": 24114177, "life_expect": 63.837, "fertility": 4.3385}, {"year": 1980, "country": "Colombia", "cluster": 3, "pop": 26582811, "life_expect": 66.653, "fertility": 3.685}, {"year": 1985, "country": "Colombia", "cluster": 3, "pop": 29678395, "life_expect": 67.768, "fertility": 3.172}, {"year": 1990, "country": "Colombia", "cluster": 3, "pop": 32858579, "life_expect": 68.421, "fertility": 2.93005}, {"year": 1995, "country": "Colombia", "cluster": 3, "pop": 36280883, "life_expect": 70.313, "fertility": 2.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2005, "country": "Colombia", "cluster": 3, "pop": 42954279, "life_expect": 72.889, "fertility": 2.2205}, {"year": 1955, "country": "Costa Rica", "cluster": 3, "pop": 1031782, "life_expect": 60.026, "fertility": 7.1135}, {"year": 1960, "country": "Costa Rica", "cluster": 3, "pop": 1248022, "life_expect": 62.842, "fertility": 7.2245}, {"year": 1965, "country": "Costa Rica", "cluster": 3, "pop": 1487605, "life_expect": 65.424, "fertility": 5.801}, {"year": 1970, "country": "Costa Rica", "cluster": 3, "pop": 1735523, "life_expect": 67.849, "fertility": 4.346}, {"year": 1975, "country": "Costa Rica", "cluster": 3, "pop": 1991580, "life_expect": 70.75, "fertility": 3.7755}, {"year": 1980, "country": "Costa Rica", "cluster": 3, "pop": 2299124, "life_expect": 73.45, "fertility": 3.527}, {"year": 1985, "country": "Costa Rica", "cluster": 3, "pop": 2643808, "life_expect": 74.752, "fertility": 3.374}, {"year": 1990, "country": "Costa Rica", "cluster": 3, "pop": 3027175, "life_expect": 75.713, "fertility": 2.945}, {"year": 1995, "country": "Costa Rica", "cluster": 3, "pop": 3383786, "life_expect": 77.26, "fertility": 2.5835}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2005, "country": "Costa Rica", "cluster": 3, "pop": 4016173, "life_expect": 78.782, "fertility": 2.0985}, {"year": 1955, "country": "Croatia", "cluster": 1, "pop": 3955526, "life_expect": 64.77, "fertility": 2.42}, {"year": 1960, "country": "Croatia", "cluster": 1, "pop": 4036145, "life_expect": 67.13, "fertility": 2.27}, {"year": 1965, "country": "Croatia", "cluster": 1, "pop": 4133313, "life_expect": 68.5, "fertility": 2.09}, {"year": 1970, "country": "Croatia", "cluster": 1, "pop": 4205389, "life_expect": 69.61, "fertility": 1.96}, {"year": 1975, "country": "Croatia", "cluster": 1, "pop": 4255000, "life_expect": 70.64, "fertility": 2.02}, {"year": 1980, "country": "Croatia", "cluster": 1, "pop": 4383000, "life_expect": 70.46, "fertility": 1.96}, {"year": 1985, "country": "Croatia", "cluster": 1, "pop": 4457874, "life_expect": 71.52, "fertility": 1.84}, {"year": 1990, "country": "Croatia", "cluster": 1, "pop": 4508347, "life_expect": 72.527, "fertility": 1.52}, {"year": 1995, "country": "Croatia", "cluster": 1, "pop": 4496683, "life_expect": 73.68, "fertility": 1.537}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2005, "country": "Croatia", "cluster": 1, "pop": 4495904, "life_expect": 75.748, "fertility": 1.346}, {"year": 1955, "country": "Cuba", "cluster": 3, "pop": 6381106, "life_expect": 62.325, "fertility": 3.6995}, {"year": 1960, "country": "Cuba", "cluster": 3, "pop": 7027210, "life_expect": 65.246, "fertility": 4.6805}, {"year": 1965, "country": "Cuba", "cluster": 3, "pop": 7809916, "life_expect": 68.29, "fertility": 4.3}, {"year": 1970, "country": "Cuba", "cluster": 3, "pop": 8542746, "life_expect": 70.723, "fertility": 3.6}, {"year": 1975, "country": "Cuba", "cluster": 3, "pop": 9290074, "life_expect": 72.649, "fertility": 2.15}, {"year": 1980, "country": "Cuba", "cluster": 3, "pop": 9652975, "life_expect": 73.717, "fertility": 1.8495000000000001}, {"year": 1985, "country": "Cuba", "cluster": 3, "pop": 10078658, "life_expect": 74.174, "fertility": 1.8495000000000001}, {"year": 1990, "country": "Cuba", "cluster": 3, "pop": 10544793, "life_expect": 74.414, "fertility": 1.6505}, {"year": 1995, "country": "Cuba", "cluster": 3, "pop": 10896802, "life_expect": 76.151, "fertility": 1.6095}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2005, "country": "Cuba", "cluster": 3, "pop": 11346670, "life_expect": 78.273, "fertility": 1.49}, {"year": 1955, "country": "Dominican Republic", "cluster": 3, "pop": 2737257, "life_expect": 49.828, "fertility": 7.6405}, {"year": 1960, "country": "Dominican Republic", "cluster": 3, "pop": 3231488, "life_expect": 53.459, "fertility": 7.3505}, {"year": 1965, "country": "Dominican Republic", "cluster": 3, "pop": 3805881, "life_expect": 56.751, "fertility": 6.6495}, {"year": 1970, "country": "Dominican Republic", "cluster": 3, "pop": 4422755, "life_expect": 59.631, "fertility": 5.71}, {"year": 1975, "country": "Dominican Republic", "cluster": 3, "pop": 5048499, "life_expect": 61.788, "fertility": 4.76}, {"year": 1980, "country": "Dominican Republic", "cluster": 3, "pop": 5696855, "life_expect": 63.727, "fertility": 4.0}, {"year": 1985, "country": "Dominican Republic", "cluster": 3, "pop": 6377765, "life_expect": 66.046, "fertility": 3.47}, {"year": 1990, "country": "Dominican Republic", "cluster": 3, "pop": 7077651, "life_expect": 68.457, "fertility": 3.1995}, {"year": 1995, "country": "Dominican Republic", "cluster": 3, "pop": 7730224, "life_expect": 69.957, "fertility": 3.05}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2005, "country": "Dominican Republic", "cluster": 3, "pop": 9049595, "life_expect": 72.235, "fertility": 2.81}, {"year": 1955, "country": "Ecuador", "cluster": 3, "pop": 3842399, "life_expect": 51.356, "fertility": 6.7}, {"year": 1960, "country": "Ecuador", "cluster": 3, "pop": 4415956, "life_expect": 54.64, "fertility": 6.7}, {"year": 1965, "country": "Ecuador", "cluster": 3, "pop": 5117779, "life_expect": 56.678, "fertility": 6.5}, {"year": 1970, "country": "Ecuador", "cluster": 3, "pop": 5939246, "life_expect": 58.796, "fertility": 6.0005}, {"year": 1975, "country": "Ecuador", "cluster": 3, "pop": 6871698, "life_expect": 61.31, "fertility": 5.4005}, {"year": 1980, "country": "Ecuador", "cluster": 3, "pop": 7920499, "life_expect": 64.342, "fertility": 4.7005}, {"year": 1985, "country": "Ecuador", "cluster": 3, "pop": 9061664, "life_expect": 67.231, "fertility": 4.0}, {"year": 1990, "country": "Ecuador", "cluster": 3, "pop": 10318036, "life_expect": 69.613, "fertility": 3.4005}, {"year": 1995, "country": "Ecuador", "cluster": 3, "pop": 11438004, "life_expect": 72.312, "fertility": 3.1}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2005, "country": "Ecuador", "cluster": 3, "pop": 13363593, "life_expect": 74.994, "fertility": 2.578}, {"year": 1955, "country": "Egypt", "cluster": 5, "pop": 23855527, "life_expect": 44.444, "fertility": 6.97}, {"year": 1960, "country": "Egypt", "cluster": 5, "pop": 26846610, "life_expect": 46.992, "fertility": 7.073}, {"year": 1965, "country": "Egypt", "cluster": 5, "pop": 30265148, "life_expect": 49.293, "fertility": 6.56}, {"year": 1970, "country": "Egypt", "cluster": 5, "pop": 33574026, "life_expect": 51.137, "fertility": 5.855}, {"year": 1975, "country": "Egypt", "cluster": 5, "pop": 36952499, "life_expect": 53.319, "fertility": 5.609}, {"year": 1980, "country": "Egypt", "cluster": 5, "pop": 42634215, "life_expect": 56.006, "fertility": 5.332}, {"year": 1985, "country": "Egypt", "cluster": 5, "pop": 50052381, "life_expect": 59.797, "fertility": 4.833}, {"year": 1990, "country": "Egypt", "cluster": 5, "pop": 56694413, "life_expect": 63.674, "fertility": 3.908}, {"year": 1995, "country": "Egypt", "cluster": 5, "pop": 63321615, "life_expect": 67.217, "fertility": 3.5}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2005, "country": "Egypt", "cluster": 5, "pop": 77505756, "life_expect": 71.338, "fertility": 2.891}, {"year": 1955, "country": "El Salvador", "cluster": 3, "pop": 2221139, "life_expect": 48.57, "fertility": 6.8065}, {"year": 1960, "country": "El Salvador", "cluster": 3, "pop": 2581583, "life_expect": 52.307, "fertility": 6.847}, {"year": 1965, "country": "El Salvador", "cluster": 3, "pop": 3017852, "life_expect": 55.855, "fertility": 6.621}, {"year": 1970, "country": "El Salvador", "cluster": 3, "pop": 3603907, "life_expect": 58.207, "fertility": 6.0995}, {"year": 1975, "country": "El Salvador", "cluster": 3, "pop": 4071179, "life_expect": 56.696, "fertility": 5.5996}, {"year": 1980, "country": "El Salvador", "cluster": 3, "pop": 4566199, "life_expect": 56.604, "fertility": 4.5}, {"year": 1985, "country": "El Salvador", "cluster": 3, "pop": 4664361, "life_expect": 63.154, "fertility": 3.901}, {"year": 1990, "country": "El Salvador", "cluster": 3, "pop": 5099884, "life_expect": 66.798, "fertility": 3.52}, {"year": 1995, "country": "El Salvador", "cluster": 3, "pop": 5568437, "life_expect": 69.535, "fertility": 3.17}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2005, "country": "El Salvador", "cluster": 3, "pop": 6704932, "life_expect": 71.878, "fertility": 2.6825}, {"year": 1955, "country": "Finland", "cluster": 1, "pop": 4234900, "life_expect": 67.49, "fertility": 2.769}, {"year": 1960, "country": "Finland", "cluster": 1, "pop": 4429600, "life_expect": 68.75, "fertility": 2.66}, {"year": 1965, "country": "Finland", "cluster": 1, "pop": 4563732, "life_expect": 69.83, "fertility": 2.191}, {"year": 1970, "country": "Finland", "cluster": 1, "pop": 4606307, "life_expect": 70.87, "fertility": 1.623}, {"year": 1975, "country": "Finland", "cluster": 1, "pop": 4711439, "life_expect": 72.52, "fertility": 1.663}, {"year": 1980, "country": "Finland", "cluster": 1, "pop": 4779535, "life_expect": 74.55, "fertility": 1.685}, {"year": 1985, "country": "Finland", "cluster": 1, "pop": 4901783, "life_expect": 74.83, "fertility": 1.66}, {"year": 1990, "country": "Finland", "cluster": 1, "pop": 4986431, "life_expect": 75.7, "fertility": 1.819}, {"year": 1995, "country": "Finland", "cluster": 1, "pop": 5104654, "life_expect": 77.13, "fertility": 1.743}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2005, "country": "Finland", "cluster": 1, "pop": 5223442, "life_expect": 79.313, "fertility": 1.825}, {"year": 1955, "country": "France", "cluster": 1, "pop": 43427669, "life_expect": 68.93, "fertility": 2.712}, {"year": 1960, "country": "France", "cluster": 1, "pop": 45670000, "life_expect": 70.51, "fertility": 2.85}, {"year": 1965, "country": "France", "cluster": 1, "pop": 48763000, "life_expect": 71.55, "fertility": 2.607}, {"year": 1970, "country": "France", "cluster": 1, "pop": 50787000, "life_expect": 72.38, "fertility": 2.31}, {"year": 1975, "country": "France", "cluster": 1, "pop": 52758427, "life_expect": 73.83, "fertility": 1.862}, {"year": 1980, "country": "France", "cluster": 1, "pop": 53869743, "life_expect": 74.89, "fertility": 1.866}, {"year": 1985, "country": "France", "cluster": 1, "pop": 55171224, "life_expect": 76.34, "fertility": 1.805}, {"year": 1990, "country": "France", "cluster": 1, "pop": 56735161, "life_expect": 77.46, "fertility": 1.713}, {"year": 1995, "country": "France", "cluster": 1, "pop": 58149727, "life_expect": 78.64, "fertility": 1.7624}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2005, "country": "France", "cluster": 1, "pop": 60656178, "life_expect": 80.657, "fertility": 1.8916}, {"year": 1955, "country": "Georgia", "cluster": 1, "pop": 3827154, "life_expect": 62.625, "fertility": 2.909}, {"year": 1960, "country": "Georgia", "cluster": 1, "pop": 4146570, "life_expect": 64.644, "fertility": 2.979}, {"year": 1965, "country": "Georgia", "cluster": 1, "pop": 4464959, "life_expect": 66.654, "fertility": 2.611}, {"year": 1970, "country": "Georgia", "cluster": 1, "pop": 4694491, "life_expect": 68.158, "fertility": 2.601}, {"year": 1975, "country": "Georgia", "cluster": 1, "pop": 4897656, "life_expect": 69.634, "fertility": 2.39}, {"year": 1980, "country": "Georgia", "cluster": 1, "pop": 5045697, "life_expect": 69.638, "fertility": 2.269}, {"year": 1985, "country": "Georgia", "cluster": 1, "pop": 5192957, "life_expect": 70.45, "fertility": 2.263}, {"year": 1990, "country": "Georgia", "cluster": 1, "pop": 5426207, "life_expect": 70.465, "fertility": 1.95}, {"year": 1995, "country": "Georgia", "cluster": 1, "pop": 5012952, "life_expect": 70.49, "fertility": 1.58}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2005, "country": "Georgia", "cluster": 1, "pop": 4677401, "life_expect": 70.987, "fertility": 1.407}, {"year": 1955, "country": "Germany", "cluster": 1, "pop": 70195612, "life_expect": 69.1, "fertility": 2.3}, {"year": 1960, "country": "Germany", "cluster": 1, "pop": 72480869, "life_expect": 70.3, "fertility": 2.49}, {"year": 1965, "country": "Germany", "cluster": 1, "pop": 75638851, "life_expect": 70.8, "fertility": 2.32}, {"year": 1970, "country": "Germany", "cluster": 1, "pop": 77783164, "life_expect": 71.0, "fertility": 1.6400000000000001}, {"year": 1975, "country": "Germany", "cluster": 1, "pop": 78682325, "life_expect": 72.5, "fertility": 1.52}, {"year": 1980, "country": "Germany", "cluster": 1, "pop": 78297904, "life_expect": 73.8, "fertility": 1.46}, {"year": 1985, "country": "Germany", "cluster": 1, "pop": 77684907, "life_expect": 74.847, "fertility": 1.43}, {"year": 1990, "country": "Germany", "cluster": 1, "pop": 79380394, "life_expect": 76.07, "fertility": 1.31}, {"year": 1995, "country": "Germany", "cluster": 1, "pop": 81653702, "life_expect": 77.34, "fertility": 1.34}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2005, "country": "Germany", "cluster": 1, "pop": 82431390, "life_expect": 79.406, "fertility": 1.36}, {"year": 1955, "country": "Greece", "cluster": 1, "pop": 7965538, "life_expect": 67.86, "fertility": 2.27}, {"year": 1960, "country": "Greece", "cluster": 1, "pop": 8327405, "life_expect": 69.51, "fertility": 2.2}, {"year": 1965, "country": "Greece", "cluster": 1, "pop": 8550333, "life_expect": 71.0, "fertility": 2.38}, {"year": 1970, "country": "Greece", "cluster": 1, "pop": 8792806, "life_expect": 72.34, "fertility": 2.32}, {"year": 1975, "country": "Greece", "cluster": 1, "pop": 9046542, "life_expect": 73.68, "fertility": 2.32}, {"year": 1980, "country": "Greece", "cluster": 1, "pop": 9642505, "life_expect": 75.24, "fertility": 1.96}, {"year": 1985, "country": "Greece", "cluster": 1, "pop": 9923253, "life_expect": 76.67, "fertility": 1.53}, {"year": 1990, "country": "Greece", "cluster": 1, "pop": 10129603, "life_expect": 77.03, "fertility": 1.37}, {"year": 1995, "country": "Greece", "cluster": 1, "pop": 10457554, "life_expect": 77.869, "fertility": 1.296}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2005, "country": "Greece", "cluster": 1, "pop": 10668354, "life_expect": 79.483, "fertility": 1.325}, {"year": 1955, "country": "Grenada", "cluster": 3, "pop": 84621, "life_expect": 63.114, "fertility": 6.7}, {"year": 1960, "country": "Grenada", "cluster": 3, "pop": 90148, "life_expect": 63.608, "fertility": 6.4}, {"year": 1965, "country": "Grenada", "cluster": 3, "pop": 93290, "life_expect": 64.091, "fertility": 4.8}, {"year": 1970, "country": "Grenada", "cluster": 3, "pop": 95410, "life_expect": 64.577, "fertility": 4.6}, {"year": 1975, "country": "Grenada", "cluster": 3, "pop": 95819, "life_expect": 65.035, "fertility": 4.3}, {"year": 1980, "country": "Grenada", "cluster": 3, "pop": 90164, "life_expect": 65.503, "fertility": 4.23}, {"year": 1985, "country": "Grenada", "cluster": 3, "pop": 92203, "life_expect": 66.002, "fertility": 4.14}, {"year": 1990, "country": "Grenada", "cluster": 3, "pop": 92360, "life_expect": 66.469, "fertility": 3.26}, {"year": 1995, "country": "Grenada", "cluster": 3, "pop": 90603, "life_expect": 66.986, "fertility": 2.814}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2005, "country": "Grenada", "cluster": 3, "pop": 89502, "life_expect": 68.724, "fertility": 2.302}, {"year": 1955, "country": "Haiti", "cluster": 3, "pop": 3376419, "life_expect": 40.696, "fertility": 6.3}, {"year": 1960, "country": "Haiti", "cluster": 3, "pop": 3722743, "life_expect": 43.59, "fertility": 6.3}, {"year": 1965, "country": "Haiti", "cluster": 3, "pop": 4137405, "life_expect": 46.243, "fertility": 6.0}, {"year": 1970, "country": "Haiti", "cluster": 3, "pop": 4604915, "life_expect": 48.042, "fertility": 5.6005}, {"year": 1975, "country": "Haiti", "cluster": 3, "pop": 4828338, "life_expect": 49.923, "fertility": 5.8}, {"year": 1980, "country": "Haiti", "cluster": 3, "pop": 5029725, "life_expect": 51.461, "fertility": 6.2099}, {"year": 1985, "country": "Haiti", "cluster": 3, "pop": 5517977, "life_expect": 53.636, "fertility": 5.69985}, {"year": 1990, "country": "Haiti", "cluster": 3, "pop": 6126101, "life_expect": 55.089, "fertility": 5.14985}, {"year": 1995, "country": "Haiti", "cluster": 3, "pop": 6675578, "life_expect": 56.671, "fertility": 4.61995}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2005, "country": "Haiti", "cluster": 3, "pop": 8121622, "life_expect": 60.916, "fertility": 3.5445}, {"year": 1955, "country": "Hong Kong", "cluster": 4, "pop": 2490400, "life_expect": 64.75, "fertility": 4.72}, {"year": 1960, "country": "Hong Kong", "cluster": 4, "pop": 3075300, "life_expect": 67.65, "fertility": 5.31}, {"year": 1965, "country": "Hong Kong", "cluster": 4, "pop": 3597900, "life_expect": 70.0, "fertility": 4.02}, {"year": 1970, "country": "Hong Kong", "cluster": 4, "pop": 3959000, "life_expect": 72.0, "fertility": 2.89}, {"year": 1975, "country": "Hong Kong", "cluster": 4, "pop": 4395800, "life_expect": 73.6, "fertility": 2.32}, {"year": 1980, "country": "Hong Kong", "cluster": 4, "pop": 5063100, "life_expect": 75.45, "fertility": 1.8}, {"year": 1985, "country": "Hong Kong", "cluster": 4, "pop": 5456200, "life_expect": 76.2, "fertility": 1.31}, {"year": 1990, "country": "Hong Kong", "cluster": 4, "pop": 5687959, "life_expect": 77.601, "fertility": 1.288}, {"year": 1995, "country": "Hong Kong", "cluster": 4, "pop": 6225347, "life_expect": 80.0, "fertility": 1.08}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2005, "country": "Hong Kong", "cluster": 4, "pop": 6898686, "life_expect": 82.208, "fertility": 0.966}, {"year": 1955, "country": "Iceland", "cluster": 1, "pop": 158044, "life_expect": 73.47, "fertility": 4.023}, {"year": 1960, "country": "Iceland", "cluster": 1, "pop": 175860, "life_expect": 73.68, "fertility": 3.943}, {"year": 1965, "country": "Iceland", "cluster": 1, "pop": 192288, "life_expect": 73.73, "fertility": 3.154}, {"year": 1970, "country": "Iceland", "cluster": 1, "pop": 204104, "life_expect": 74.46, "fertility": 2.843}, {"year": 1975, "country": "Iceland", "cluster": 1, "pop": 218031, "life_expect": 76.11, "fertility": 2.287}, {"year": 1980, "country": "Iceland", "cluster": 1, "pop": 228161, "life_expect": 76.99, "fertility": 2.248}, {"year": 1985, "country": "Iceland", "cluster": 1, "pop": 241403, "life_expect": 77.23, "fertility": 2.116}, {"year": 1990, "country": "Iceland", "cluster": 1, "pop": 254719, "life_expect": 78.77, "fertility": 2.194}, {"year": 1995, "country": "Iceland", "cluster": 1, "pop": 267527, "life_expect": 78.95, "fertility": 2.056}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2005, "country": "Iceland", "cluster": 1, "pop": 296737, "life_expect": 81.757, "fertility": 2.052}, {"year": 1955, "country": "India", "cluster": 0, "pop": 393000000, "life_expect": 40.249, "fertility": 5.8961}, {"year": 1960, "country": "India", "cluster": 0, "pop": 434000000, "life_expect": 43.605, "fertility": 5.8216}, {"year": 1965, "country": "India", "cluster": 0, "pop": 485000000, "life_expect": 47.193, "fertility": 5.6058}, {"year": 1970, "country": "India", "cluster": 0, "pop": 541000000, "life_expect": 50.651, "fertility": 5.264}, {"year": 1975, "country": "India", "cluster": 0, "pop": 607000000, "life_expect": 54.208, "fertility": 4.8888}, {"year": 1980, "country": "India", "cluster": 0, "pop": 679000000, "life_expect": 56.596, "fertility": 4.4975}, {"year": 1985, "country": "India", "cluster": 0, "pop": 755000000, "life_expect": 58.553, "fertility": 4.15}, {"year": 1990, "country": "India", "cluster": 0, "pop": 839000000, "life_expect": 60.223, "fertility": 3.8648000000000002}, {"year": 1995, "country": "India", "cluster": 0, "pop": 927000000, "life_expect": 61.765, "fertility": 3.4551}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2005, "country": "India", "cluster": 0, "pop": 1080264388, "life_expect": 64.698, "fertility": 2.8073}, {"year": 1955, "country": "Indonesia", "cluster": 4, "pop": 86807000, "life_expect": 39.918, "fertility": 5.672}, {"year": 1960, "country": "Indonesia", "cluster": 4, "pop": 95254000, "life_expect": 42.518, "fertility": 5.62}, {"year": 1965, "country": "Indonesia", "cluster": 4, "pop": 105093000, "life_expect": 45.964, "fertility": 5.568}, {"year": 1970, "country": "Indonesia", "cluster": 4, "pop": 116044000, "life_expect": 49.203, "fertility": 5.3}, {"year": 1975, "country": "Indonesia", "cluster": 4, "pop": 130297000, "life_expect": 52.702, "fertility": 4.73}, {"year": 1980, "country": "Indonesia", "cluster": 4, "pop": 146995000, "life_expect": 56.159, "fertility": 4.109}, {"year": 1985, "country": "Indonesia", "cluster": 4, "pop": 163403000, "life_expect": 60.137, "fertility": 3.4}, {"year": 1990, "country": "Indonesia", "cluster": 4, "pop": 178500000, "life_expect": 62.681, "fertility": 2.9}, {"year": 1995, "country": "Indonesia", "cluster": 4, "pop": 194755000, "life_expect": 66.041, "fertility": 2.55}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2005, "country": "Indonesia", "cluster": 4, "pop": 218465000, "life_expect": 70.65, "fertility": 2.182}, {"year": 1955, "country": "Iran", "cluster": 5, "pop": 18729000, "life_expect": 47.181, "fertility": 7.0}, {"year": 1960, "country": "Iran", "cluster": 5, "pop": 21577000, "life_expect": 49.325, "fertility": 7.0}, {"year": 1965, "country": "Iran", "cluster": 5, "pop": 25000000, "life_expect": 52.469, "fertility": 6.8}, {"year": 1970, "country": "Iran", "cluster": 5, "pop": 28933000, "life_expect": 55.234, "fertility": 6.4}, {"year": 1975, "country": "Iran", "cluster": 5, "pop": 33379000, "life_expect": 57.702, "fertility": 6.5}, {"year": 1980, "country": "Iran", "cluster": 5, "pop": 39583397, "life_expect": 59.62, "fertility": 6.63}, {"year": 1985, "country": "Iran", "cluster": 5, "pop": 48439952, "life_expect": 63.04, "fertility": 5.62}, {"year": 1990, "country": "Iran", "cluster": 5, "pop": 57035717, "life_expect": 65.742, "fertility": 4.328}, {"year": 1995, "country": "Iran", "cluster": 5, "pop": 61628116, "life_expect": 68.042, "fertility": 2.534}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2005, "country": "Iran", "cluster": 5, "pop": 68017860, "life_expect": 70.964, "fertility": 2.04}, {"year": 1955, "country": "Iraq", "cluster": 5, "pop": 5903253, "life_expect": 48.437, "fertility": 7.3}, {"year": 1960, "country": "Iraq", "cluster": 5, "pop": 6822030, "life_expect": 51.457, "fertility": 7.25}, {"year": 1965, "country": "Iraq", "cluster": 5, "pop": 7970746, "life_expect": 54.459, "fertility": 7.2}, {"year": 1970, "country": "Iraq", "cluster": 5, "pop": 9413671, "life_expect": 56.95, "fertility": 7.15}, {"year": 1975, "country": "Iraq", "cluster": 5, "pop": 11117804, "life_expect": 60.413, "fertility": 6.8}, {"year": 1980, "country": "Iraq", "cluster": 5, "pop": 13232839, "life_expect": 62.038, "fertility": 6.35}, {"year": 1985, "country": "Iraq", "cluster": 5, "pop": 15693620, "life_expect": 65.044, "fertility": 6.15}, {"year": 1990, "country": "Iraq", "cluster": 5, "pop": 18134702, "life_expect": 59.461, "fertility": 5.7}, {"year": 1995, "country": "Iraq", "cluster": 5, "pop": 19557247, "life_expect": 58.811, "fertility": 5.37}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2005, "country": "Iraq", "cluster": 5, "pop": 26074906, "life_expect": 59.545, "fertility": 4.264}, {"year": 1955, "country": "Ireland", "cluster": 1, "pop": 2916133, "life_expect": 68.9, "fertility": 3.68}, {"year": 1960, "country": "Ireland", "cluster": 1, "pop": 2832000, "life_expect": 70.29, "fertility": 3.979}, {"year": 1965, "country": "Ireland", "cluster": 1, "pop": 2876000, "life_expect": 71.08, "fertility": 3.873}, {"year": 1970, "country": "Ireland", "cluster": 1, "pop": 2950100, "life_expect": 71.28, "fertility": 3.815}, {"year": 1975, "country": "Ireland", "cluster": 1, "pop": 3177300, "life_expect": 72.03, "fertility": 3.478}, {"year": 1980, "country": "Ireland", "cluster": 1, "pop": 3401000, "life_expect": 73.1, "fertility": 2.8770000000000002}, {"year": 1985, "country": "Ireland", "cluster": 1, "pop": 3540000, "life_expect": 74.36, "fertility": 2.287}, {"year": 1990, "country": "Ireland", "cluster": 1, "pop": 3508200, "life_expect": 75.467, "fertility": 1.969}, {"year": 1995, "country": "Ireland", "cluster": 1, "pop": 3613890, "life_expect": 76.122, "fertility": 1.9000000000000001}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2005, "country": "Ireland", "cluster": 1, "pop": 4015676, "life_expect": 78.885, "fertility": 1.964}, {"year": 1955, "country": "Israel", "cluster": 5, "pop": 1772032, "life_expect": 67.84, "fertility": 3.8930000000000002}, {"year": 1960, "country": "Israel", "cluster": 5, "pop": 2141495, "life_expect": 69.39, "fertility": 3.852}, {"year": 1965, "country": "Israel", "cluster": 5, "pop": 2578184, "life_expect": 70.75, "fertility": 3.79}, {"year": 1970, "country": "Israel", "cluster": 5, "pop": 2903434, "life_expect": 71.63, "fertility": 3.77}, {"year": 1975, "country": "Israel", "cluster": 5, "pop": 3354242, "life_expect": 73.06, "fertility": 3.409}, {"year": 1980, "country": "Israel", "cluster": 5, "pop": 3737473, "life_expect": 74.45, "fertility": 3.125}, {"year": 1985, "country": "Israel", "cluster": 5, "pop": 4074965, "life_expect": 75.6, "fertility": 3.051}, {"year": 1990, "country": "Israel", "cluster": 5, "pop": 4512068, "life_expect": 76.93, "fertility": 2.933}, {"year": 1995, "country": "Israel", "cluster": 5, "pop": 5305120, "life_expect": 78.269, "fertility": 2.942}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2005, "country": "Israel", "cluster": 5, "pop": 6276883, "life_expect": 80.745, "fertility": 2.75}, {"year": 1955, "country": "Italy", "cluster": 1, "pop": 48633000, "life_expect": 67.81, "fertility": 2.35}, {"year": 1960, "country": "Italy", "cluster": 1, "pop": 50197600, "life_expect": 69.24, "fertility": 2.498}, {"year": 1965, "country": "Italy", "cluster": 1, "pop": 51987100, "life_expect": 71.06, "fertility": 2.493}, {"year": 1970, "country": "Italy", "cluster": 1, "pop": 53661100, "life_expect": 72.19, "fertility": 2.325}, {"year": 1975, "country": "Italy", "cluster": 1, "pop": 55571894, "life_expect": 73.48, "fertility": 1.889}, {"year": 1980, "country": "Italy", "cluster": 1, "pop": 56451247, "life_expect": 74.98, "fertility": 1.53}, {"year": 1985, "country": "Italy", "cluster": 1, "pop": 56731215, "life_expect": 76.42, "fertility": 1.349}, {"year": 1990, "country": "Italy", "cluster": 1, "pop": 56742886, "life_expect": 77.44, "fertility": 1.275}, {"year": 1995, "country": "Italy", "cluster": 1, "pop": 57274531, "life_expect": 78.82, "fertility": 1.213}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2005, "country": "Italy", "cluster": 1, "pop": 58103033, "life_expect": 80.546, "fertility": 1.379}, {"year": 1955, "country": "Jamaica", "cluster": 3, "pop": 1488805, "life_expect": 62.61, "fertility": 5.08}, {"year": 1960, "country": "Jamaica", "cluster": 3, "pop": 1631784, "life_expect": 65.61, "fertility": 5.64}, {"year": 1965, "country": "Jamaica", "cluster": 3, "pop": 1777397, "life_expect": 67.51, "fertility": 5.78}, {"year": 1970, "country": "Jamaica", "cluster": 3, "pop": 1943787, "life_expect": 69.0, "fertility": 5.0}, {"year": 1975, "country": "Jamaica", "cluster": 3, "pop": 2104879, "life_expect": 70.11, "fertility": 4.0}, {"year": 1980, "country": "Jamaica", "cluster": 3, "pop": 2228803, "life_expect": 71.21, "fertility": 3.55}, {"year": 1985, "country": "Jamaica", "cluster": 3, "pop": 2318652, "life_expect": 71.77, "fertility": 3.1}, {"year": 1990, "country": "Jamaica", "cluster": 3, "pop": 2347922, "life_expect": 71.766, "fertility": 2.84}, {"year": 1995, "country": "Jamaica", "cluster": 3, "pop": 2469389, "life_expect": 72.262, "fertility": 2.67}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2005, "country": "Jamaica", "cluster": 3, "pop": 2735520, "life_expect": 72.567, "fertility": 2.4289}, {"year": 1955, "country": "Japan", "cluster": 4, "pop": 89815060, "life_expect": 65.5, "fertility": 2.08}, {"year": 1960, "country": "Japan", "cluster": 4, "pop": 94091638, "life_expect": 68.73, "fertility": 2.02}, {"year": 1965, "country": "Japan", "cluster": 4, "pop": 98882534, "life_expect": 71.43, "fertility": 2.0}, {"year": 1970, "country": "Japan", "cluster": 4, "pop": 104344973, "life_expect": 73.42, "fertility": 2.07}, {"year": 1975, "country": "Japan", "cluster": 4, "pop": 111573116, "life_expect": 75.38, "fertility": 1.81}, {"year": 1980, "country": "Japan", "cluster": 4, "pop": 116807309, "life_expect": 77.11, "fertility": 1.76}, {"year": 1985, "country": "Japan", "cluster": 4, "pop": 120754335, "life_expect": 78.67, "fertility": 1.66}, {"year": 1990, "country": "Japan", "cluster": 4, "pop": 123537399, "life_expect": 79.36, "fertility": 1.49}, {"year": 1995, "country": "Japan", "cluster": 4, "pop": 125341354, "life_expect": 80.69, "fertility": 1.39}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2005, "country": "Japan", "cluster": 4, "pop": 127417244, "life_expect": 82.603, "fertility": 1.27}, {"year": 1955, "country": "Kenya", "cluster": 2, "pop": 7033999, "life_expect": 44.686, "fertility": 7.816}, {"year": 1960, "country": "Kenya", "cluster": 2, "pop": 8156827, "life_expect": 47.949, "fertility": 8.12}, {"year": 1965, "country": "Kenya", "cluster": 2, "pop": 9549179, "life_expect": 50.654, "fertility": 8.12}, {"year": 1970, "country": "Kenya", "cluster": 2, "pop": 11247182, "life_expect": 53.559, "fertility": 8.0}, {"year": 1975, "country": "Kenya", "cluster": 2, "pop": 13433414, "life_expect": 56.155, "fertility": 7.6}, {"year": 1980, "country": "Kenya", "cluster": 2, "pop": 16331401, "life_expect": 58.766, "fertility": 7.2}, {"year": 1985, "country": "Kenya", "cluster": 2, "pop": 19763285, "life_expect": 59.339, "fertility": 6.5}, {"year": 1990, "country": "Kenya", "cluster": 2, "pop": 23358413, "life_expect": 59.285, "fertility": 5.4}, {"year": 1995, "country": "Kenya", "cluster": 2, "pop": 27060142, "life_expect": 54.407, "fertility": 5.0}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2005, "country": "Kenya", "cluster": 2, "pop": 33829590, "life_expect": 54.11, "fertility": 4.959}, {"year": 1955, "country": "South Korea", "cluster": 4, "pop": 8839427, "life_expect": 54.081, "fertility": 3.8}, {"year": 1960, "country": "South Korea", "cluster": 4, "pop": 10391909, "life_expect": 56.656, "fertility": 3.41}, {"year": 1965, "country": "South Korea", "cluster": 4, "pop": 11868751, "life_expect": 59.942, "fertility": 4.09}, {"year": 1970, "country": "South Korea", "cluster": 4, "pop": 13911902, "life_expect": 63.983, "fertility": 3.72}, {"year": 1975, "country": "South Korea", "cluster": 4, "pop": 15801308, "life_expect": 67.159, "fertility": 2.58}, {"year": 1980, "country": "South Korea", "cluster": 4, "pop": 17113626, "life_expect": 69.1, "fertility": 2.93}, {"year": 1985, "country": "South Korea", "cluster": 4, "pop": 18481420, "life_expect": 70.647, "fertility": 2.45}, {"year": 1990, "country": "South Korea", "cluster": 4, "pop": 20018546, "life_expect": 69.978, "fertility": 2.35}, {"year": 1995, "country": "South Korea", "cluster": 4, "pop": 21561856, "life_expect": 67.727, "fertility": 2.0938}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2005, "country": "South Korea", "cluster": 4, "pop": 22912177, "life_expect": 67.297, "fertility": 1.85}, {"year": 1955, "country": "North Korea", "cluster": 4, "pop": 21551834, "life_expect": 52.681, "fertility": 6.332}, {"year": 1960, "country": "North Korea", "cluster": 4, "pop": 24784140, "life_expect": 55.292, "fertility": 5.63}, {"year": 1965, "country": "North Korea", "cluster": 4, "pop": 28705000, "life_expect": 57.716, "fertility": 4.708}, {"year": 1970, "country": "North Korea", "cluster": 4, "pop": 32241000, "life_expect": 62.612, "fertility": 4.281}, {"year": 1975, "country": "North Korea", "cluster": 4, "pop": 35281000, "life_expect": 64.766, "fertility": 2.919}, {"year": 1980, "country": "North Korea", "cluster": 4, "pop": 38124000, "life_expect": 67.123, "fertility": 2.234}, {"year": 1985, "country": "North Korea", "cluster": 4, "pop": 40806000, "life_expect": 69.81, "fertility": 1.601}, {"year": 1990, "country": "North Korea", "cluster": 4, "pop": 42869000, "life_expect": 72.244, "fertility": 1.696}, {"year": 1995, "country": "North Korea", "cluster": 4, "pop": 45264146, "life_expect": 74.647, "fertility": 1.514}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2005, "country": "North Korea", "cluster": 4, "pop": 48640671, "life_expect": 78.623, "fertility": 1.21}, {"year": 1955, "country": "Lebanon", "cluster": 5, "pop": 1560985, "life_expect": 59.489, "fertility": 5.72}, {"year": 1960, "country": "Lebanon", "cluster": 5, "pop": 1786235, "life_expect": 62.094, "fertility": 5.689}, {"year": 1965, "country": "Lebanon", "cluster": 5, "pop": 2057945, "life_expect": 63.87, "fertility": 5.336}, {"year": 1970, "country": "Lebanon", "cluster": 5, "pop": 2383029, "life_expect": 65.421, "fertility": 4.78}, {"year": 1975, "country": "Lebanon", "cluster": 5, "pop": 3098159, "life_expect": 66.099, "fertility": 4.311}, {"year": 1980, "country": "Lebanon", "cluster": 5, "pop": 3085876, "life_expect": 66.983, "fertility": 3.895}, {"year": 1985, "country": "Lebanon", "cluster": 5, "pop": 3088235, "life_expect": 67.926, "fertility": 3.313}, {"year": 1990, "country": "Lebanon", "cluster": 5, "pop": 3147267, "life_expect": 69.292, "fertility": 3.0}, {"year": 1995, "country": "Lebanon", "cluster": 5, "pop": 3334733, "life_expect": 70.265, "fertility": 2.695}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2005, "country": "Lebanon", "cluster": 5, "pop": 3826018, "life_expect": 71.993, "fertility": 2.209}, {"year": 1955, "country": "Mexico", "cluster": 3, "pop": 32929914, "life_expect": 55.19, "fertility": 6.8}, {"year": 1960, "country": "Mexico", "cluster": 3, "pop": 38578505, "life_expect": 58.299, "fertility": 6.7495}, {"year": 1965, "country": "Mexico", "cluster": 3, "pop": 45142399, "life_expect": 60.11, "fertility": 6.7495}, {"year": 1970, "country": "Mexico", "cluster": 3, "pop": 52775158, "life_expect": 62.361, "fertility": 6.5}, {"year": 1975, "country": "Mexico", "cluster": 3, "pop": 60678045, "life_expect": 65.032, "fertility": 5.2505}, {"year": 1980, "country": "Mexico", "cluster": 3, "pop": 68347479, "life_expect": 67.405, "fertility": 4.25}, {"year": 1985, "country": "Mexico", "cluster": 3, "pop": 76767225, "life_expect": 69.498, "fertility": 3.6295}, {"year": 1990, "country": "Mexico", "cluster": 3, "pop": 84913652, "life_expect": 71.455, "fertility": 3.1905}, {"year": 1995, "country": "Mexico", "cluster": 3, "pop": 92880353, "life_expect": 73.67, "fertility": 2.6705}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2005, "country": "Mexico", "cluster": 3, "pop": 106202903, "life_expect": 76.195, "fertility": 2.211}, {"year": 1955, "country": "Netherlands", "cluster": 1, "pop": 10750842, "life_expect": 72.99, "fertility": 3.095}, {"year": 1960, "country": "Netherlands", "cluster": 1, "pop": 11486000, "life_expect": 73.23, "fertility": 3.168}, {"year": 1965, "country": "Netherlands", "cluster": 1, "pop": 12292000, "life_expect": 73.82, "fertility": 2.797}, {"year": 1970, "country": "Netherlands", "cluster": 1, "pop": 13032335, "life_expect": 73.75, "fertility": 2.059}, {"year": 1975, "country": "Netherlands", "cluster": 1, "pop": 13653438, "life_expect": 75.24, "fertility": 1.596}, {"year": 1980, "country": "Netherlands", "cluster": 1, "pop": 14143901, "life_expect": 76.05, "fertility": 1.515}, {"year": 1985, "country": "Netherlands", "cluster": 1, "pop": 14491380, "life_expect": 76.83, "fertility": 1.555}, {"year": 1990, "country": "Netherlands", "cluster": 1, "pop": 14951510, "life_expect": 77.42, "fertility": 1.583}, {"year": 1995, "country": "Netherlands", "cluster": 1, "pop": 15459054, "life_expect": 78.03, "fertility": 1.6}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2005, "country": "Netherlands", "cluster": 1, "pop": 16407491, "life_expect": 79.762, "fertility": 1.721}, {"year": 1955, "country": "New Zealand", "cluster": 4, "pop": 2136168, "life_expect": 70.26, "fertility": 4.07}, {"year": 1960, "country": "New Zealand", "cluster": 4, "pop": 2371746, "life_expect": 71.24, "fertility": 4.022}, {"year": 1965, "country": "New Zealand", "cluster": 4, "pop": 2640400, "life_expect": 71.52, "fertility": 3.348}, {"year": 1970, "country": "New Zealand", "cluster": 4, "pop": 2828050, "life_expect": 71.89, "fertility": 2.843}, {"year": 1975, "country": "New Zealand", "cluster": 4, "pop": 3117800, "life_expect": 72.22, "fertility": 2.178}, {"year": 1980, "country": "New Zealand", "cluster": 4, "pop": 3170150, "life_expect": 73.84, "fertility": 1.963}, {"year": 1985, "country": "New Zealand", "cluster": 4, "pop": 3298050, "life_expect": 74.32, "fertility": 2.053}, {"year": 1990, "country": "New Zealand", "cluster": 4, "pop": 3359604, "life_expect": 76.33, "fertility": 2.061}, {"year": 1995, "country": "New Zealand", "cluster": 4, "pop": 3565990, "life_expect": 77.55, "fertility": 1.952}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2005, "country": "New Zealand", "cluster": 4, "pop": 4035461, "life_expect": 80.204, "fertility": 1.994}, {"year": 1955, "country": "Nigeria", "cluster": 2, "pop": 35458978, "life_expect": 37.802, "fertility": 6.9}, {"year": 1960, "country": "Nigeria", "cluster": 2, "pop": 39914593, "life_expect": 39.36, "fertility": 6.9}, {"year": 1965, "country": "Nigeria", "cluster": 2, "pop": 45020052, "life_expect": 41.04, "fertility": 6.9}, {"year": 1970, "country": "Nigeria", "cluster": 2, "pop": 51027516, "life_expect": 42.821, "fertility": 6.9}, {"year": 1975, "country": "Nigeria", "cluster": 2, "pop": 58522112, "life_expect": 44.514, "fertility": 6.9}, {"year": 1980, "country": "Nigeria", "cluster": 2, "pop": 68550274, "life_expect": 45.826, "fertility": 6.9}, {"year": 1985, "country": "Nigeria", "cluster": 2, "pop": 77573154, "life_expect": 46.886, "fertility": 6.834}, {"year": 1990, "country": "Nigeria", "cluster": 2, "pop": 88510354, "life_expect": 47.472, "fertility": 6.635}, {"year": 1995, "country": "Nigeria", "cluster": 2, "pop": 100960105, "life_expect": 47.464, "fertility": 6.246}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2005, "country": "Nigeria", "cluster": 2, "pop": 128765768, "life_expect": 46.859, "fertility": 5.322}, {"year": 1955, "country": "Norway", "cluster": 1, "pop": 3427409, "life_expect": 73.44, "fertility": 2.837}, {"year": 1960, "country": "Norway", "cluster": 1, "pop": 3581239, "life_expect": 73.47, "fertility": 2.898}, {"year": 1965, "country": "Norway", "cluster": 1, "pop": 3723153, "life_expect": 74.08, "fertility": 2.719}, {"year": 1970, "country": "Norway", "cluster": 1, "pop": 3877386, "life_expect": 74.34, "fertility": 2.248}, {"year": 1975, "country": "Norway", "cluster": 1, "pop": 4007313, "life_expect": 75.37, "fertility": 1.81}, {"year": 1980, "country": "Norway", "cluster": 1, "pop": 4085620, "life_expect": 75.97, "fertility": 1.687}, {"year": 1985, "country": "Norway", "cluster": 1, "pop": 4152419, "life_expect": 75.89, "fertility": 1.8}, {"year": 1990, "country": "Norway", "cluster": 1, "pop": 4242006, "life_expect": 77.32, "fertility": 1.8860000000000001}, {"year": 1995, "country": "Norway", "cluster": 1, "pop": 4359101, "life_expect": 78.32, "fertility": 1.853}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2005, "country": "Norway", "cluster": 1, "pop": 4593041, "life_expect": 80.196, "fertility": 1.848}, {"year": 1955, "country": "Pakistan", "cluster": 0, "pop": 44434445, "life_expect": 45.557, "fertility": 6.6}, {"year": 1960, "country": "Pakistan", "cluster": 0, "pop": 50386898, "life_expect": 47.67, "fertility": 6.6}, {"year": 1965, "country": "Pakistan", "cluster": 0, "pop": 57494940, "life_expect": 49.8, "fertility": 6.6}, {"year": 1970, "country": "Pakistan", "cluster": 0, "pop": 65705964, "life_expect": 51.929, "fertility": 6.6}, {"year": 1975, "country": "Pakistan", "cluster": 0, "pop": 74711541, "life_expect": 54.043, "fertility": 6.6}, {"year": 1980, "country": "Pakistan", "cluster": 0, "pop": 85219117, "life_expect": 56.158, "fertility": 6.6}, {"year": 1985, "country": "Pakistan", "cluster": 0, "pop": 99060352, "life_expect": 58.245, "fertility": 6.66}, {"year": 1990, "country": "Pakistan", "cluster": 0, "pop": 114578478, "life_expect": 60.838, "fertility": 5.8}, {"year": 1995, "country": "Pakistan", "cluster": 0, "pop": 128690285, "life_expect": 61.818, "fertility": 4.9596}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2005, "country": "Pakistan", "cluster": 0, "pop": 162419946, "life_expect": 65.483, "fertility": 3.5211}, {"year": 1955, "country": "Peru", "cluster": 3, "pop": 8671500, "life_expect": 46.263, "fertility": 6.853}, {"year": 1960, "country": "Peru", "cluster": 3, "pop": 9931000, "life_expect": 49.096, "fertility": 6.853}, {"year": 1965, "country": "Peru", "cluster": 3, "pop": 11467300, "life_expect": 51.445, "fertility": 6.56}, {"year": 1970, "country": "Peru", "cluster": 3, "pop": 13192800, "life_expect": 55.448, "fertility": 6.0}, {"year": 1975, "country": "Peru", "cluster": 3, "pop": 15161199, "life_expect": 58.447, "fertility": 5.378}, {"year": 1980, "country": "Peru", "cluster": 3, "pop": 17295298, "life_expect": 61.406, "fertility": 4.65}, {"year": 1985, "country": "Peru", "cluster": 3, "pop": 19348926, "life_expect": 64.134, "fertility": 4.1}, {"year": 1990, "country": "Peru", "cluster": 3, "pop": 21511443, "life_expect": 66.458, "fertility": 3.7}, {"year": 1995, "country": "Peru", "cluster": 3, "pop": 23846388, "life_expect": 68.386, "fertility": 3.0995}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2005, "country": "Peru", "cluster": 3, "pop": 27925628, "life_expect": 71.421, "fertility": 2.5065}, {"year": 1955, "country": "Philippines", "cluster": 4, "pop": 24553055, "life_expect": 51.334, "fertility": 7.13}, {"year": 1960, "country": "Philippines", "cluster": 4, "pop": 28528939, "life_expect": 54.757, "fertility": 6.85}, {"year": 1965, "country": "Philippines", "cluster": 4, "pop": 33267569, "life_expect": 56.393, "fertility": 6.5}, {"year": 1970, "country": "Philippines", "cluster": 4, "pop": 38603696, "life_expect": 58.065, "fertility": 6.0}, {"year": 1975, "country": "Philippines", "cluster": 4, "pop": 44336842, "life_expect": 60.06, "fertility": 5.5}, {"year": 1980, "country": "Philippines", "cluster": 4, "pop": 50940182, "life_expect": 62.082, "fertility": 4.95}, {"year": 1985, "country": "Philippines", "cluster": 4, "pop": 57288037, "life_expect": 64.151, "fertility": 4.55}, {"year": 1990, "country": "Philippines", "cluster": 4, "pop": 64318120, "life_expect": 66.458, "fertility": 4.143}, {"year": 1995, "country": "Philippines", "cluster": 4, "pop": 71717437, "life_expect": 68.564, "fertility": 3.7248}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2005, "country": "Philippines", "cluster": 4, "pop": 87857473, "life_expect": 71.688, "fertility": 3.2327}, {"year": 1955, "country": "Poland", "cluster": 1, "pop": 27220668, "life_expect": 65.77, "fertility": 3.29}, {"year": 1960, "country": "Poland", "cluster": 1, "pop": 29589842, "life_expect": 67.64, "fertility": 2.65}, {"year": 1965, "country": "Poland", "cluster": 1, "pop": 31262358, "life_expect": 69.61, "fertility": 2.27}, {"year": 1970, "country": "Poland", "cluster": 1, "pop": 32526000, "life_expect": 70.85, "fertility": 2.25}, {"year": 1975, "country": "Poland", "cluster": 1, "pop": 33969240, "life_expect": 70.67, "fertility": 2.26}, {"year": 1980, "country": "Poland", "cluster": 1, "pop": 35578016, "life_expect": 71.32, "fertility": 2.33}, {"year": 1985, "country": "Poland", "cluster": 1, "pop": 37225792, "life_expect": 70.98, "fertility": 2.15}, {"year": 1990, "country": "Poland", "cluster": 1, "pop": 38119408, "life_expect": 70.99, "fertility": 1.8900000000000001}, {"year": 1995, "country": "Poland", "cluster": 1, "pop": 38600642, "life_expect": 72.75, "fertility": 1.478}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2005, "country": "Poland", "cluster": 1, "pop": 38557984, "life_expect": 75.563, "fertility": 1.227}, {"year": 1955, "country": "Portugal", "cluster": 1, "pop": 8692600, "life_expect": 61.51, "fertility": 3.03}, {"year": 1960, "country": "Portugal", "cluster": 1, "pop": 9036700, "life_expect": 64.39, "fertility": 3.074}, {"year": 1965, "country": "Portugal", "cluster": 1, "pop": 9128850, "life_expect": 66.6, "fertility": 2.849}, {"year": 1970, "country": "Portugal", "cluster": 1, "pop": 9044200, "life_expect": 69.26, "fertility": 2.748}, {"year": 1975, "country": "Portugal", "cluster": 1, "pop": 9411090, "life_expect": 70.41, "fertility": 2.41}, {"year": 1980, "country": "Portugal", "cluster": 1, "pop": 9777800, "life_expect": 72.77, "fertility": 1.982}, {"year": 1985, "country": "Portugal", "cluster": 1, "pop": 9897192, "life_expect": 74.06, "fertility": 1.594}, {"year": 1990, "country": "Portugal", "cluster": 1, "pop": 9922689, "life_expect": 74.86, "fertility": 1.516}, {"year": 1995, "country": "Portugal", "cluster": 1, "pop": 10065543, "life_expect": 75.97, "fertility": 1.475}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2005, "country": "Portugal", "cluster": 1, "pop": 10566212, "life_expect": 78.098, "fertility": 1.455}, {"year": 1955, "country": "Rwanda", "cluster": 2, "pop": 2698272, "life_expect": 41.5, "fertility": 8.0}, {"year": 1960, "country": "Rwanda", "cluster": 2, "pop": 3031804, "life_expect": 43.0, "fertility": 8.1}, {"year": 1965, "country": "Rwanda", "cluster": 2, "pop": 3264640, "life_expect": 44.1, "fertility": 8.2}, {"year": 1970, "country": "Rwanda", "cluster": 2, "pop": 3769171, "life_expect": 44.6, "fertility": 8.29}, {"year": 1975, "country": "Rwanda", "cluster": 2, "pop": 4356863, "life_expect": 45.0, "fertility": 8.492}, {"year": 1980, "country": "Rwanda", "cluster": 2, "pop": 5138689, "life_expect": 46.218, "fertility": 8.5}, {"year": 1985, "country": "Rwanda", "cluster": 2, "pop": 6009833, "life_expect": 44.02, "fertility": 8.25}, {"year": 1990, "country": "Rwanda", "cluster": 2, "pop": 6923738, "life_expect": 23.599, "fertility": 6.9}, {"year": 1995, "country": "Rwanda", "cluster": 2, "pop": 5706501, "life_expect": 36.087, "fertility": 6.0993}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2005, "country": "Rwanda", "cluster": 2, "pop": 8440820, "life_expect": 46.242, "fertility": 5.9169}, {"year": 1955, "country": "Saudi Arabia", "cluster": 5, "pop": 4243218, "life_expect": 42.868, "fertility": 7.175}, {"year": 1960, "country": "Saudi Arabia", "cluster": 5, "pop": 4718301, "life_expect": 45.914, "fertility": 7.257}, {"year": 1965, "country": "Saudi Arabia", "cluster": 5, "pop": 5327432, "life_expect": 49.901, "fertility": 7.257}, {"year": 1970, "country": "Saudi Arabia", "cluster": 5, "pop": 6109051, "life_expect": 53.886, "fertility": 7.298}, {"year": 1975, "country": "Saudi Arabia", "cluster": 5, "pop": 7204820, "life_expect": 58.69, "fertility": 7.278}, {"year": 1980, "country": "Saudi Arabia", "cluster": 5, "pop": 9999161, "life_expect": 63.012, "fertility": 7.015}, {"year": 1985, "country": "Saudi Arabia", "cluster": 5, "pop": 13330067, "life_expect": 66.295, "fertility": 6.217}, {"year": 1990, "country": "Saudi Arabia", "cluster": 5, "pop": 16060761, "life_expect": 68.768, "fertility": 5.446}, {"year": 1995, "country": "Saudi Arabia", "cluster": 5, "pop": 19966998, "life_expect": 70.533, "fertility": 4.621}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2005, "country": "Saudi Arabia", "cluster": 5, "pop": 26417599, "life_expect": 72.777, "fertility": 3.352}, {"year": 1955, "country": "South Africa", "cluster": 2, "pop": 15368551, "life_expect": 47.985, "fertility": 6.5}, {"year": 1960, "country": "South Africa", "cluster": 2, "pop": 17416653, "life_expect": 49.951, "fertility": 6.3}, {"year": 1965, "country": "South Africa", "cluster": 2, "pop": 19898242, "life_expect": 51.927, "fertility": 5.7}, {"year": 1970, "country": "South Africa", "cluster": 2, "pop": 22739921, "life_expect": 53.696, "fertility": 5.47}, {"year": 1975, "country": "South Africa", "cluster": 2, "pop": 25815144, "life_expect": 55.527, "fertility": 5.0}, {"year": 1980, "country": "South Africa", "cluster": 2, "pop": 29251588, "life_expect": 58.161, "fertility": 4.556}, {"year": 1985, "country": "South Africa", "cluster": 2, "pop": 34254092, "life_expect": 60.834, "fertility": 3.85}, {"year": 1990, "country": "South Africa", "cluster": 2, "pop": 38391094, "life_expect": 61.888, "fertility": 3.343}, {"year": 1995, "country": "South Africa", "cluster": 2, "pop": 41779149, "life_expect": 60.236, "fertility": 2.954}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2005, "country": "South Africa", "cluster": 2, "pop": 44344136, "life_expect": 49.339, "fertility": 2.637}, {"year": 1955, "country": "Spain", "cluster": 1, "pop": 29318745, "life_expect": 66.66, "fertility": 2.75}, {"year": 1960, "country": "Spain", "cluster": 1, "pop": 30641187, "life_expect": 69.69, "fertility": 2.89}, {"year": 1965, "country": "Spain", "cluster": 1, "pop": 32084511, "life_expect": 71.44, "fertility": 2.92}, {"year": 1970, "country": "Spain", "cluster": 1, "pop": 33876479, "life_expect": 73.06, "fertility": 2.86}, {"year": 1975, "country": "Spain", "cluster": 1, "pop": 35563535, "life_expect": 74.39, "fertility": 2.57}, {"year": 1980, "country": "Spain", "cluster": 1, "pop": 37488360, "life_expect": 76.3, "fertility": 1.8900000000000001}, {"year": 1985, "country": "Spain", "cluster": 1, "pop": 38534853, "life_expect": 76.9, "fertility": 1.48}, {"year": 1990, "country": "Spain", "cluster": 1, "pop": 39350769, "life_expect": 77.57, "fertility": 1.27}, {"year": 1995, "country": "Spain", "cluster": 1, "pop": 39749715, "life_expect": 78.77, "fertility": 1.182}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2005, "country": "Spain", "cluster": 1, "pop": 40341462, "life_expect": 80.941, "fertility": 1.409}, {"year": 1955, "country": "Switzerland", "cluster": 1, "pop": 4980000, "life_expect": 70.56, "fertility": 2.34}, {"year": 1960, "country": "Switzerland", "cluster": 1, "pop": 5362000, "life_expect": 71.32, "fertility": 2.5100000000000002}, {"year": 1965, "country": "Switzerland", "cluster": 1, "pop": 5943000, "life_expect": 72.77, "fertility": 2.27}, {"year": 1970, "country": "Switzerland", "cluster": 1, "pop": 6267000, "life_expect": 73.78, "fertility": 1.82}, {"year": 1975, "country": "Switzerland", "cluster": 1, "pop": 6403500, "life_expect": 75.39, "fertility": 1.53}, {"year": 1980, "country": "Switzerland", "cluster": 1, "pop": 6385229, "life_expect": 76.21, "fertility": 1.53}, {"year": 1985, "country": "Switzerland", "cluster": 1, "pop": 6563770, "life_expect": 77.41, "fertility": 1.53}, {"year": 1990, "country": "Switzerland", "cluster": 1, "pop": 6836626, "life_expect": 78.03, "fertility": 1.54}, {"year": 1995, "country": "Switzerland", "cluster": 1, "pop": 7157106, "life_expect": 79.37, "fertility": 1.47}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2005, "country": "Switzerland", "cluster": 1, "pop": 7489370, "life_expect": 81.701, "fertility": 1.42}, {"year": 1955, "country": "Turkey", "cluster": 1, "pop": 24144571, "life_expect": 48.079, "fertility": 6.6}, {"year": 1960, "country": "Turkey", "cluster": 1, "pop": 28217122, "life_expect": 52.098, "fertility": 6.19}, {"year": 1965, "country": "Turkey", "cluster": 1, "pop": 31950718, "life_expect": 54.336, "fertility": 5.7}, {"year": 1970, "country": "Turkey", "cluster": 1, "pop": 35758382, "life_expect": 57.005, "fertility": 5.3}, {"year": 1975, "country": "Turkey", "cluster": 1, "pop": 40529798, "life_expect": 59.507, "fertility": 4.715}, {"year": 1980, "country": "Turkey", "cluster": 1, "pop": 45120802, "life_expect": 61.036, "fertility": 4.15}, {"year": 1985, "country": "Turkey", "cluster": 1, "pop": 50669003, "life_expect": 63.108, "fertility": 3.276}, {"year": 1990, "country": "Turkey", "cluster": 1, "pop": 56084632, "life_expect": 66.146, "fertility": 2.904}, {"year": 1995, "country": "Turkey", "cluster": 1, "pop": 61188984, "life_expect": 68.835, "fertility": 2.574}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2005, "country": "Turkey", "cluster": 1, "pop": 69660559, "life_expect": 71.777, "fertility": 2.143}, {"year": 1955, "country": "United Kingdom", "cluster": 1, "pop": 50946000, "life_expect": 70.42, "fertility": 2.49}, {"year": 1960, "country": "United Kingdom", "cluster": 1, "pop": 52372000, "life_expect": 70.76, "fertility": 2.81}, {"year": 1965, "country": "United Kingdom", "cluster": 1, "pop": 54350000, "life_expect": 71.36, "fertility": 2.52}, {"year": 1970, "country": "United Kingdom", "cluster": 1, "pop": 55632000, "life_expect": 72.01, "fertility": 2.04}, {"year": 1975, "country": "United Kingdom", "cluster": 1, "pop": 56215000, "life_expect": 72.76, "fertility": 1.72}, {"year": 1980, "country": "United Kingdom", "cluster": 1, "pop": 56314000, "life_expect": 74.04, "fertility": 1.8}, {"year": 1985, "country": "United Kingdom", "cluster": 1, "pop": 56620240, "life_expect": 75.007, "fertility": 1.81}, {"year": 1990, "country": "United Kingdom", "cluster": 1, "pop": 57493307, "life_expect": 76.42, "fertility": 1.78}, {"year": 1995, "country": "United Kingdom", "cluster": 1, "pop": 58426014, "life_expect": 77.218, "fertility": 1.7}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2005, "country": "United Kingdom", "cluster": 1, "pop": 60441457, "life_expect": 79.425, "fertility": 1.815}, {"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}, {"year": 1955, "country": "Venezuela", "cluster": 3, "pop": 6170497, "life_expect": 57.907, "fertility": 6.4585}, {"year": 1960, "country": "Venezuela", "cluster": 3, "pop": 7556483, "life_expect": 60.77, "fertility": 6.657}, {"year": 1965, "country": "Venezuela", "cluster": 3, "pop": 9067735, "life_expect": 63.479, "fertility": 5.9045}, {"year": 1970, "country": "Venezuela", "cluster": 3, "pop": 10758017, "life_expect": 65.712, "fertility": 4.941}, {"year": 1975, "country": "Venezuela", "cluster": 3, "pop": 12674987, "life_expect": 67.456, "fertility": 4.4685}, {"year": 1980, "country": "Venezuela", "cluster": 3, "pop": 14767890, "life_expect": 68.557, "fertility": 3.957}, {"year": 1985, "country": "Venezuela", "cluster": 3, "pop": 16997509, "life_expect": 70.19, "fertility": 3.6485}, {"year": 1990, "country": "Venezuela", "cluster": 3, "pop": 19325222, "life_expect": 71.15, "fertility": 3.25}, {"year": 1995, "country": "Venezuela", "cluster": 3, "pop": 21555902, "life_expect": 72.146, "fertility": 2.9415}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}, {"year": 2005, "country": "Venezuela", "cluster": 3, "pop": 25375281, "life_expect": 73.747, "fertility": 2.547}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>We can see interesting variations per country, but overall trends for lower numbers of children per family over time. Also note that we set a custom width of 400 pixels. <em>Try changing (or removing) the widths and see what happens!</em></p>
<p>Let’s change some of the default mark parameters to customize the plot. We can set the <code class="docutils literal notranslate"><span class="pre">strokeWidth</span></code> to determine the thickness of the lines and the <code class="docutils literal notranslate"><span class="pre">opacity</span></code> to add some transparency. By default, the <code class="docutils literal notranslate"><span class="pre">line</span></code> mark uses straight line segments to connect data points. In some cases we might want to smooth the lines. We can adjust the interpolation used to connect data points by setting the <code class="docutils literal notranslate"><span class="pre">interpolate</span></code> mark parameter. Let’s use <code class="docutils literal notranslate"><span class="pre">'monotone'</span></code> interpolation to provide smooth lines that are also guaranteed not to inadvertently generate “false” minimum or maximum values as a result of the interpolation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">(</span>
    <span class="n">strokeWidth</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">interpolate</span><span class="o">=</span><span class="s1">&#39;monotone&#39;</span>
<span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">400</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-338be5eee75b495b9516ebef3b9f7beb.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-338be5eee75b495b9516ebef3b9f7beb.vega-embed details,
  #altair-viz-338be5eee75b495b9516ebef3b9f7beb.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-338be5eee75b495b9516ebef3b9f7beb"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-338be5eee75b495b9516ebef3b9f7beb") {
      outputDiv = document.getElementById("altair-viz-338be5eee75b495b9516ebef3b9f7beb");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-470debe790b2207869b38a22347b358b"}, "mark": {"type": "line", "interpolate": "monotone", "opacity": 0.5, "strokeWidth": 3}, "encoding": {"color": {"field": "country", "legend": null, "type": "nominal"}, "tooltip": {"field": "country", "type": "nominal"}, "x": {"field": "year", "type": "ordinal"}, "y": {"field": "fertility", "type": "quantitative"}}, "width": 400, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-470debe790b2207869b38a22347b358b": [{"year": 1955, "country": "Afghanistan", "cluster": 0, "pop": 8891209, "life_expect": 30.332, "fertility": 7.7}, {"year": 1960, "country": "Afghanistan", "cluster": 0, "pop": 9829450, "life_expect": 31.997, "fertility": 7.7}, {"year": 1965, "country": "Afghanistan", "cluster": 0, "pop": 10997885, "life_expect": 34.02, "fertility": 7.7}, {"year": 1970, "country": "Afghanistan", "cluster": 0, "pop": 12430623, "life_expect": 36.088, "fertility": 7.7}, {"year": 1975, "country": "Afghanistan", "cluster": 0, "pop": 14132019, "life_expect": 38.438, "fertility": 7.7}, {"year": 1980, "country": "Afghanistan", "cluster": 0, "pop": 15112149, "life_expect": 39.854, "fertility": 7.8}, {"year": 1985, "country": "Afghanistan", "cluster": 0, "pop": 13796928, "life_expect": 40.822, "fertility": 7.9}, {"year": 1990, "country": "Afghanistan", "cluster": 0, "pop": 14669339, "life_expect": 41.674, "fertility": 8.0}, {"year": 1995, "country": "Afghanistan", "cluster": 0, "pop": 20881480, "life_expect": 41.763, "fertility": 8.0}, {"year": 2000, "country": "Afghanistan", "cluster": 0, "pop": 23898198, "life_expect": 42.129, "fertility": 7.4792}, {"year": 2005, "country": "Afghanistan", "cluster": 0, "pop": 29928987, "life_expect": 43.828, "fertility": 7.0685}, {"year": 1955, "country": "Argentina", "cluster": 3, "pop": 18927821, "life_expect": 64.399, "fertility": 3.1265}, {"year": 1960, "country": "Argentina", "cluster": 3, "pop": 20616009, "life_expect": 65.142, "fertility": 3.0895}, {"year": 1965, "country": "Argentina", "cluster": 3, "pop": 22283100, "life_expect": 65.634, "fertility": 3.049}, {"year": 1970, "country": "Argentina", "cluster": 3, "pop": 23962313, "life_expect": 67.065, "fertility": 3.1455}, {"year": 1975, "country": "Argentina", "cluster": 3, "pop": 26081880, "life_expect": 68.481, "fertility": 3.44}, {"year": 1980, "country": "Argentina", "cluster": 3, "pop": 28369799, "life_expect": 69.942, "fertility": 3.15}, {"year": 1985, "country": "Argentina", "cluster": 3, "pop": 30675059, "life_expect": 70.774, "fertility": 3.053}, {"year": 1990, "country": "Argentina", "cluster": 3, "pop": 33022202, "life_expect": 71.868, "fertility": 2.9}, {"year": 1995, "country": "Argentina", "cluster": 3, "pop": 35311049, "life_expect": 73.275, "fertility": 2.63}, {"year": 2000, "country": "Argentina", "cluster": 3, "pop": 37497728, "life_expect": 74.34, "fertility": 2.35}, {"year": 2005, "country": "Argentina", "cluster": 3, "pop": 39537943, "life_expect": 75.32, "fertility": 2.254}, {"year": 1955, "country": "Aruba", "cluster": 3, "pop": 53865, "life_expect": 64.381, "fertility": 5.15}, {"year": 1960, "country": "Aruba", "cluster": 3, "pop": 57203, "life_expect": 66.606, "fertility": 4.399}, {"year": 1965, "country": "Aruba", "cluster": 3, "pop": 59020, "life_expect": 68.336, "fertility": 3.301}, {"year": 1970, "country": "Aruba", "cluster": 3, "pop": 59039, "life_expect": 70.941, "fertility": 2.651}, {"year": 1975, "country": "Aruba", "cluster": 3, "pop": 59390, "life_expect": 71.83, "fertility": 2.45}, {"year": 1980, "country": "Aruba", "cluster": 3, "pop": 60266, "life_expect": 74.116, "fertility": 2.358}, {"year": 1985, "country": "Aruba", "cluster": 3, "pop": 64129, "life_expect": 74.494, "fertility": 2.3}, {"year": 1990, "country": "Aruba", "cluster": 3, "pop": 66653, "life_expect": 74.108, "fertility": 2.28}, {"year": 1995, "country": "Aruba", "cluster": 3, "pop": 67836, "life_expect": 73.011, "fertility": 2.208}, {"year": 2000, "country": "Aruba", "cluster": 3, "pop": 69539, "life_expect": 73.451, "fertility": 2.124}, {"year": 2005, "country": "Aruba", "cluster": 3, "pop": 71566, "life_expect": 74.239, "fertility": 2.04}, {"year": 1955, "country": "Australia", "cluster": 4, "pop": 9277087, "life_expect": 70.33, "fertility": 3.406}, {"year": 1960, "country": "Australia", "cluster": 4, "pop": 10361273, "life_expect": 70.93, "fertility": 3.274}, {"year": 1965, "country": "Australia", "cluster": 4, "pop": 11439384, "life_expect": 71.1, "fertility": 2.871}, {"year": 1970, "country": "Australia", "cluster": 4, "pop": 12660160, "life_expect": 71.93, "fertility": 2.535}, {"year": 1975, "country": "Australia", "cluster": 4, "pop": 13771400, "life_expect": 73.49, "fertility": 1.989}, {"year": 1980, "country": "Australia", "cluster": 4, "pop": 14615900, "life_expect": 74.74, "fertility": 1.907}, {"year": 1985, "country": "Australia", "cluster": 4, "pop": 15788300, "life_expect": 76.32, "fertility": 1.859}, {"year": 1990, "country": "Australia", "cluster": 4, "pop": 17022133, "life_expect": 77.56, "fertility": 1.86}, {"year": 1995, "country": "Australia", "cluster": 4, "pop": 18116171, "life_expect": 78.83, "fertility": 1.776}, {"year": 2000, "country": "Australia", "cluster": 4, "pop": 19164620, "life_expect": 80.37, "fertility": 1.756}, {"year": 2005, "country": "Australia", "cluster": 4, "pop": 20090437, "life_expect": 81.235, "fertility": 1.788}, {"year": 1955, "country": "Austria", "cluster": 1, "pop": 6946885, "life_expect": 67.48, "fertility": 2.52}, {"year": 1960, "country": "Austria", "cluster": 1, "pop": 7047437, "life_expect": 69.54, "fertility": 2.78}, {"year": 1965, "country": "Austria", "cluster": 1, "pop": 7270889, "life_expect": 70.14, "fertility": 2.53}, {"year": 1970, "country": "Austria", "cluster": 1, "pop": 7467086, "life_expect": 70.63, "fertility": 2.02}, {"year": 1975, "country": "Austria", "cluster": 1, "pop": 7578903, "life_expect": 72.17, "fertility": 1.6400000000000001}, {"year": 1980, "country": "Austria", "cluster": 1, "pop": 7549433, "life_expect": 73.18, "fertility": 1.62}, {"year": 1985, "country": "Austria", "cluster": 1, "pop": 7559776, "life_expect": 74.94, "fertility": 1.45}, {"year": 1990, "country": "Austria", "cluster": 1, "pop": 7722953, "life_expect": 76.04, "fertility": 1.47}, {"year": 1995, "country": "Austria", "cluster": 1, "pop": 8047433, "life_expect": 77.51, "fertility": 1.388}, {"year": 2000, "country": "Austria", "cluster": 1, "pop": 8113413, "life_expect": 78.98, "fertility": 1.3820000000000001}, {"year": 2005, "country": "Austria", "cluster": 1, "pop": 8184691, "life_expect": 79.829, "fertility": 1.42}, {"year": 1955, "country": "Bahamas", "cluster": 3, "pop": 87138, "life_expect": 62.405, "fertility": 4.305}, {"year": 1960, "country": "Bahamas", "cluster": 3, "pop": 112234, "life_expect": 64.209, "fertility": 4.503}, {"year": 1965, "country": "Bahamas", "cluster": 3, "pop": 139205, "life_expect": 65.795, "fertility": 3.794}, {"year": 1970, "country": "Bahamas", "cluster": 3, "pop": 170323, "life_expect": 66.515, "fertility": 3.444}, {"year": 1975, "country": "Bahamas", "cluster": 3, "pop": 189139, "life_expect": 67.199, "fertility": 3.221}, {"year": 1980, "country": "Bahamas", "cluster": 3, "pop": 209944, "life_expect": 67.874, "fertility": 3.16}, {"year": 1985, "country": "Bahamas", "cluster": 3, "pop": 234988, "life_expect": 69.524, "fertility": 2.62}, {"year": 1990, "country": "Bahamas", "cluster": 3, "pop": 257253, "life_expect": 69.171, "fertility": 2.6}, {"year": 1995, "country": "Bahamas", "cluster": 3, "pop": 275303, "life_expect": 68.472, "fertility": 2.4}, {"year": 2000, "country": "Bahamas", "cluster": 3, "pop": 290075, "life_expect": 71.068, "fertility": 2.1111}, {"year": 2005, "country": "Bahamas", "cluster": 3, "pop": 301790, "life_expect": 73.495, "fertility": 2.0221}, {"year": 1955, "country": "Bangladesh", "cluster": 0, "pop": 49601520, "life_expect": 39.348, "fertility": 6.76}, {"year": 1960, "country": "Bangladesh", "cluster": 0, "pop": 54621538, "life_expect": 41.216, "fertility": 6.85}, {"year": 1965, "country": "Bangladesh", "cluster": 0, "pop": 60332117, "life_expect": 43.453, "fertility": 6.6}, {"year": 1970, "country": "Bangladesh", "cluster": 0, "pop": 67402621, "life_expect": 45.252, "fertility": 6.15}, {"year": 1975, "country": "Bangladesh", "cluster": 0, "pop": 76253310, "life_expect": 46.923, "fertility": 5.6}, {"year": 1980, "country": "Bangladesh", "cluster": 0, "pop": 88076996, "life_expect": 50.009, "fertility": 5.25}, {"year": 1985, "country": "Bangladesh", "cluster": 0, "pop": 99752733, "life_expect": 52.819, "fertility": 4.6290000000000004}, {"year": 1990, "country": "Bangladesh", "cluster": 0, "pop": 109896945, "life_expect": 56.018, "fertility": 4.117}, {"year": 1995, "country": "Bangladesh", "cluster": 0, "pop": 119186448, "life_expect": 59.412, "fertility": 3.5043}, {"year": 2000, "country": "Bangladesh", "cluster": 0, "pop": 130406594, "life_expect": 62.013, "fertility": 3.224}, {"year": 2005, "country": "Bangladesh", "cluster": 0, "pop": 144319628, "life_expect": 64.062, "fertility": 2.826}, {"year": 1955, "country": "Barbados", "cluster": 3, "pop": 227255, "life_expect": 62.57, "fertility": 4.67}, {"year": 1960, "country": "Barbados", "cluster": 3, "pop": 232339, "life_expect": 65.87, "fertility": 4.26}, {"year": 1965, "country": "Barbados", "cluster": 3, "pop": 234980, "life_expect": 67.62, "fertility": 3.45}, {"year": 1970, "country": "Barbados", "cluster": 3, "pop": 238756, "life_expect": 69.42, "fertility": 2.74}, {"year": 1975, "country": "Barbados", "cluster": 3, "pop": 247147, "life_expect": 71.27, "fertility": 2.19}, {"year": 1980, "country": "Barbados", "cluster": 3, "pop": 251966, "life_expect": 72.695, "fertility": 1.92}, {"year": 1985, "country": "Barbados", "cluster": 3, "pop": 257446, "life_expect": 74.027, "fertility": 1.75}, {"year": 1990, "country": "Barbados", "cluster": 3, "pop": 262624, "life_expect": 74.894, "fertility": 1.6}, {"year": 1995, "country": "Barbados", "cluster": 3, "pop": 267907, "life_expect": 74.912, "fertility": 1.5}, {"year": 2000, "country": "Barbados", "cluster": 3, "pop": 273483, "life_expect": 75.97, "fertility": 1.5}, {"year": 2005, "country": "Barbados", "cluster": 3, "pop": 278870, "life_expect": 77.296, "fertility": 1.5}, {"year": 1955, "country": "Belgium", "cluster": 1, "pop": 8868475, "life_expect": 69.24, "fertility": 2.496}, {"year": 1960, "country": "Belgium", "cluster": 1, "pop": 9118700, "life_expect": 70.25, "fertility": 2.644}, {"year": 1965, "country": "Belgium", "cluster": 1, "pop": 9448100, "life_expect": 70.94, "fertility": 2.392}, {"year": 1970, "country": "Belgium", "cluster": 1, "pop": 9637800, "life_expect": 71.44, "fertility": 2.015}, {"year": 1975, "country": "Belgium", "cluster": 1, "pop": 9794800, "life_expect": 72.8, "fertility": 1.705}, {"year": 1980, "country": "Belgium", "cluster": 1, "pop": 9846800, "life_expect": 73.93, "fertility": 1.595}, {"year": 1985, "country": "Belgium", "cluster": 1, "pop": 9858200, "life_expect": 75.35, "fertility": 1.559}, {"year": 1990, "country": "Belgium", "cluster": 1, "pop": 9969310, "life_expect": 76.46, "fertility": 1.613}, {"year": 1995, "country": "Belgium", "cluster": 1, "pop": 10155459, "life_expect": 77.53, "fertility": 1.604}, {"year": 2000, "country": "Belgium", "cluster": 1, "pop": 10263618, "life_expect": 78.32, "fertility": 1.6380000000000001}, {"year": 2005, "country": "Belgium", "cluster": 1, "pop": 10364388, "life_expect": 79.441, "fertility": 1.646}, {"year": 1955, "country": "Bolivia", "cluster": 3, "pop": 3074311, "life_expect": 41.89, "fertility": 6.75}, {"year": 1960, "country": "Bolivia", "cluster": 3, "pop": 3434073, "life_expect": 43.428, "fertility": 6.63}, {"year": 1965, "country": "Bolivia", "cluster": 3, "pop": 3853315, "life_expect": 45.032, "fertility": 6.56}, {"year": 1970, "country": "Bolivia", "cluster": 3, "pop": 4346218, "life_expect": 46.714, "fertility": 6.5}, {"year": 1975, "country": "Bolivia", "cluster": 3, "pop": 4914316, "life_expect": 50.023, "fertility": 5.8}, {"year": 1980, "country": "Bolivia", "cluster": 3, "pop": 5441298, "life_expect": 53.859, "fertility": 5.2995}, {"year": 1985, "country": "Bolivia", "cluster": 3, "pop": 5934935, "life_expect": 57.251, "fertility": 5.0}, {"year": 1990, "country": "Bolivia", "cluster": 3, "pop": 6573900, "life_expect": 59.957, "fertility": 4.8}, {"year": 1995, "country": "Bolivia", "cluster": 3, "pop": 7376582, "life_expect": 62.05, "fertility": 4.324}, {"year": 2000, "country": "Bolivia", "cluster": 3, "pop": 8152620, "life_expect": 63.883, "fertility": 3.9585}, {"year": 2005, "country": "Bolivia", "cluster": 3, "pop": 8857870, "life_expect": 65.554, "fertility": 3.5}, {"year": 1955, "country": "Brazil", "cluster": 3, "pop": 61773546, "life_expect": 53.285, "fertility": 6.1501}, {"year": 1960, "country": "Brazil", "cluster": 3, "pop": 71694810, "life_expect": 55.665, "fertility": 6.1501}, {"year": 1965, "country": "Brazil", "cluster": 3, "pop": 83092908, "life_expect": 57.632, "fertility": 5.38}, {"year": 1970, "country": "Brazil", "cluster": 3, "pop": 95684297, "life_expect": 59.504, "fertility": 4.7175}, {"year": 1975, "country": "Brazil", "cluster": 3, "pop": 108823732, "life_expect": 61.489, "fertility": 4.305}, {"year": 1980, "country": "Brazil", "cluster": 3, "pop": 122958132, "life_expect": 63.336, "fertility": 3.8}, {"year": 1985, "country": "Brazil", "cluster": 3, "pop": 137302933, "life_expect": 65.205, "fertility": 3.1}, {"year": 1990, "country": "Brazil", "cluster": 3, "pop": 151083809, "life_expect": 67.057, "fertility": 2.6}, {"year": 1995, "country": "Brazil", "cluster": 3, "pop": 163542501, "life_expect": 69.388, "fertility": 2.45}, {"year": 2000, "country": "Brazil", "cluster": 3, "pop": 175552771, "life_expect": 71.006, "fertility": 2.345}, {"year": 2005, "country": "Brazil", "cluster": 3, "pop": 186112794, "life_expect": 72.39, "fertility": 2.245}, {"year": 1955, "country": "Canada", "cluster": 3, "pop": 16050356, "life_expect": 69.96, "fertility": 3.882}, {"year": 1960, "country": "Canada", "cluster": 3, "pop": 18266765, "life_expect": 71.3, "fertility": 3.675}, {"year": 1965, "country": "Canada", "cluster": 3, "pop": 20071104, "life_expect": 72.13, "fertility": 2.61}, {"year": 1970, "country": "Canada", "cluster": 3, "pop": 21749986, "life_expect": 72.88, "fertility": 1.976}, {"year": 1975, "country": "Canada", "cluster": 3, "pop": 23209200, "life_expect": 74.21, "fertility": 1.734}, {"year": 1980, "country": "Canada", "cluster": 3, "pop": 24593300, "life_expect": 75.76, "fertility": 1.6340000000000001}, {"year": 1985, "country": "Canada", "cluster": 3, "pop": 25941600, "life_expect": 76.86, "fertility": 1.616}, {"year": 1990, "country": "Canada", "cluster": 3, "pop": 27790600, "life_expect": 77.95, "fertility": 1.694}, {"year": 1995, "country": "Canada", "cluster": 3, "pop": 29619002, "life_expect": 78.61, "fertility": 1.564}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2005, "country": "Canada", "cluster": 3, "pop": 32805041, "life_expect": 80.653, "fertility": 1.527}, {"year": 1955, "country": "Chile", "cluster": 3, "pop": 6743269, "life_expect": 56.074, "fertility": 5.486}, {"year": 1960, "country": "Chile", "cluster": 3, "pop": 7585349, "life_expect": 57.924, "fertility": 5.4385}, {"year": 1965, "country": "Chile", "cluster": 3, "pop": 8509950, "life_expect": 60.523, "fertility": 4.4405}, {"year": 1970, "country": "Chile", "cluster": 3, "pop": 9368558, "life_expect": 63.441, "fertility": 3.63}, {"year": 1975, "country": "Chile", "cluster": 3, "pop": 10251542, "life_expect": 67.052, "fertility": 2.803}, {"year": 1980, "country": "Chile", "cluster": 3, "pop": 11093718, "life_expect": 70.565, "fertility": 2.671}, {"year": 1985, "country": "Chile", "cluster": 3, "pop": 12066701, "life_expect": 72.492, "fertility": 2.65}, {"year": 1990, "country": "Chile", "cluster": 3, "pop": 13127760, "life_expect": 74.126, "fertility": 2.55}, {"year": 1995, "country": "Chile", "cluster": 3, "pop": 14205449, "life_expect": 75.816, "fertility": 2.21}, {"year": 2000, "country": "Chile", "cluster": 3, "pop": 15153450, "life_expect": 77.86, "fertility": 2.0}, {"year": 2005, "country": "Chile", "cluster": 3, "pop": 15980912, "life_expect": 78.553, "fertility": 1.944}, {"year": 1955, "country": "China", "cluster": 4, "pop": 608655000, "life_expect": 50.54896, "fertility": 5.59}, {"year": 1960, "country": "China", "cluster": 4, "pop": 667070000, "life_expect": 44.50136, "fertility": 5.72}, {"year": 1965, "country": "China", "cluster": 4, "pop": 715185000, "life_expect": 58.38112, "fertility": 6.06}, {"year": 1970, "country": "China", "cluster": 4, "pop": 818315000, "life_expect": 63.11888, "fertility": 4.86}, {"year": 1975, "country": "China", "cluster": 4, "pop": 916395000, "life_expect": 63.96736, "fertility": 3.32}, {"year": 1980, "country": "China", "cluster": 4, "pop": 981235000, "life_expect": 65.525, "fertility": 2.55}, {"year": 1985, "country": "China", "cluster": 4, "pop": 1051040000, "life_expect": 67.274, "fertility": 2.46}, {"year": 1990, "country": "China", "cluster": 4, "pop": 1135185000, "life_expect": 68.69, "fertility": 1.92}, {"year": 1995, "country": "China", "cluster": 4, "pop": 1204855000, "life_expect": 70.426, "fertility": 1.781}, {"year": 2000, "country": "China", "cluster": 4, "pop": 1262645000, "life_expect": 72.028, "fertility": 1.7}, {"year": 2005, "country": "China", "cluster": 4, "pop": 1303182268, "life_expect": 72.961, "fertility": 1.725}, {"year": 1955, "country": "Colombia", "cluster": 3, "pop": 13588405, "life_expect": 55.118, "fertility": 6.76}, {"year": 1960, "country": "Colombia", "cluster": 3, "pop": 15952727, "life_expect": 57.863, "fertility": 6.76}, {"year": 1965, "country": "Colombia", "cluster": 3, "pop": 18646175, "life_expect": 59.963, "fertility": 6.18}, {"year": 1970, "country": "Colombia", "cluster": 3, "pop": 21429658, "life_expect": 61.623, "fertility": 5.0005}, {"year": 1975, "country": "Colombia", "cluster": 3, "pop": 24114177, "life_expect": 63.837, "fertility": 4.3385}, {"year": 1980, "country": "Colombia", "cluster": 3, "pop": 26582811, "life_expect": 66.653, "fertility": 3.685}, {"year": 1985, "country": "Colombia", "cluster": 3, "pop": 29678395, "life_expect": 67.768, "fertility": 3.172}, {"year": 1990, "country": "Colombia", "cluster": 3, "pop": 32858579, "life_expect": 68.421, "fertility": 2.93005}, {"year": 1995, "country": "Colombia", "cluster": 3, "pop": 36280883, "life_expect": 70.313, "fertility": 2.7}, {"year": 2000, "country": "Colombia", "cluster": 3, "pop": 39685655, "life_expect": 71.682, "fertility": 2.4705}, {"year": 2005, "country": "Colombia", "cluster": 3, "pop": 42954279, "life_expect": 72.889, "fertility": 2.2205}, {"year": 1955, "country": "Costa Rica", "cluster": 3, "pop": 1031782, "life_expect": 60.026, "fertility": 7.1135}, {"year": 1960, "country": "Costa Rica", "cluster": 3, "pop": 1248022, "life_expect": 62.842, "fertility": 7.2245}, {"year": 1965, "country": "Costa Rica", "cluster": 3, "pop": 1487605, "life_expect": 65.424, "fertility": 5.801}, {"year": 1970, "country": "Costa Rica", "cluster": 3, "pop": 1735523, "life_expect": 67.849, "fertility": 4.346}, {"year": 1975, "country": "Costa Rica", "cluster": 3, "pop": 1991580, "life_expect": 70.75, "fertility": 3.7755}, {"year": 1980, "country": "Costa Rica", "cluster": 3, "pop": 2299124, "life_expect": 73.45, "fertility": 3.527}, {"year": 1985, "country": "Costa Rica", "cluster": 3, "pop": 2643808, "life_expect": 74.752, "fertility": 3.374}, {"year": 1990, "country": "Costa Rica", "cluster": 3, "pop": 3027175, "life_expect": 75.713, "fertility": 2.945}, {"year": 1995, "country": "Costa Rica", "cluster": 3, "pop": 3383786, "life_expect": 77.26, "fertility": 2.5835}, {"year": 2000, "country": "Costa Rica", "cluster": 3, "pop": 3710558, "life_expect": 78.123, "fertility": 2.2815}, {"year": 2005, "country": "Costa Rica", "cluster": 3, "pop": 4016173, "life_expect": 78.782, "fertility": 2.0985}, {"year": 1955, "country": "Croatia", "cluster": 1, "pop": 3955526, "life_expect": 64.77, "fertility": 2.42}, {"year": 1960, "country": "Croatia", "cluster": 1, "pop": 4036145, "life_expect": 67.13, "fertility": 2.27}, {"year": 1965, "country": "Croatia", "cluster": 1, "pop": 4133313, "life_expect": 68.5, "fertility": 2.09}, {"year": 1970, "country": "Croatia", "cluster": 1, "pop": 4205389, "life_expect": 69.61, "fertility": 1.96}, {"year": 1975, "country": "Croatia", "cluster": 1, "pop": 4255000, "life_expect": 70.64, "fertility": 2.02}, {"year": 1980, "country": "Croatia", "cluster": 1, "pop": 4383000, "life_expect": 70.46, "fertility": 1.96}, {"year": 1985, "country": "Croatia", "cluster": 1, "pop": 4457874, "life_expect": 71.52, "fertility": 1.84}, {"year": 1990, "country": "Croatia", "cluster": 1, "pop": 4508347, "life_expect": 72.527, "fertility": 1.52}, {"year": 1995, "country": "Croatia", "cluster": 1, "pop": 4496683, "life_expect": 73.68, "fertility": 1.537}, {"year": 2000, "country": "Croatia", "cluster": 1, "pop": 4410830, "life_expect": 74.876, "fertility": 1.348}, {"year": 2005, "country": "Croatia", "cluster": 1, "pop": 4495904, "life_expect": 75.748, "fertility": 1.346}, {"year": 1955, "country": "Cuba", "cluster": 3, "pop": 6381106, "life_expect": 62.325, "fertility": 3.6995}, {"year": 1960, "country": "Cuba", "cluster": 3, "pop": 7027210, "life_expect": 65.246, "fertility": 4.6805}, {"year": 1965, "country": "Cuba", "cluster": 3, "pop": 7809916, "life_expect": 68.29, "fertility": 4.3}, {"year": 1970, "country": "Cuba", "cluster": 3, "pop": 8542746, "life_expect": 70.723, "fertility": 3.6}, {"year": 1975, "country": "Cuba", "cluster": 3, "pop": 9290074, "life_expect": 72.649, "fertility": 2.15}, {"year": 1980, "country": "Cuba", "cluster": 3, "pop": 9652975, "life_expect": 73.717, "fertility": 1.8495000000000001}, {"year": 1985, "country": "Cuba", "cluster": 3, "pop": 10078658, "life_expect": 74.174, "fertility": 1.8495000000000001}, {"year": 1990, "country": "Cuba", "cluster": 3, "pop": 10544793, "life_expect": 74.414, "fertility": 1.6505}, {"year": 1995, "country": "Cuba", "cluster": 3, "pop": 10896802, "life_expect": 76.151, "fertility": 1.6095}, {"year": 2000, "country": "Cuba", "cluster": 3, "pop": 11134273, "life_expect": 77.158, "fertility": 1.6300000000000001}, {"year": 2005, "country": "Cuba", "cluster": 3, "pop": 11346670, "life_expect": 78.273, "fertility": 1.49}, {"year": 1955, "country": "Dominican Republic", "cluster": 3, "pop": 2737257, "life_expect": 49.828, "fertility": 7.6405}, {"year": 1960, "country": "Dominican Republic", "cluster": 3, "pop": 3231488, "life_expect": 53.459, "fertility": 7.3505}, {"year": 1965, "country": "Dominican Republic", "cluster": 3, "pop": 3805881, "life_expect": 56.751, "fertility": 6.6495}, {"year": 1970, "country": "Dominican Republic", "cluster": 3, "pop": 4422755, "life_expect": 59.631, "fertility": 5.71}, {"year": 1975, "country": "Dominican Republic", "cluster": 3, "pop": 5048499, "life_expect": 61.788, "fertility": 4.76}, {"year": 1980, "country": "Dominican Republic", "cluster": 3, "pop": 5696855, "life_expect": 63.727, "fertility": 4.0}, {"year": 1985, "country": "Dominican Republic", "cluster": 3, "pop": 6377765, "life_expect": 66.046, "fertility": 3.47}, {"year": 1990, "country": "Dominican Republic", "cluster": 3, "pop": 7077651, "life_expect": 68.457, "fertility": 3.1995}, {"year": 1995, "country": "Dominican Republic", "cluster": 3, "pop": 7730224, "life_expect": 69.957, "fertility": 3.05}, {"year": 2000, "country": "Dominican Republic", "cluster": 3, "pop": 8385828, "life_expect": 70.847, "fertility": 2.95}, {"year": 2005, "country": "Dominican Republic", "cluster": 3, "pop": 9049595, "life_expect": 72.235, "fertility": 2.81}, {"year": 1955, "country": "Ecuador", "cluster": 3, "pop": 3842399, "life_expect": 51.356, "fertility": 6.7}, {"year": 1960, "country": "Ecuador", "cluster": 3, "pop": 4415956, "life_expect": 54.64, "fertility": 6.7}, {"year": 1965, "country": "Ecuador", "cluster": 3, "pop": 5117779, "life_expect": 56.678, "fertility": 6.5}, {"year": 1970, "country": "Ecuador", "cluster": 3, "pop": 5939246, "life_expect": 58.796, "fertility": 6.0005}, {"year": 1975, "country": "Ecuador", "cluster": 3, "pop": 6871698, "life_expect": 61.31, "fertility": 5.4005}, {"year": 1980, "country": "Ecuador", "cluster": 3, "pop": 7920499, "life_expect": 64.342, "fertility": 4.7005}, {"year": 1985, "country": "Ecuador", "cluster": 3, "pop": 9061664, "life_expect": 67.231, "fertility": 4.0}, {"year": 1990, "country": "Ecuador", "cluster": 3, "pop": 10318036, "life_expect": 69.613, "fertility": 3.4005}, {"year": 1995, "country": "Ecuador", "cluster": 3, "pop": 11438004, "life_expect": 72.312, "fertility": 3.1}, {"year": 2000, "country": "Ecuador", "cluster": 3, "pop": 12505204, "life_expect": 74.173, "fertility": 2.8175}, {"year": 2005, "country": "Ecuador", "cluster": 3, "pop": 13363593, "life_expect": 74.994, "fertility": 2.578}, {"year": 1955, "country": "Egypt", "cluster": 5, "pop": 23855527, "life_expect": 44.444, "fertility": 6.97}, {"year": 1960, "country": "Egypt", "cluster": 5, "pop": 26846610, "life_expect": 46.992, "fertility": 7.073}, {"year": 1965, "country": "Egypt", "cluster": 5, "pop": 30265148, "life_expect": 49.293, "fertility": 6.56}, {"year": 1970, "country": "Egypt", "cluster": 5, "pop": 33574026, "life_expect": 51.137, "fertility": 5.855}, {"year": 1975, "country": "Egypt", "cluster": 5, "pop": 36952499, "life_expect": 53.319, "fertility": 5.609}, {"year": 1980, "country": "Egypt", "cluster": 5, "pop": 42634215, "life_expect": 56.006, "fertility": 5.332}, {"year": 1985, "country": "Egypt", "cluster": 5, "pop": 50052381, "life_expect": 59.797, "fertility": 4.833}, {"year": 1990, "country": "Egypt", "cluster": 5, "pop": 56694413, "life_expect": 63.674, "fertility": 3.908}, {"year": 1995, "country": "Egypt", "cluster": 5, "pop": 63321615, "life_expect": 67.217, "fertility": 3.5}, {"year": 2000, "country": "Egypt", "cluster": 5, "pop": 70492342, "life_expect": 69.806, "fertility": 3.174}, {"year": 2005, "country": "Egypt", "cluster": 5, "pop": 77505756, "life_expect": 71.338, "fertility": 2.891}, {"year": 1955, "country": "El Salvador", "cluster": 3, "pop": 2221139, "life_expect": 48.57, "fertility": 6.8065}, {"year": 1960, "country": "El Salvador", "cluster": 3, "pop": 2581583, "life_expect": 52.307, "fertility": 6.847}, {"year": 1965, "country": "El Salvador", "cluster": 3, "pop": 3017852, "life_expect": 55.855, "fertility": 6.621}, {"year": 1970, "country": "El Salvador", "cluster": 3, "pop": 3603907, "life_expect": 58.207, "fertility": 6.0995}, {"year": 1975, "country": "El Salvador", "cluster": 3, "pop": 4071179, "life_expect": 56.696, "fertility": 5.5996}, {"year": 1980, "country": "El Salvador", "cluster": 3, "pop": 4566199, "life_expect": 56.604, "fertility": 4.5}, {"year": 1985, "country": "El Salvador", "cluster": 3, "pop": 4664361, "life_expect": 63.154, "fertility": 3.901}, {"year": 1990, "country": "El Salvador", "cluster": 3, "pop": 5099884, "life_expect": 66.798, "fertility": 3.52}, {"year": 1995, "country": "El Salvador", "cluster": 3, "pop": 5568437, "life_expect": 69.535, "fertility": 3.17}, {"year": 2000, "country": "El Salvador", "cluster": 3, "pop": 6122515, "life_expect": 70.734, "fertility": 2.883}, {"year": 2005, "country": "El Salvador", "cluster": 3, "pop": 6704932, "life_expect": 71.878, "fertility": 2.6825}, {"year": 1955, "country": "Finland", "cluster": 1, "pop": 4234900, "life_expect": 67.49, "fertility": 2.769}, {"year": 1960, "country": "Finland", "cluster": 1, "pop": 4429600, "life_expect": 68.75, "fertility": 2.66}, {"year": 1965, "country": "Finland", "cluster": 1, "pop": 4563732, "life_expect": 69.83, "fertility": 2.191}, {"year": 1970, "country": "Finland", "cluster": 1, "pop": 4606307, "life_expect": 70.87, "fertility": 1.623}, {"year": 1975, "country": "Finland", "cluster": 1, "pop": 4711439, "life_expect": 72.52, "fertility": 1.663}, {"year": 1980, "country": "Finland", "cluster": 1, "pop": 4779535, "life_expect": 74.55, "fertility": 1.685}, {"year": 1985, "country": "Finland", "cluster": 1, "pop": 4901783, "life_expect": 74.83, "fertility": 1.66}, {"year": 1990, "country": "Finland", "cluster": 1, "pop": 4986431, "life_expect": 75.7, "fertility": 1.819}, {"year": 1995, "country": "Finland", "cluster": 1, "pop": 5104654, "life_expect": 77.13, "fertility": 1.743}, {"year": 2000, "country": "Finland", "cluster": 1, "pop": 5168595, "life_expect": 78.37, "fertility": 1.754}, {"year": 2005, "country": "Finland", "cluster": 1, "pop": 5223442, "life_expect": 79.313, "fertility": 1.825}, {"year": 1955, "country": "France", "cluster": 1, "pop": 43427669, "life_expect": 68.93, "fertility": 2.712}, {"year": 1960, "country": "France", "cluster": 1, "pop": 45670000, "life_expect": 70.51, "fertility": 2.85}, {"year": 1965, "country": "France", "cluster": 1, "pop": 48763000, "life_expect": 71.55, "fertility": 2.607}, {"year": 1970, "country": "France", "cluster": 1, "pop": 50787000, "life_expect": 72.38, "fertility": 2.31}, {"year": 1975, "country": "France", "cluster": 1, "pop": 52758427, "life_expect": 73.83, "fertility": 1.862}, {"year": 1980, "country": "France", "cluster": 1, "pop": 53869743, "life_expect": 74.89, "fertility": 1.866}, {"year": 1985, "country": "France", "cluster": 1, "pop": 55171224, "life_expect": 76.34, "fertility": 1.805}, {"year": 1990, "country": "France", "cluster": 1, "pop": 56735161, "life_expect": 77.46, "fertility": 1.713}, {"year": 1995, "country": "France", "cluster": 1, "pop": 58149727, "life_expect": 78.64, "fertility": 1.7624}, {"year": 2000, "country": "France", "cluster": 1, "pop": 59381628, "life_expect": 79.59, "fertility": 1.8833}, {"year": 2005, "country": "France", "cluster": 1, "pop": 60656178, "life_expect": 80.657, "fertility": 1.8916}, {"year": 1955, "country": "Georgia", "cluster": 1, "pop": 3827154, "life_expect": 62.625, "fertility": 2.909}, {"year": 1960, "country": "Georgia", "cluster": 1, "pop": 4146570, "life_expect": 64.644, "fertility": 2.979}, {"year": 1965, "country": "Georgia", "cluster": 1, "pop": 4464959, "life_expect": 66.654, "fertility": 2.611}, {"year": 1970, "country": "Georgia", "cluster": 1, "pop": 4694491, "life_expect": 68.158, "fertility": 2.601}, {"year": 1975, "country": "Georgia", "cluster": 1, "pop": 4897656, "life_expect": 69.634, "fertility": 2.39}, {"year": 1980, "country": "Georgia", "cluster": 1, "pop": 5045697, "life_expect": 69.638, "fertility": 2.269}, {"year": 1985, "country": "Georgia", "cluster": 1, "pop": 5192957, "life_expect": 70.45, "fertility": 2.263}, {"year": 1990, "country": "Georgia", "cluster": 1, "pop": 5426207, "life_expect": 70.465, "fertility": 1.95}, {"year": 1995, "country": "Georgia", "cluster": 1, "pop": 5012952, "life_expect": 70.49, "fertility": 1.58}, {"year": 2000, "country": "Georgia", "cluster": 1, "pop": 4777209, "life_expect": 70.476, "fertility": 1.478}, {"year": 2005, "country": "Georgia", "cluster": 1, "pop": 4677401, "life_expect": 70.987, "fertility": 1.407}, {"year": 1955, "country": "Germany", "cluster": 1, "pop": 70195612, "life_expect": 69.1, "fertility": 2.3}, {"year": 1960, "country": "Germany", "cluster": 1, "pop": 72480869, "life_expect": 70.3, "fertility": 2.49}, {"year": 1965, "country": "Germany", "cluster": 1, "pop": 75638851, "life_expect": 70.8, "fertility": 2.32}, {"year": 1970, "country": "Germany", "cluster": 1, "pop": 77783164, "life_expect": 71.0, "fertility": 1.6400000000000001}, {"year": 1975, "country": "Germany", "cluster": 1, "pop": 78682325, "life_expect": 72.5, "fertility": 1.52}, {"year": 1980, "country": "Germany", "cluster": 1, "pop": 78297904, "life_expect": 73.8, "fertility": 1.46}, {"year": 1985, "country": "Germany", "cluster": 1, "pop": 77684907, "life_expect": 74.847, "fertility": 1.43}, {"year": 1990, "country": "Germany", "cluster": 1, "pop": 79380394, "life_expect": 76.07, "fertility": 1.31}, {"year": 1995, "country": "Germany", "cluster": 1, "pop": 81653702, "life_expect": 77.34, "fertility": 1.34}, {"year": 2000, "country": "Germany", "cluster": 1, "pop": 82187909, "life_expect": 78.67, "fertility": 1.346}, {"year": 2005, "country": "Germany", "cluster": 1, "pop": 82431390, "life_expect": 79.406, "fertility": 1.36}, {"year": 1955, "country": "Greece", "cluster": 1, "pop": 7965538, "life_expect": 67.86, "fertility": 2.27}, {"year": 1960, "country": "Greece", "cluster": 1, "pop": 8327405, "life_expect": 69.51, "fertility": 2.2}, {"year": 1965, "country": "Greece", "cluster": 1, "pop": 8550333, "life_expect": 71.0, "fertility": 2.38}, {"year": 1970, "country": "Greece", "cluster": 1, "pop": 8792806, "life_expect": 72.34, "fertility": 2.32}, {"year": 1975, "country": "Greece", "cluster": 1, "pop": 9046542, "life_expect": 73.68, "fertility": 2.32}, {"year": 1980, "country": "Greece", "cluster": 1, "pop": 9642505, "life_expect": 75.24, "fertility": 1.96}, {"year": 1985, "country": "Greece", "cluster": 1, "pop": 9923253, "life_expect": 76.67, "fertility": 1.53}, {"year": 1990, "country": "Greece", "cluster": 1, "pop": 10129603, "life_expect": 77.03, "fertility": 1.37}, {"year": 1995, "country": "Greece", "cluster": 1, "pop": 10457554, "life_expect": 77.869, "fertility": 1.296}, {"year": 2000, "country": "Greece", "cluster": 1, "pop": 10559110, "life_expect": 78.256, "fertility": 1.277}, {"year": 2005, "country": "Greece", "cluster": 1, "pop": 10668354, "life_expect": 79.483, "fertility": 1.325}, {"year": 1955, "country": "Grenada", "cluster": 3, "pop": 84621, "life_expect": 63.114, "fertility": 6.7}, {"year": 1960, "country": "Grenada", "cluster": 3, "pop": 90148, "life_expect": 63.608, "fertility": 6.4}, {"year": 1965, "country": "Grenada", "cluster": 3, "pop": 93290, "life_expect": 64.091, "fertility": 4.8}, {"year": 1970, "country": "Grenada", "cluster": 3, "pop": 95410, "life_expect": 64.577, "fertility": 4.6}, {"year": 1975, "country": "Grenada", "cluster": 3, "pop": 95819, "life_expect": 65.035, "fertility": 4.3}, {"year": 1980, "country": "Grenada", "cluster": 3, "pop": 90164, "life_expect": 65.503, "fertility": 4.23}, {"year": 1985, "country": "Grenada", "cluster": 3, "pop": 92203, "life_expect": 66.002, "fertility": 4.14}, {"year": 1990, "country": "Grenada", "cluster": 3, "pop": 92360, "life_expect": 66.469, "fertility": 3.26}, {"year": 1995, "country": "Grenada", "cluster": 3, "pop": 90603, "life_expect": 66.986, "fertility": 2.814}, {"year": 2000, "country": "Grenada", "cluster": 3, "pop": 89312, "life_expect": 67.746, "fertility": 2.429}, {"year": 2005, "country": "Grenada", "cluster": 3, "pop": 89502, "life_expect": 68.724, "fertility": 2.302}, {"year": 1955, "country": "Haiti", "cluster": 3, "pop": 3376419, "life_expect": 40.696, "fertility": 6.3}, {"year": 1960, "country": "Haiti", "cluster": 3, "pop": 3722743, "life_expect": 43.59, "fertility": 6.3}, {"year": 1965, "country": "Haiti", "cluster": 3, "pop": 4137405, "life_expect": 46.243, "fertility": 6.0}, {"year": 1970, "country": "Haiti", "cluster": 3, "pop": 4604915, "life_expect": 48.042, "fertility": 5.6005}, {"year": 1975, "country": "Haiti", "cluster": 3, "pop": 4828338, "life_expect": 49.923, "fertility": 5.8}, {"year": 1980, "country": "Haiti", "cluster": 3, "pop": 5029725, "life_expect": 51.461, "fertility": 6.2099}, {"year": 1985, "country": "Haiti", "cluster": 3, "pop": 5517977, "life_expect": 53.636, "fertility": 5.69985}, {"year": 1990, "country": "Haiti", "cluster": 3, "pop": 6126101, "life_expect": 55.089, "fertility": 5.14985}, {"year": 1995, "country": "Haiti", "cluster": 3, "pop": 6675578, "life_expect": 56.671, "fertility": 4.61995}, {"year": 2000, "country": "Haiti", "cluster": 3, "pop": 7306302, "life_expect": 58.137, "fertility": 4.0}, {"year": 2005, "country": "Haiti", "cluster": 3, "pop": 8121622, "life_expect": 60.916, "fertility": 3.5445}, {"year": 1955, "country": "Hong Kong", "cluster": 4, "pop": 2490400, "life_expect": 64.75, "fertility": 4.72}, {"year": 1960, "country": "Hong Kong", "cluster": 4, "pop": 3075300, "life_expect": 67.65, "fertility": 5.31}, {"year": 1965, "country": "Hong Kong", "cluster": 4, "pop": 3597900, "life_expect": 70.0, "fertility": 4.02}, {"year": 1970, "country": "Hong Kong", "cluster": 4, "pop": 3959000, "life_expect": 72.0, "fertility": 2.89}, {"year": 1975, "country": "Hong Kong", "cluster": 4, "pop": 4395800, "life_expect": 73.6, "fertility": 2.32}, {"year": 1980, "country": "Hong Kong", "cluster": 4, "pop": 5063100, "life_expect": 75.45, "fertility": 1.8}, {"year": 1985, "country": "Hong Kong", "cluster": 4, "pop": 5456200, "life_expect": 76.2, "fertility": 1.31}, {"year": 1990, "country": "Hong Kong", "cluster": 4, "pop": 5687959, "life_expect": 77.601, "fertility": 1.288}, {"year": 1995, "country": "Hong Kong", "cluster": 4, "pop": 6225347, "life_expect": 80.0, "fertility": 1.08}, {"year": 2000, "country": "Hong Kong", "cluster": 4, "pop": 6658720, "life_expect": 81.495, "fertility": 0.9400000000000001}, {"year": 2005, "country": "Hong Kong", "cluster": 4, "pop": 6898686, "life_expect": 82.208, "fertility": 0.966}, {"year": 1955, "country": "Iceland", "cluster": 1, "pop": 158044, "life_expect": 73.47, "fertility": 4.023}, {"year": 1960, "country": "Iceland", "cluster": 1, "pop": 175860, "life_expect": 73.68, "fertility": 3.943}, {"year": 1965, "country": "Iceland", "cluster": 1, "pop": 192288, "life_expect": 73.73, "fertility": 3.154}, {"year": 1970, "country": "Iceland", "cluster": 1, "pop": 204104, "life_expect": 74.46, "fertility": 2.843}, {"year": 1975, "country": "Iceland", "cluster": 1, "pop": 218031, "life_expect": 76.11, "fertility": 2.287}, {"year": 1980, "country": "Iceland", "cluster": 1, "pop": 228161, "life_expect": 76.99, "fertility": 2.248}, {"year": 1985, "country": "Iceland", "cluster": 1, "pop": 241403, "life_expect": 77.23, "fertility": 2.116}, {"year": 1990, "country": "Iceland", "cluster": 1, "pop": 254719, "life_expect": 78.77, "fertility": 2.194}, {"year": 1995, "country": "Iceland", "cluster": 1, "pop": 267527, "life_expect": 78.95, "fertility": 2.056}, {"year": 2000, "country": "Iceland", "cluster": 1, "pop": 281043, "life_expect": 80.5, "fertility": 1.993}, {"year": 2005, "country": "Iceland", "cluster": 1, "pop": 296737, "life_expect": 81.757, "fertility": 2.052}, {"year": 1955, "country": "India", "cluster": 0, "pop": 393000000, "life_expect": 40.249, "fertility": 5.8961}, {"year": 1960, "country": "India", "cluster": 0, "pop": 434000000, "life_expect": 43.605, "fertility": 5.8216}, {"year": 1965, "country": "India", "cluster": 0, "pop": 485000000, "life_expect": 47.193, "fertility": 5.6058}, {"year": 1970, "country": "India", "cluster": 0, "pop": 541000000, "life_expect": 50.651, "fertility": 5.264}, {"year": 1975, "country": "India", "cluster": 0, "pop": 607000000, "life_expect": 54.208, "fertility": 4.8888}, {"year": 1980, "country": "India", "cluster": 0, "pop": 679000000, "life_expect": 56.596, "fertility": 4.4975}, {"year": 1985, "country": "India", "cluster": 0, "pop": 755000000, "life_expect": 58.553, "fertility": 4.15}, {"year": 1990, "country": "India", "cluster": 0, "pop": 839000000, "life_expect": 60.223, "fertility": 3.8648000000000002}, {"year": 1995, "country": "India", "cluster": 0, "pop": 927000000, "life_expect": 61.765, "fertility": 3.4551}, {"year": 2000, "country": "India", "cluster": 0, "pop": 1007702000, "life_expect": 62.879, "fertility": 3.1132}, {"year": 2005, "country": "India", "cluster": 0, "pop": 1080264388, "life_expect": 64.698, "fertility": 2.8073}, {"year": 1955, "country": "Indonesia", "cluster": 4, "pop": 86807000, "life_expect": 39.918, "fertility": 5.672}, {"year": 1960, "country": "Indonesia", "cluster": 4, "pop": 95254000, "life_expect": 42.518, "fertility": 5.62}, {"year": 1965, "country": "Indonesia", "cluster": 4, "pop": 105093000, "life_expect": 45.964, "fertility": 5.568}, {"year": 1970, "country": "Indonesia", "cluster": 4, "pop": 116044000, "life_expect": 49.203, "fertility": 5.3}, {"year": 1975, "country": "Indonesia", "cluster": 4, "pop": 130297000, "life_expect": 52.702, "fertility": 4.73}, {"year": 1980, "country": "Indonesia", "cluster": 4, "pop": 146995000, "life_expect": 56.159, "fertility": 4.109}, {"year": 1985, "country": "Indonesia", "cluster": 4, "pop": 163403000, "life_expect": 60.137, "fertility": 3.4}, {"year": 1990, "country": "Indonesia", "cluster": 4, "pop": 178500000, "life_expect": 62.681, "fertility": 2.9}, {"year": 1995, "country": "Indonesia", "cluster": 4, "pop": 194755000, "life_expect": 66.041, "fertility": 2.55}, {"year": 2000, "country": "Indonesia", "cluster": 4, "pop": 206265000, "life_expect": 68.588, "fertility": 2.3761}, {"year": 2005, "country": "Indonesia", "cluster": 4, "pop": 218465000, "life_expect": 70.65, "fertility": 2.182}, {"year": 1955, "country": "Iran", "cluster": 5, "pop": 18729000, "life_expect": 47.181, "fertility": 7.0}, {"year": 1960, "country": "Iran", "cluster": 5, "pop": 21577000, "life_expect": 49.325, "fertility": 7.0}, {"year": 1965, "country": "Iran", "cluster": 5, "pop": 25000000, "life_expect": 52.469, "fertility": 6.8}, {"year": 1970, "country": "Iran", "cluster": 5, "pop": 28933000, "life_expect": 55.234, "fertility": 6.4}, {"year": 1975, "country": "Iran", "cluster": 5, "pop": 33379000, "life_expect": 57.702, "fertility": 6.5}, {"year": 1980, "country": "Iran", "cluster": 5, "pop": 39583397, "life_expect": 59.62, "fertility": 6.63}, {"year": 1985, "country": "Iran", "cluster": 5, "pop": 48439952, "life_expect": 63.04, "fertility": 5.62}, {"year": 1990, "country": "Iran", "cluster": 5, "pop": 57035717, "life_expect": 65.742, "fertility": 4.328}, {"year": 1995, "country": "Iran", "cluster": 5, "pop": 61628116, "life_expect": 68.042, "fertility": 2.534}, {"year": 2000, "country": "Iran", "cluster": 5, "pop": 65660289, "life_expect": 69.451, "fertility": 2.124}, {"year": 2005, "country": "Iran", "cluster": 5, "pop": 68017860, "life_expect": 70.964, "fertility": 2.04}, {"year": 1955, "country": "Iraq", "cluster": 5, "pop": 5903253, "life_expect": 48.437, "fertility": 7.3}, {"year": 1960, "country": "Iraq", "cluster": 5, "pop": 6822030, "life_expect": 51.457, "fertility": 7.25}, {"year": 1965, "country": "Iraq", "cluster": 5, "pop": 7970746, "life_expect": 54.459, "fertility": 7.2}, {"year": 1970, "country": "Iraq", "cluster": 5, "pop": 9413671, "life_expect": 56.95, "fertility": 7.15}, {"year": 1975, "country": "Iraq", "cluster": 5, "pop": 11117804, "life_expect": 60.413, "fertility": 6.8}, {"year": 1980, "country": "Iraq", "cluster": 5, "pop": 13232839, "life_expect": 62.038, "fertility": 6.35}, {"year": 1985, "country": "Iraq", "cluster": 5, "pop": 15693620, "life_expect": 65.044, "fertility": 6.15}, {"year": 1990, "country": "Iraq", "cluster": 5, "pop": 18134702, "life_expect": 59.461, "fertility": 5.7}, {"year": 1995, "country": "Iraq", "cluster": 5, "pop": 19557247, "life_expect": 58.811, "fertility": 5.37}, {"year": 2000, "country": "Iraq", "cluster": 5, "pop": 22675617, "life_expect": 57.046, "fertility": 4.858}, {"year": 2005, "country": "Iraq", "cluster": 5, "pop": 26074906, "life_expect": 59.545, "fertility": 4.264}, {"year": 1955, "country": "Ireland", "cluster": 1, "pop": 2916133, "life_expect": 68.9, "fertility": 3.68}, {"year": 1960, "country": "Ireland", "cluster": 1, "pop": 2832000, "life_expect": 70.29, "fertility": 3.979}, {"year": 1965, "country": "Ireland", "cluster": 1, "pop": 2876000, "life_expect": 71.08, "fertility": 3.873}, {"year": 1970, "country": "Ireland", "cluster": 1, "pop": 2950100, "life_expect": 71.28, "fertility": 3.815}, {"year": 1975, "country": "Ireland", "cluster": 1, "pop": 3177300, "life_expect": 72.03, "fertility": 3.478}, {"year": 1980, "country": "Ireland", "cluster": 1, "pop": 3401000, "life_expect": 73.1, "fertility": 2.8770000000000002}, {"year": 1985, "country": "Ireland", "cluster": 1, "pop": 3540000, "life_expect": 74.36, "fertility": 2.287}, {"year": 1990, "country": "Ireland", "cluster": 1, "pop": 3508200, "life_expect": 75.467, "fertility": 1.969}, {"year": 1995, "country": "Ireland", "cluster": 1, "pop": 3613890, "life_expect": 76.122, "fertility": 1.9000000000000001}, {"year": 2000, "country": "Ireland", "cluster": 1, "pop": 3791690, "life_expect": 77.783, "fertility": 1.969}, {"year": 2005, "country": "Ireland", "cluster": 1, "pop": 4015676, "life_expect": 78.885, "fertility": 1.964}, {"year": 1955, "country": "Israel", "cluster": 5, "pop": 1772032, "life_expect": 67.84, "fertility": 3.8930000000000002}, {"year": 1960, "country": "Israel", "cluster": 5, "pop": 2141495, "life_expect": 69.39, "fertility": 3.852}, {"year": 1965, "country": "Israel", "cluster": 5, "pop": 2578184, "life_expect": 70.75, "fertility": 3.79}, {"year": 1970, "country": "Israel", "cluster": 5, "pop": 2903434, "life_expect": 71.63, "fertility": 3.77}, {"year": 1975, "country": "Israel", "cluster": 5, "pop": 3354242, "life_expect": 73.06, "fertility": 3.409}, {"year": 1980, "country": "Israel", "cluster": 5, "pop": 3737473, "life_expect": 74.45, "fertility": 3.125}, {"year": 1985, "country": "Israel", "cluster": 5, "pop": 4074965, "life_expect": 75.6, "fertility": 3.051}, {"year": 1990, "country": "Israel", "cluster": 5, "pop": 4512068, "life_expect": 76.93, "fertility": 2.933}, {"year": 1995, "country": "Israel", "cluster": 5, "pop": 5305120, "life_expect": 78.269, "fertility": 2.942}, {"year": 2000, "country": "Israel", "cluster": 5, "pop": 5842454, "life_expect": 79.696, "fertility": 2.906}, {"year": 2005, "country": "Israel", "cluster": 5, "pop": 6276883, "life_expect": 80.745, "fertility": 2.75}, {"year": 1955, "country": "Italy", "cluster": 1, "pop": 48633000, "life_expect": 67.81, "fertility": 2.35}, {"year": 1960, "country": "Italy", "cluster": 1, "pop": 50197600, "life_expect": 69.24, "fertility": 2.498}, {"year": 1965, "country": "Italy", "cluster": 1, "pop": 51987100, "life_expect": 71.06, "fertility": 2.493}, {"year": 1970, "country": "Italy", "cluster": 1, "pop": 53661100, "life_expect": 72.19, "fertility": 2.325}, {"year": 1975, "country": "Italy", "cluster": 1, "pop": 55571894, "life_expect": 73.48, "fertility": 1.889}, {"year": 1980, "country": "Italy", "cluster": 1, "pop": 56451247, "life_expect": 74.98, "fertility": 1.53}, {"year": 1985, "country": "Italy", "cluster": 1, "pop": 56731215, "life_expect": 76.42, "fertility": 1.349}, {"year": 1990, "country": "Italy", "cluster": 1, "pop": 56742886, "life_expect": 77.44, "fertility": 1.275}, {"year": 1995, "country": "Italy", "cluster": 1, "pop": 57274531, "life_expect": 78.82, "fertility": 1.213}, {"year": 2000, "country": "Italy", "cluster": 1, "pop": 57719337, "life_expect": 80.24, "fertility": 1.286}, {"year": 2005, "country": "Italy", "cluster": 1, "pop": 58103033, "life_expect": 80.546, "fertility": 1.379}, {"year": 1955, "country": "Jamaica", "cluster": 3, "pop": 1488805, "life_expect": 62.61, "fertility": 5.08}, {"year": 1960, "country": "Jamaica", "cluster": 3, "pop": 1631784, "life_expect": 65.61, "fertility": 5.64}, {"year": 1965, "country": "Jamaica", "cluster": 3, "pop": 1777397, "life_expect": 67.51, "fertility": 5.78}, {"year": 1970, "country": "Jamaica", "cluster": 3, "pop": 1943787, "life_expect": 69.0, "fertility": 5.0}, {"year": 1975, "country": "Jamaica", "cluster": 3, "pop": 2104879, "life_expect": 70.11, "fertility": 4.0}, {"year": 1980, "country": "Jamaica", "cluster": 3, "pop": 2228803, "life_expect": 71.21, "fertility": 3.55}, {"year": 1985, "country": "Jamaica", "cluster": 3, "pop": 2318652, "life_expect": 71.77, "fertility": 3.1}, {"year": 1990, "country": "Jamaica", "cluster": 3, "pop": 2347922, "life_expect": 71.766, "fertility": 2.84}, {"year": 1995, "country": "Jamaica", "cluster": 3, "pop": 2469389, "life_expect": 72.262, "fertility": 2.67}, {"year": 2000, "country": "Jamaica", "cluster": 3, "pop": 2615467, "life_expect": 72.047, "fertility": 2.628}, {"year": 2005, "country": "Jamaica", "cluster": 3, "pop": 2735520, "life_expect": 72.567, "fertility": 2.4289}, {"year": 1955, "country": "Japan", "cluster": 4, "pop": 89815060, "life_expect": 65.5, "fertility": 2.08}, {"year": 1960, "country": "Japan", "cluster": 4, "pop": 94091638, "life_expect": 68.73, "fertility": 2.02}, {"year": 1965, "country": "Japan", "cluster": 4, "pop": 98882534, "life_expect": 71.43, "fertility": 2.0}, {"year": 1970, "country": "Japan", "cluster": 4, "pop": 104344973, "life_expect": 73.42, "fertility": 2.07}, {"year": 1975, "country": "Japan", "cluster": 4, "pop": 111573116, "life_expect": 75.38, "fertility": 1.81}, {"year": 1980, "country": "Japan", "cluster": 4, "pop": 116807309, "life_expect": 77.11, "fertility": 1.76}, {"year": 1985, "country": "Japan", "cluster": 4, "pop": 120754335, "life_expect": 78.67, "fertility": 1.66}, {"year": 1990, "country": "Japan", "cluster": 4, "pop": 123537399, "life_expect": 79.36, "fertility": 1.49}, {"year": 1995, "country": "Japan", "cluster": 4, "pop": 125341354, "life_expect": 80.69, "fertility": 1.39}, {"year": 2000, "country": "Japan", "cluster": 4, "pop": 126699784, "life_expect": 82.0, "fertility": 1.291}, {"year": 2005, "country": "Japan", "cluster": 4, "pop": 127417244, "life_expect": 82.603, "fertility": 1.27}, {"year": 1955, "country": "Kenya", "cluster": 2, "pop": 7033999, "life_expect": 44.686, "fertility": 7.816}, {"year": 1960, "country": "Kenya", "cluster": 2, "pop": 8156827, "life_expect": 47.949, "fertility": 8.12}, {"year": 1965, "country": "Kenya", "cluster": 2, "pop": 9549179, "life_expect": 50.654, "fertility": 8.12}, {"year": 1970, "country": "Kenya", "cluster": 2, "pop": 11247182, "life_expect": 53.559, "fertility": 8.0}, {"year": 1975, "country": "Kenya", "cluster": 2, "pop": 13433414, "life_expect": 56.155, "fertility": 7.6}, {"year": 1980, "country": "Kenya", "cluster": 2, "pop": 16331401, "life_expect": 58.766, "fertility": 7.2}, {"year": 1985, "country": "Kenya", "cluster": 2, "pop": 19763285, "life_expect": 59.339, "fertility": 6.5}, {"year": 1990, "country": "Kenya", "cluster": 2, "pop": 23358413, "life_expect": 59.285, "fertility": 5.4}, {"year": 1995, "country": "Kenya", "cluster": 2, "pop": 27060142, "life_expect": 54.407, "fertility": 5.0}, {"year": 2000, "country": "Kenya", "cluster": 2, "pop": 29985839, "life_expect": 50.992, "fertility": 5.0}, {"year": 2005, "country": "Kenya", "cluster": 2, "pop": 33829590, "life_expect": 54.11, "fertility": 4.959}, {"year": 1955, "country": "South Korea", "cluster": 4, "pop": 8839427, "life_expect": 54.081, "fertility": 3.8}, {"year": 1960, "country": "South Korea", "cluster": 4, "pop": 10391909, "life_expect": 56.656, "fertility": 3.41}, {"year": 1965, "country": "South Korea", "cluster": 4, "pop": 11868751, "life_expect": 59.942, "fertility": 4.09}, {"year": 1970, "country": "South Korea", "cluster": 4, "pop": 13911902, "life_expect": 63.983, "fertility": 3.72}, {"year": 1975, "country": "South Korea", "cluster": 4, "pop": 15801308, "life_expect": 67.159, "fertility": 2.58}, {"year": 1980, "country": "South Korea", "cluster": 4, "pop": 17113626, "life_expect": 69.1, "fertility": 2.93}, {"year": 1985, "country": "South Korea", "cluster": 4, "pop": 18481420, "life_expect": 70.647, "fertility": 2.45}, {"year": 1990, "country": "South Korea", "cluster": 4, "pop": 20018546, "life_expect": 69.978, "fertility": 2.35}, {"year": 1995, "country": "South Korea", "cluster": 4, "pop": 21561856, "life_expect": 67.727, "fertility": 2.0938}, {"year": 2000, "country": "South Korea", "cluster": 4, "pop": 21647682, "life_expect": 66.662, "fertility": 1.9173}, {"year": 2005, "country": "South Korea", "cluster": 4, "pop": 22912177, "life_expect": 67.297, "fertility": 1.85}, {"year": 1955, "country": "North Korea", "cluster": 4, "pop": 21551834, "life_expect": 52.681, "fertility": 6.332}, {"year": 1960, "country": "North Korea", "cluster": 4, "pop": 24784140, "life_expect": 55.292, "fertility": 5.63}, {"year": 1965, "country": "North Korea", "cluster": 4, "pop": 28705000, "life_expect": 57.716, "fertility": 4.708}, {"year": 1970, "country": "North Korea", "cluster": 4, "pop": 32241000, "life_expect": 62.612, "fertility": 4.281}, {"year": 1975, "country": "North Korea", "cluster": 4, "pop": 35281000, "life_expect": 64.766, "fertility": 2.919}, {"year": 1980, "country": "North Korea", "cluster": 4, "pop": 38124000, "life_expect": 67.123, "fertility": 2.234}, {"year": 1985, "country": "North Korea", "cluster": 4, "pop": 40806000, "life_expect": 69.81, "fertility": 1.601}, {"year": 1990, "country": "North Korea", "cluster": 4, "pop": 42869000, "life_expect": 72.244, "fertility": 1.696}, {"year": 1995, "country": "North Korea", "cluster": 4, "pop": 45264146, "life_expect": 74.647, "fertility": 1.514}, {"year": 2000, "country": "North Korea", "cluster": 4, "pop": 47351083, "life_expect": 77.045, "fertility": 1.242}, {"year": 2005, "country": "North Korea", "cluster": 4, "pop": 48640671, "life_expect": 78.623, "fertility": 1.21}, {"year": 1955, "country": "Lebanon", "cluster": 5, "pop": 1560985, "life_expect": 59.489, "fertility": 5.72}, {"year": 1960, "country": "Lebanon", "cluster": 5, "pop": 1786235, "life_expect": 62.094, "fertility": 5.689}, {"year": 1965, "country": "Lebanon", "cluster": 5, "pop": 2057945, "life_expect": 63.87, "fertility": 5.336}, {"year": 1970, "country": "Lebanon", "cluster": 5, "pop": 2383029, "life_expect": 65.421, "fertility": 4.78}, {"year": 1975, "country": "Lebanon", "cluster": 5, "pop": 3098159, "life_expect": 66.099, "fertility": 4.311}, {"year": 1980, "country": "Lebanon", "cluster": 5, "pop": 3085876, "life_expect": 66.983, "fertility": 3.895}, {"year": 1985, "country": "Lebanon", "cluster": 5, "pop": 3088235, "life_expect": 67.926, "fertility": 3.313}, {"year": 1990, "country": "Lebanon", "cluster": 5, "pop": 3147267, "life_expect": 69.292, "fertility": 3.0}, {"year": 1995, "country": "Lebanon", "cluster": 5, "pop": 3334733, "life_expect": 70.265, "fertility": 2.695}, {"year": 2000, "country": "Lebanon", "cluster": 5, "pop": 3578036, "life_expect": 71.028, "fertility": 2.319}, {"year": 2005, "country": "Lebanon", "cluster": 5, "pop": 3826018, "life_expect": 71.993, "fertility": 2.209}, {"year": 1955, "country": "Mexico", "cluster": 3, "pop": 32929914, "life_expect": 55.19, "fertility": 6.8}, {"year": 1960, "country": "Mexico", "cluster": 3, "pop": 38578505, "life_expect": 58.299, "fertility": 6.7495}, {"year": 1965, "country": "Mexico", "cluster": 3, "pop": 45142399, "life_expect": 60.11, "fertility": 6.7495}, {"year": 1970, "country": "Mexico", "cluster": 3, "pop": 52775158, "life_expect": 62.361, "fertility": 6.5}, {"year": 1975, "country": "Mexico", "cluster": 3, "pop": 60678045, "life_expect": 65.032, "fertility": 5.2505}, {"year": 1980, "country": "Mexico", "cluster": 3, "pop": 68347479, "life_expect": 67.405, "fertility": 4.25}, {"year": 1985, "country": "Mexico", "cluster": 3, "pop": 76767225, "life_expect": 69.498, "fertility": 3.6295}, {"year": 1990, "country": "Mexico", "cluster": 3, "pop": 84913652, "life_expect": 71.455, "fertility": 3.1905}, {"year": 1995, "country": "Mexico", "cluster": 3, "pop": 92880353, "life_expect": 73.67, "fertility": 2.6705}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2005, "country": "Mexico", "cluster": 3, "pop": 106202903, "life_expect": 76.195, "fertility": 2.211}, {"year": 1955, "country": "Netherlands", "cluster": 1, "pop": 10750842, "life_expect": 72.99, "fertility": 3.095}, {"year": 1960, "country": "Netherlands", "cluster": 1, "pop": 11486000, "life_expect": 73.23, "fertility": 3.168}, {"year": 1965, "country": "Netherlands", "cluster": 1, "pop": 12292000, "life_expect": 73.82, "fertility": 2.797}, {"year": 1970, "country": "Netherlands", "cluster": 1, "pop": 13032335, "life_expect": 73.75, "fertility": 2.059}, {"year": 1975, "country": "Netherlands", "cluster": 1, "pop": 13653438, "life_expect": 75.24, "fertility": 1.596}, {"year": 1980, "country": "Netherlands", "cluster": 1, "pop": 14143901, "life_expect": 76.05, "fertility": 1.515}, {"year": 1985, "country": "Netherlands", "cluster": 1, "pop": 14491380, "life_expect": 76.83, "fertility": 1.555}, {"year": 1990, "country": "Netherlands", "cluster": 1, "pop": 14951510, "life_expect": 77.42, "fertility": 1.583}, {"year": 1995, "country": "Netherlands", "cluster": 1, "pop": 15459054, "life_expect": 78.03, "fertility": 1.6}, {"year": 2000, "country": "Netherlands", "cluster": 1, "pop": 15907853, "life_expect": 78.53, "fertility": 1.726}, {"year": 2005, "country": "Netherlands", "cluster": 1, "pop": 16407491, "life_expect": 79.762, "fertility": 1.721}, {"year": 1955, "country": "New Zealand", "cluster": 4, "pop": 2136168, "life_expect": 70.26, "fertility": 4.07}, {"year": 1960, "country": "New Zealand", "cluster": 4, "pop": 2371746, "life_expect": 71.24, "fertility": 4.022}, {"year": 1965, "country": "New Zealand", "cluster": 4, "pop": 2640400, "life_expect": 71.52, "fertility": 3.348}, {"year": 1970, "country": "New Zealand", "cluster": 4, "pop": 2828050, "life_expect": 71.89, "fertility": 2.843}, {"year": 1975, "country": "New Zealand", "cluster": 4, "pop": 3117800, "life_expect": 72.22, "fertility": 2.178}, {"year": 1980, "country": "New Zealand", "cluster": 4, "pop": 3170150, "life_expect": 73.84, "fertility": 1.963}, {"year": 1985, "country": "New Zealand", "cluster": 4, "pop": 3298050, "life_expect": 74.32, "fertility": 2.053}, {"year": 1990, "country": "New Zealand", "cluster": 4, "pop": 3359604, "life_expect": 76.33, "fertility": 2.061}, {"year": 1995, "country": "New Zealand", "cluster": 4, "pop": 3565990, "life_expect": 77.55, "fertility": 1.952}, {"year": 2000, "country": "New Zealand", "cluster": 4, "pop": 3819762, "life_expect": 79.11, "fertility": 1.964}, {"year": 2005, "country": "New Zealand", "cluster": 4, "pop": 4035461, "life_expect": 80.204, "fertility": 1.994}, {"year": 1955, "country": "Nigeria", "cluster": 2, "pop": 35458978, "life_expect": 37.802, "fertility": 6.9}, {"year": 1960, "country": "Nigeria", "cluster": 2, "pop": 39914593, "life_expect": 39.36, "fertility": 6.9}, {"year": 1965, "country": "Nigeria", "cluster": 2, "pop": 45020052, "life_expect": 41.04, "fertility": 6.9}, {"year": 1970, "country": "Nigeria", "cluster": 2, "pop": 51027516, "life_expect": 42.821, "fertility": 6.9}, {"year": 1975, "country": "Nigeria", "cluster": 2, "pop": 58522112, "life_expect": 44.514, "fertility": 6.9}, {"year": 1980, "country": "Nigeria", "cluster": 2, "pop": 68550274, "life_expect": 45.826, "fertility": 6.9}, {"year": 1985, "country": "Nigeria", "cluster": 2, "pop": 77573154, "life_expect": 46.886, "fertility": 6.834}, {"year": 1990, "country": "Nigeria", "cluster": 2, "pop": 88510354, "life_expect": 47.472, "fertility": 6.635}, {"year": 1995, "country": "Nigeria", "cluster": 2, "pop": 100960105, "life_expect": 47.464, "fertility": 6.246}, {"year": 2000, "country": "Nigeria", "cluster": 2, "pop": 114306700, "life_expect": 46.608, "fertility": 5.845}, {"year": 2005, "country": "Nigeria", "cluster": 2, "pop": 128765768, "life_expect": 46.859, "fertility": 5.322}, {"year": 1955, "country": "Norway", "cluster": 1, "pop": 3427409, "life_expect": 73.44, "fertility": 2.837}, {"year": 1960, "country": "Norway", "cluster": 1, "pop": 3581239, "life_expect": 73.47, "fertility": 2.898}, {"year": 1965, "country": "Norway", "cluster": 1, "pop": 3723153, "life_expect": 74.08, "fertility": 2.719}, {"year": 1970, "country": "Norway", "cluster": 1, "pop": 3877386, "life_expect": 74.34, "fertility": 2.248}, {"year": 1975, "country": "Norway", "cluster": 1, "pop": 4007313, "life_expect": 75.37, "fertility": 1.81}, {"year": 1980, "country": "Norway", "cluster": 1, "pop": 4085620, "life_expect": 75.97, "fertility": 1.687}, {"year": 1985, "country": "Norway", "cluster": 1, "pop": 4152419, "life_expect": 75.89, "fertility": 1.8}, {"year": 1990, "country": "Norway", "cluster": 1, "pop": 4242006, "life_expect": 77.32, "fertility": 1.8860000000000001}, {"year": 1995, "country": "Norway", "cluster": 1, "pop": 4359101, "life_expect": 78.32, "fertility": 1.853}, {"year": 2000, "country": "Norway", "cluster": 1, "pop": 4492400, "life_expect": 79.05, "fertility": 1.801}, {"year": 2005, "country": "Norway", "cluster": 1, "pop": 4593041, "life_expect": 80.196, "fertility": 1.848}, {"year": 1955, "country": "Pakistan", "cluster": 0, "pop": 44434445, "life_expect": 45.557, "fertility": 6.6}, {"year": 1960, "country": "Pakistan", "cluster": 0, "pop": 50386898, "life_expect": 47.67, "fertility": 6.6}, {"year": 1965, "country": "Pakistan", "cluster": 0, "pop": 57494940, "life_expect": 49.8, "fertility": 6.6}, {"year": 1970, "country": "Pakistan", "cluster": 0, "pop": 65705964, "life_expect": 51.929, "fertility": 6.6}, {"year": 1975, "country": "Pakistan", "cluster": 0, "pop": 74711541, "life_expect": 54.043, "fertility": 6.6}, {"year": 1980, "country": "Pakistan", "cluster": 0, "pop": 85219117, "life_expect": 56.158, "fertility": 6.6}, {"year": 1985, "country": "Pakistan", "cluster": 0, "pop": 99060352, "life_expect": 58.245, "fertility": 6.66}, {"year": 1990, "country": "Pakistan", "cluster": 0, "pop": 114578478, "life_expect": 60.838, "fertility": 5.8}, {"year": 1995, "country": "Pakistan", "cluster": 0, "pop": 128690285, "life_expect": 61.818, "fertility": 4.9596}, {"year": 2000, "country": "Pakistan", "cluster": 0, "pop": 146342958, "life_expect": 63.61, "fertility": 3.9936000000000003}, {"year": 2005, "country": "Pakistan", "cluster": 0, "pop": 162419946, "life_expect": 65.483, "fertility": 3.5211}, {"year": 1955, "country": "Peru", "cluster": 3, "pop": 8671500, "life_expect": 46.263, "fertility": 6.853}, {"year": 1960, "country": "Peru", "cluster": 3, "pop": 9931000, "life_expect": 49.096, "fertility": 6.853}, {"year": 1965, "country": "Peru", "cluster": 3, "pop": 11467300, "life_expect": 51.445, "fertility": 6.56}, {"year": 1970, "country": "Peru", "cluster": 3, "pop": 13192800, "life_expect": 55.448, "fertility": 6.0}, {"year": 1975, "country": "Peru", "cluster": 3, "pop": 15161199, "life_expect": 58.447, "fertility": 5.378}, {"year": 1980, "country": "Peru", "cluster": 3, "pop": 17295298, "life_expect": 61.406, "fertility": 4.65}, {"year": 1985, "country": "Peru", "cluster": 3, "pop": 19348926, "life_expect": 64.134, "fertility": 4.1}, {"year": 1990, "country": "Peru", "cluster": 3, "pop": 21511443, "life_expect": 66.458, "fertility": 3.7}, {"year": 1995, "country": "Peru", "cluster": 3, "pop": 23846388, "life_expect": 68.386, "fertility": 3.0995}, {"year": 2000, "country": "Peru", "cluster": 3, "pop": 25979722, "life_expect": 69.906, "fertility": 2.7005}, {"year": 2005, "country": "Peru", "cluster": 3, "pop": 27925628, "life_expect": 71.421, "fertility": 2.5065}, {"year": 1955, "country": "Philippines", "cluster": 4, "pop": 24553055, "life_expect": 51.334, "fertility": 7.13}, {"year": 1960, "country": "Philippines", "cluster": 4, "pop": 28528939, "life_expect": 54.757, "fertility": 6.85}, {"year": 1965, "country": "Philippines", "cluster": 4, "pop": 33267569, "life_expect": 56.393, "fertility": 6.5}, {"year": 1970, "country": "Philippines", "cluster": 4, "pop": 38603696, "life_expect": 58.065, "fertility": 6.0}, {"year": 1975, "country": "Philippines", "cluster": 4, "pop": 44336842, "life_expect": 60.06, "fertility": 5.5}, {"year": 1980, "country": "Philippines", "cluster": 4, "pop": 50940182, "life_expect": 62.082, "fertility": 4.95}, {"year": 1985, "country": "Philippines", "cluster": 4, "pop": 57288037, "life_expect": 64.151, "fertility": 4.55}, {"year": 1990, "country": "Philippines", "cluster": 4, "pop": 64318120, "life_expect": 66.458, "fertility": 4.143}, {"year": 1995, "country": "Philippines", "cluster": 4, "pop": 71717437, "life_expect": 68.564, "fertility": 3.7248}, {"year": 2000, "country": "Philippines", "cluster": 4, "pop": 79739825, "life_expect": 70.303, "fertility": 3.5436}, {"year": 2005, "country": "Philippines", "cluster": 4, "pop": 87857473, "life_expect": 71.688, "fertility": 3.2327}, {"year": 1955, "country": "Poland", "cluster": 1, "pop": 27220668, "life_expect": 65.77, "fertility": 3.29}, {"year": 1960, "country": "Poland", "cluster": 1, "pop": 29589842, "life_expect": 67.64, "fertility": 2.65}, {"year": 1965, "country": "Poland", "cluster": 1, "pop": 31262358, "life_expect": 69.61, "fertility": 2.27}, {"year": 1970, "country": "Poland", "cluster": 1, "pop": 32526000, "life_expect": 70.85, "fertility": 2.25}, {"year": 1975, "country": "Poland", "cluster": 1, "pop": 33969240, "life_expect": 70.67, "fertility": 2.26}, {"year": 1980, "country": "Poland", "cluster": 1, "pop": 35578016, "life_expect": 71.32, "fertility": 2.33}, {"year": 1985, "country": "Poland", "cluster": 1, "pop": 37225792, "life_expect": 70.98, "fertility": 2.15}, {"year": 1990, "country": "Poland", "cluster": 1, "pop": 38119408, "life_expect": 70.99, "fertility": 1.8900000000000001}, {"year": 1995, "country": "Poland", "cluster": 1, "pop": 38600642, "life_expect": 72.75, "fertility": 1.478}, {"year": 2000, "country": "Poland", "cluster": 1, "pop": 38654164, "life_expect": 74.67, "fertility": 1.2510000000000001}, {"year": 2005, "country": "Poland", "cluster": 1, "pop": 38557984, "life_expect": 75.563, "fertility": 1.227}, {"year": 1955, "country": "Portugal", "cluster": 1, "pop": 8692600, "life_expect": 61.51, "fertility": 3.03}, {"year": 1960, "country": "Portugal", "cluster": 1, "pop": 9036700, "life_expect": 64.39, "fertility": 3.074}, {"year": 1965, "country": "Portugal", "cluster": 1, "pop": 9128850, "life_expect": 66.6, "fertility": 2.849}, {"year": 1970, "country": "Portugal", "cluster": 1, "pop": 9044200, "life_expect": 69.26, "fertility": 2.748}, {"year": 1975, "country": "Portugal", "cluster": 1, "pop": 9411090, "life_expect": 70.41, "fertility": 2.41}, {"year": 1980, "country": "Portugal", "cluster": 1, "pop": 9777800, "life_expect": 72.77, "fertility": 1.982}, {"year": 1985, "country": "Portugal", "cluster": 1, "pop": 9897192, "life_expect": 74.06, "fertility": 1.594}, {"year": 1990, "country": "Portugal", "cluster": 1, "pop": 9922689, "life_expect": 74.86, "fertility": 1.516}, {"year": 1995, "country": "Portugal", "cluster": 1, "pop": 10065543, "life_expect": 75.97, "fertility": 1.475}, {"year": 2000, "country": "Portugal", "cluster": 1, "pop": 10335597, "life_expect": 77.29, "fertility": 1.454}, {"year": 2005, "country": "Portugal", "cluster": 1, "pop": 10566212, "life_expect": 78.098, "fertility": 1.455}, {"year": 1955, "country": "Rwanda", "cluster": 2, "pop": 2698272, "life_expect": 41.5, "fertility": 8.0}, {"year": 1960, "country": "Rwanda", "cluster": 2, "pop": 3031804, "life_expect": 43.0, "fertility": 8.1}, {"year": 1965, "country": "Rwanda", "cluster": 2, "pop": 3264640, "life_expect": 44.1, "fertility": 8.2}, {"year": 1970, "country": "Rwanda", "cluster": 2, "pop": 3769171, "life_expect": 44.6, "fertility": 8.29}, {"year": 1975, "country": "Rwanda", "cluster": 2, "pop": 4356863, "life_expect": 45.0, "fertility": 8.492}, {"year": 1980, "country": "Rwanda", "cluster": 2, "pop": 5138689, "life_expect": 46.218, "fertility": 8.5}, {"year": 1985, "country": "Rwanda", "cluster": 2, "pop": 6009833, "life_expect": 44.02, "fertility": 8.25}, {"year": 1990, "country": "Rwanda", "cluster": 2, "pop": 6923738, "life_expect": 23.599, "fertility": 6.9}, {"year": 1995, "country": "Rwanda", "cluster": 2, "pop": 5706501, "life_expect": 36.087, "fertility": 6.0993}, {"year": 2000, "country": "Rwanda", "cluster": 2, "pop": 7507056, "life_expect": 43.413, "fertility": 6.01}, {"year": 2005, "country": "Rwanda", "cluster": 2, "pop": 8440820, "life_expect": 46.242, "fertility": 5.9169}, {"year": 1955, "country": "Saudi Arabia", "cluster": 5, "pop": 4243218, "life_expect": 42.868, "fertility": 7.175}, {"year": 1960, "country": "Saudi Arabia", "cluster": 5, "pop": 4718301, "life_expect": 45.914, "fertility": 7.257}, {"year": 1965, "country": "Saudi Arabia", "cluster": 5, "pop": 5327432, "life_expect": 49.901, "fertility": 7.257}, {"year": 1970, "country": "Saudi Arabia", "cluster": 5, "pop": 6109051, "life_expect": 53.886, "fertility": 7.298}, {"year": 1975, "country": "Saudi Arabia", "cluster": 5, "pop": 7204820, "life_expect": 58.69, "fertility": 7.278}, {"year": 1980, "country": "Saudi Arabia", "cluster": 5, "pop": 9999161, "life_expect": 63.012, "fertility": 7.015}, {"year": 1985, "country": "Saudi Arabia", "cluster": 5, "pop": 13330067, "life_expect": 66.295, "fertility": 6.217}, {"year": 1990, "country": "Saudi Arabia", "cluster": 5, "pop": 16060761, "life_expect": 68.768, "fertility": 5.446}, {"year": 1995, "country": "Saudi Arabia", "cluster": 5, "pop": 19966998, "life_expect": 70.533, "fertility": 4.621}, {"year": 2000, "country": "Saudi Arabia", "cluster": 5, "pop": 23153090, "life_expect": 71.626, "fertility": 3.81}, {"year": 2005, "country": "Saudi Arabia", "cluster": 5, "pop": 26417599, "life_expect": 72.777, "fertility": 3.352}, {"year": 1955, "country": "South Africa", "cluster": 2, "pop": 15368551, "life_expect": 47.985, "fertility": 6.5}, {"year": 1960, "country": "South Africa", "cluster": 2, "pop": 17416653, "life_expect": 49.951, "fertility": 6.3}, {"year": 1965, "country": "South Africa", "cluster": 2, "pop": 19898242, "life_expect": 51.927, "fertility": 5.7}, {"year": 1970, "country": "South Africa", "cluster": 2, "pop": 22739921, "life_expect": 53.696, "fertility": 5.47}, {"year": 1975, "country": "South Africa", "cluster": 2, "pop": 25815144, "life_expect": 55.527, "fertility": 5.0}, {"year": 1980, "country": "South Africa", "cluster": 2, "pop": 29251588, "life_expect": 58.161, "fertility": 4.556}, {"year": 1985, "country": "South Africa", "cluster": 2, "pop": 34254092, "life_expect": 60.834, "fertility": 3.85}, {"year": 1990, "country": "South Africa", "cluster": 2, "pop": 38391094, "life_expect": 61.888, "fertility": 3.343}, {"year": 1995, "country": "South Africa", "cluster": 2, "pop": 41779149, "life_expect": 60.236, "fertility": 2.954}, {"year": 2000, "country": "South Africa", "cluster": 2, "pop": 44066197, "life_expect": 53.365, "fertility": 2.802}, {"year": 2005, "country": "South Africa", "cluster": 2, "pop": 44344136, "life_expect": 49.339, "fertility": 2.637}, {"year": 1955, "country": "Spain", "cluster": 1, "pop": 29318745, "life_expect": 66.66, "fertility": 2.75}, {"year": 1960, "country": "Spain", "cluster": 1, "pop": 30641187, "life_expect": 69.69, "fertility": 2.89}, {"year": 1965, "country": "Spain", "cluster": 1, "pop": 32084511, "life_expect": 71.44, "fertility": 2.92}, {"year": 1970, "country": "Spain", "cluster": 1, "pop": 33876479, "life_expect": 73.06, "fertility": 2.86}, {"year": 1975, "country": "Spain", "cluster": 1, "pop": 35563535, "life_expect": 74.39, "fertility": 2.57}, {"year": 1980, "country": "Spain", "cluster": 1, "pop": 37488360, "life_expect": 76.3, "fertility": 1.8900000000000001}, {"year": 1985, "country": "Spain", "cluster": 1, "pop": 38534853, "life_expect": 76.9, "fertility": 1.48}, {"year": 1990, "country": "Spain", "cluster": 1, "pop": 39350769, "life_expect": 77.57, "fertility": 1.27}, {"year": 1995, "country": "Spain", "cluster": 1, "pop": 39749715, "life_expect": 78.77, "fertility": 1.182}, {"year": 2000, "country": "Spain", "cluster": 1, "pop": 40016081, "life_expect": 79.78, "fertility": 1.287}, {"year": 2005, "country": "Spain", "cluster": 1, "pop": 40341462, "life_expect": 80.941, "fertility": 1.409}, {"year": 1955, "country": "Switzerland", "cluster": 1, "pop": 4980000, "life_expect": 70.56, "fertility": 2.34}, {"year": 1960, "country": "Switzerland", "cluster": 1, "pop": 5362000, "life_expect": 71.32, "fertility": 2.5100000000000002}, {"year": 1965, "country": "Switzerland", "cluster": 1, "pop": 5943000, "life_expect": 72.77, "fertility": 2.27}, {"year": 1970, "country": "Switzerland", "cluster": 1, "pop": 6267000, "life_expect": 73.78, "fertility": 1.82}, {"year": 1975, "country": "Switzerland", "cluster": 1, "pop": 6403500, "life_expect": 75.39, "fertility": 1.53}, {"year": 1980, "country": "Switzerland", "cluster": 1, "pop": 6385229, "life_expect": 76.21, "fertility": 1.53}, {"year": 1985, "country": "Switzerland", "cluster": 1, "pop": 6563770, "life_expect": 77.41, "fertility": 1.53}, {"year": 1990, "country": "Switzerland", "cluster": 1, "pop": 6836626, "life_expect": 78.03, "fertility": 1.54}, {"year": 1995, "country": "Switzerland", "cluster": 1, "pop": 7157106, "life_expect": 79.37, "fertility": 1.47}, {"year": 2000, "country": "Switzerland", "cluster": 1, "pop": 7266920, "life_expect": 80.62, "fertility": 1.415}, {"year": 2005, "country": "Switzerland", "cluster": 1, "pop": 7489370, "life_expect": 81.701, "fertility": 1.42}, {"year": 1955, "country": "Turkey", "cluster": 1, "pop": 24144571, "life_expect": 48.079, "fertility": 6.6}, {"year": 1960, "country": "Turkey", "cluster": 1, "pop": 28217122, "life_expect": 52.098, "fertility": 6.19}, {"year": 1965, "country": "Turkey", "cluster": 1, "pop": 31950718, "life_expect": 54.336, "fertility": 5.7}, {"year": 1970, "country": "Turkey", "cluster": 1, "pop": 35758382, "life_expect": 57.005, "fertility": 5.3}, {"year": 1975, "country": "Turkey", "cluster": 1, "pop": 40529798, "life_expect": 59.507, "fertility": 4.715}, {"year": 1980, "country": "Turkey", "cluster": 1, "pop": 45120802, "life_expect": 61.036, "fertility": 4.15}, {"year": 1985, "country": "Turkey", "cluster": 1, "pop": 50669003, "life_expect": 63.108, "fertility": 3.276}, {"year": 1990, "country": "Turkey", "cluster": 1, "pop": 56084632, "life_expect": 66.146, "fertility": 2.904}, {"year": 1995, "country": "Turkey", "cluster": 1, "pop": 61188984, "life_expect": 68.835, "fertility": 2.574}, {"year": 2000, "country": "Turkey", "cluster": 1, "pop": 65666677, "life_expect": 70.845, "fertility": 2.23}, {"year": 2005, "country": "Turkey", "cluster": 1, "pop": 69660559, "life_expect": 71.777, "fertility": 2.143}, {"year": 1955, "country": "United Kingdom", "cluster": 1, "pop": 50946000, "life_expect": 70.42, "fertility": 2.49}, {"year": 1960, "country": "United Kingdom", "cluster": 1, "pop": 52372000, "life_expect": 70.76, "fertility": 2.81}, {"year": 1965, "country": "United Kingdom", "cluster": 1, "pop": 54350000, "life_expect": 71.36, "fertility": 2.52}, {"year": 1970, "country": "United Kingdom", "cluster": 1, "pop": 55632000, "life_expect": 72.01, "fertility": 2.04}, {"year": 1975, "country": "United Kingdom", "cluster": 1, "pop": 56215000, "life_expect": 72.76, "fertility": 1.72}, {"year": 1980, "country": "United Kingdom", "cluster": 1, "pop": 56314000, "life_expect": 74.04, "fertility": 1.8}, {"year": 1985, "country": "United Kingdom", "cluster": 1, "pop": 56620240, "life_expect": 75.007, "fertility": 1.81}, {"year": 1990, "country": "United Kingdom", "cluster": 1, "pop": 57493307, "life_expect": 76.42, "fertility": 1.78}, {"year": 1995, "country": "United Kingdom", "cluster": 1, "pop": 58426014, "life_expect": 77.218, "fertility": 1.7}, {"year": 2000, "country": "United Kingdom", "cluster": 1, "pop": 59522468, "life_expect": 78.471, "fertility": 1.695}, {"year": 2005, "country": "United Kingdom", "cluster": 1, "pop": 60441457, "life_expect": 79.425, "fertility": 1.815}, {"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}, {"year": 1955, "country": "Venezuela", "cluster": 3, "pop": 6170497, "life_expect": 57.907, "fertility": 6.4585}, {"year": 1960, "country": "Venezuela", "cluster": 3, "pop": 7556483, "life_expect": 60.77, "fertility": 6.657}, {"year": 1965, "country": "Venezuela", "cluster": 3, "pop": 9067735, "life_expect": 63.479, "fertility": 5.9045}, {"year": 1970, "country": "Venezuela", "cluster": 3, "pop": 10758017, "life_expect": 65.712, "fertility": 4.941}, {"year": 1975, "country": "Venezuela", "cluster": 3, "pop": 12674987, "life_expect": 67.456, "fertility": 4.4685}, {"year": 1980, "country": "Venezuela", "cluster": 3, "pop": 14767890, "life_expect": 68.557, "fertility": 3.957}, {"year": 1985, "country": "Venezuela", "cluster": 3, "pop": 16997509, "life_expect": 70.19, "fertility": 3.6485}, {"year": 1990, "country": "Venezuela", "cluster": 3, "pop": 19325222, "life_expect": 71.15, "fertility": 3.25}, {"year": 1995, "country": "Venezuela", "cluster": 3, "pop": 21555902, "life_expect": 72.146, "fertility": 2.9415}, {"year": 2000, "country": "Venezuela", "cluster": 3, "pop": 23542649, "life_expect": 72.766, "fertility": 2.723}, {"year": 2005, "country": "Venezuela", "cluster": 3, "pop": 25375281, "life_expect": 73.747, "fertility": 2.547}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">line</span></code> mark can also be used to create <em>slope graphs</em>, charts that highlight the change in value between two comparison points using line slopes.</p>
<p>Below let’s create a slope graph comparing the populations of each country at minimum and maximum years in our full dataset: 1955 and 2005. We first create a new Pandas data frame filtered to those years, then use Altair to create the slope graph.</p>
<p>By default, Altair places the years close together. To better space out the years along the x-axis, we can indicate the size (in pixels) of discrete steps along the width of our chart as indicated by the comment below. Try adjusting the width <code class="docutils literal notranslate"><span class="pre">step</span></code> value below and see how the chart changes in response.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataTime</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1955</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2005</span><span class="p">)]</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dataTime</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Tooltip</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}</span> <span class="c1"># adjust the step parameter</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-4637f0e10fb84a70a723b4e3ea91929a.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-4637f0e10fb84a70a723b4e3ea91929a.vega-embed details,
  #altair-viz-4637f0e10fb84a70a723b4e3ea91929a.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-4637f0e10fb84a70a723b4e3ea91929a"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-4637f0e10fb84a70a723b4e3ea91929a") {
      outputDiv = document.getElementById("altair-viz-4637f0e10fb84a70a723b4e3ea91929a");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-abebbaeb1fbc16a006e6553652abd6a1"}, "mark": {"type": "line", "opacity": 0.5}, "encoding": {"color": {"field": "country", "legend": null, "type": "nominal"}, "tooltip": {"field": "country", "type": "nominal"}, "x": {"field": "year", "type": "ordinal"}, "y": {"field": "pop", "type": "quantitative"}}, "width": {"step": 50}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-abebbaeb1fbc16a006e6553652abd6a1": [{"year": 1955, "country": "Afghanistan", "cluster": 0, "pop": 8891209, "life_expect": 30.332, "fertility": 7.7}, {"year": 2005, "country": "Afghanistan", "cluster": 0, "pop": 29928987, "life_expect": 43.828, "fertility": 7.0685}, {"year": 1955, "country": "Argentina", "cluster": 3, "pop": 18927821, "life_expect": 64.399, "fertility": 3.1265}, {"year": 2005, "country": "Argentina", "cluster": 3, "pop": 39537943, "life_expect": 75.32, "fertility": 2.254}, {"year": 1955, "country": "Aruba", "cluster": 3, "pop": 53865, "life_expect": 64.381, "fertility": 5.15}, {"year": 2005, "country": "Aruba", "cluster": 3, "pop": 71566, "life_expect": 74.239, "fertility": 2.04}, {"year": 1955, "country": "Australia", "cluster": 4, "pop": 9277087, "life_expect": 70.33, "fertility": 3.406}, {"year": 2005, "country": "Australia", "cluster": 4, "pop": 20090437, "life_expect": 81.235, "fertility": 1.788}, {"year": 1955, "country": "Austria", "cluster": 1, "pop": 6946885, "life_expect": 67.48, "fertility": 2.52}, {"year": 2005, "country": "Austria", "cluster": 1, "pop": 8184691, "life_expect": 79.829, "fertility": 1.42}, {"year": 1955, "country": "Bahamas", "cluster": 3, "pop": 87138, "life_expect": 62.405, "fertility": 4.305}, {"year": 2005, "country": "Bahamas", "cluster": 3, "pop": 301790, "life_expect": 73.495, "fertility": 2.0221}, {"year": 1955, "country": "Bangladesh", "cluster": 0, "pop": 49601520, "life_expect": 39.348, "fertility": 6.76}, {"year": 2005, "country": "Bangladesh", "cluster": 0, "pop": 144319628, "life_expect": 64.062, "fertility": 2.826}, {"year": 1955, "country": "Barbados", "cluster": 3, "pop": 227255, "life_expect": 62.57, "fertility": 4.67}, {"year": 2005, "country": "Barbados", "cluster": 3, "pop": 278870, "life_expect": 77.296, "fertility": 1.5}, {"year": 1955, "country": "Belgium", "cluster": 1, "pop": 8868475, "life_expect": 69.24, "fertility": 2.496}, {"year": 2005, "country": "Belgium", "cluster": 1, "pop": 10364388, "life_expect": 79.441, "fertility": 1.646}, {"year": 1955, "country": "Bolivia", "cluster": 3, "pop": 3074311, "life_expect": 41.89, "fertility": 6.75}, {"year": 2005, "country": "Bolivia", "cluster": 3, "pop": 8857870, "life_expect": 65.554, "fertility": 3.5}, {"year": 1955, "country": "Brazil", "cluster": 3, "pop": 61773546, "life_expect": 53.285, "fertility": 6.1501}, {"year": 2005, "country": "Brazil", "cluster": 3, "pop": 186112794, "life_expect": 72.39, "fertility": 2.245}, {"year": 1955, "country": "Canada", "cluster": 3, "pop": 16050356, "life_expect": 69.96, "fertility": 3.882}, {"year": 2005, "country": "Canada", "cluster": 3, "pop": 32805041, "life_expect": 80.653, "fertility": 1.527}, {"year": 1955, "country": "Chile", "cluster": 3, "pop": 6743269, "life_expect": 56.074, "fertility": 5.486}, {"year": 2005, "country": "Chile", "cluster": 3, "pop": 15980912, "life_expect": 78.553, "fertility": 1.944}, {"year": 1955, "country": "China", "cluster": 4, "pop": 608655000, "life_expect": 50.54896, "fertility": 5.59}, {"year": 2005, "country": "China", "cluster": 4, "pop": 1303182268, "life_expect": 72.961, "fertility": 1.725}, {"year": 1955, "country": "Colombia", "cluster": 3, "pop": 13588405, "life_expect": 55.118, "fertility": 6.76}, {"year": 2005, "country": "Colombia", "cluster": 3, "pop": 42954279, "life_expect": 72.889, "fertility": 2.2205}, {"year": 1955, "country": "Costa Rica", "cluster": 3, "pop": 1031782, "life_expect": 60.026, "fertility": 7.1135}, {"year": 2005, "country": "Costa Rica", "cluster": 3, "pop": 4016173, "life_expect": 78.782, "fertility": 2.0985}, {"year": 1955, "country": "Croatia", "cluster": 1, "pop": 3955526, "life_expect": 64.77, "fertility": 2.42}, {"year": 2005, "country": "Croatia", "cluster": 1, "pop": 4495904, "life_expect": 75.748, "fertility": 1.346}, {"year": 1955, "country": "Cuba", "cluster": 3, "pop": 6381106, "life_expect": 62.325, "fertility": 3.6995}, {"year": 2005, "country": "Cuba", "cluster": 3, "pop": 11346670, "life_expect": 78.273, "fertility": 1.49}, {"year": 1955, "country": "Dominican Republic", "cluster": 3, "pop": 2737257, "life_expect": 49.828, "fertility": 7.6405}, {"year": 2005, "country": "Dominican Republic", "cluster": 3, "pop": 9049595, "life_expect": 72.235, "fertility": 2.81}, {"year": 1955, "country": "Ecuador", "cluster": 3, "pop": 3842399, "life_expect": 51.356, "fertility": 6.7}, {"year": 2005, "country": "Ecuador", "cluster": 3, "pop": 13363593, "life_expect": 74.994, "fertility": 2.578}, {"year": 1955, "country": "Egypt", "cluster": 5, "pop": 23855527, "life_expect": 44.444, "fertility": 6.97}, {"year": 2005, "country": "Egypt", "cluster": 5, "pop": 77505756, "life_expect": 71.338, "fertility": 2.891}, {"year": 1955, "country": "El Salvador", "cluster": 3, "pop": 2221139, "life_expect": 48.57, "fertility": 6.8065}, {"year": 2005, "country": "El Salvador", "cluster": 3, "pop": 6704932, "life_expect": 71.878, "fertility": 2.6825}, {"year": 1955, "country": "Finland", "cluster": 1, "pop": 4234900, "life_expect": 67.49, "fertility": 2.769}, {"year": 2005, "country": "Finland", "cluster": 1, "pop": 5223442, "life_expect": 79.313, "fertility": 1.825}, {"year": 1955, "country": "France", "cluster": 1, "pop": 43427669, "life_expect": 68.93, "fertility": 2.712}, {"year": 2005, "country": "France", "cluster": 1, "pop": 60656178, "life_expect": 80.657, "fertility": 1.8916}, {"year": 1955, "country": "Georgia", "cluster": 1, "pop": 3827154, "life_expect": 62.625, "fertility": 2.909}, {"year": 2005, "country": "Georgia", "cluster": 1, "pop": 4677401, "life_expect": 70.987, "fertility": 1.407}, {"year": 1955, "country": "Germany", "cluster": 1, "pop": 70195612, "life_expect": 69.1, "fertility": 2.3}, {"year": 2005, "country": "Germany", "cluster": 1, "pop": 82431390, "life_expect": 79.406, "fertility": 1.36}, {"year": 1955, "country": "Greece", "cluster": 1, "pop": 7965538, "life_expect": 67.86, "fertility": 2.27}, {"year": 2005, "country": "Greece", "cluster": 1, "pop": 10668354, "life_expect": 79.483, "fertility": 1.325}, {"year": 1955, "country": "Grenada", "cluster": 3, "pop": 84621, "life_expect": 63.114, "fertility": 6.7}, {"year": 2005, "country": "Grenada", "cluster": 3, "pop": 89502, "life_expect": 68.724, "fertility": 2.302}, {"year": 1955, "country": "Haiti", "cluster": 3, "pop": 3376419, "life_expect": 40.696, "fertility": 6.3}, {"year": 2005, "country": "Haiti", "cluster": 3, "pop": 8121622, "life_expect": 60.916, "fertility": 3.5445}, {"year": 1955, "country": "Hong Kong", "cluster": 4, "pop": 2490400, "life_expect": 64.75, "fertility": 4.72}, {"year": 2005, "country": "Hong Kong", "cluster": 4, "pop": 6898686, "life_expect": 82.208, "fertility": 0.966}, {"year": 1955, "country": "Iceland", "cluster": 1, "pop": 158044, "life_expect": 73.47, "fertility": 4.023}, {"year": 2005, "country": "Iceland", "cluster": 1, "pop": 296737, "life_expect": 81.757, "fertility": 2.052}, {"year": 1955, "country": "India", "cluster": 0, "pop": 393000000, "life_expect": 40.249, "fertility": 5.8961}, {"year": 2005, "country": "India", "cluster": 0, "pop": 1080264388, "life_expect": 64.698, "fertility": 2.8073}, {"year": 1955, "country": "Indonesia", "cluster": 4, "pop": 86807000, "life_expect": 39.918, "fertility": 5.672}, {"year": 2005, "country": "Indonesia", "cluster": 4, "pop": 218465000, "life_expect": 70.65, "fertility": 2.182}, {"year": 1955, "country": "Iran", "cluster": 5, "pop": 18729000, "life_expect": 47.181, "fertility": 7.0}, {"year": 2005, "country": "Iran", "cluster": 5, "pop": 68017860, "life_expect": 70.964, "fertility": 2.04}, {"year": 1955, "country": "Iraq", "cluster": 5, "pop": 5903253, "life_expect": 48.437, "fertility": 7.3}, {"year": 2005, "country": "Iraq", "cluster": 5, "pop": 26074906, "life_expect": 59.545, "fertility": 4.264}, {"year": 1955, "country": "Ireland", "cluster": 1, "pop": 2916133, "life_expect": 68.9, "fertility": 3.68}, {"year": 2005, "country": "Ireland", "cluster": 1, "pop": 4015676, "life_expect": 78.885, "fertility": 1.964}, {"year": 1955, "country": "Israel", "cluster": 5, "pop": 1772032, "life_expect": 67.84, "fertility": 3.8930000000000002}, {"year": 2005, "country": "Israel", "cluster": 5, "pop": 6276883, "life_expect": 80.745, "fertility": 2.75}, {"year": 1955, "country": "Italy", "cluster": 1, "pop": 48633000, "life_expect": 67.81, "fertility": 2.35}, {"year": 2005, "country": "Italy", "cluster": 1, "pop": 58103033, "life_expect": 80.546, "fertility": 1.379}, {"year": 1955, "country": "Jamaica", "cluster": 3, "pop": 1488805, "life_expect": 62.61, "fertility": 5.08}, {"year": 2005, "country": "Jamaica", "cluster": 3, "pop": 2735520, "life_expect": 72.567, "fertility": 2.4289}, {"year": 1955, "country": "Japan", "cluster": 4, "pop": 89815060, "life_expect": 65.5, "fertility": 2.08}, {"year": 2005, "country": "Japan", "cluster": 4, "pop": 127417244, "life_expect": 82.603, "fertility": 1.27}, {"year": 1955, "country": "Kenya", "cluster": 2, "pop": 7033999, "life_expect": 44.686, "fertility": 7.816}, {"year": 2005, "country": "Kenya", "cluster": 2, "pop": 33829590, "life_expect": 54.11, "fertility": 4.959}, {"year": 1955, "country": "South Korea", "cluster": 4, "pop": 8839427, "life_expect": 54.081, "fertility": 3.8}, {"year": 2005, "country": "South Korea", "cluster": 4, "pop": 22912177, "life_expect": 67.297, "fertility": 1.85}, {"year": 1955, "country": "North Korea", "cluster": 4, "pop": 21551834, "life_expect": 52.681, "fertility": 6.332}, {"year": 2005, "country": "North Korea", "cluster": 4, "pop": 48640671, "life_expect": 78.623, "fertility": 1.21}, {"year": 1955, "country": "Lebanon", "cluster": 5, "pop": 1560985, "life_expect": 59.489, "fertility": 5.72}, {"year": 2005, "country": "Lebanon", "cluster": 5, "pop": 3826018, "life_expect": 71.993, "fertility": 2.209}, {"year": 1955, "country": "Mexico", "cluster": 3, "pop": 32929914, "life_expect": 55.19, "fertility": 6.8}, {"year": 2005, "country": "Mexico", "cluster": 3, "pop": 106202903, "life_expect": 76.195, "fertility": 2.211}, {"year": 1955, "country": "Netherlands", "cluster": 1, "pop": 10750842, "life_expect": 72.99, "fertility": 3.095}, {"year": 2005, "country": "Netherlands", "cluster": 1, "pop": 16407491, "life_expect": 79.762, "fertility": 1.721}, {"year": 1955, "country": "New Zealand", "cluster": 4, "pop": 2136168, "life_expect": 70.26, "fertility": 4.07}, {"year": 2005, "country": "New Zealand", "cluster": 4, "pop": 4035461, "life_expect": 80.204, "fertility": 1.994}, {"year": 1955, "country": "Nigeria", "cluster": 2, "pop": 35458978, "life_expect": 37.802, "fertility": 6.9}, {"year": 2005, "country": "Nigeria", "cluster": 2, "pop": 128765768, "life_expect": 46.859, "fertility": 5.322}, {"year": 1955, "country": "Norway", "cluster": 1, "pop": 3427409, "life_expect": 73.44, "fertility": 2.837}, {"year": 2005, "country": "Norway", "cluster": 1, "pop": 4593041, "life_expect": 80.196, "fertility": 1.848}, {"year": 1955, "country": "Pakistan", "cluster": 0, "pop": 44434445, "life_expect": 45.557, "fertility": 6.6}, {"year": 2005, "country": "Pakistan", "cluster": 0, "pop": 162419946, "life_expect": 65.483, "fertility": 3.5211}, {"year": 1955, "country": "Peru", "cluster": 3, "pop": 8671500, "life_expect": 46.263, "fertility": 6.853}, {"year": 2005, "country": "Peru", "cluster": 3, "pop": 27925628, "life_expect": 71.421, "fertility": 2.5065}, {"year": 1955, "country": "Philippines", "cluster": 4, "pop": 24553055, "life_expect": 51.334, "fertility": 7.13}, {"year": 2005, "country": "Philippines", "cluster": 4, "pop": 87857473, "life_expect": 71.688, "fertility": 3.2327}, {"year": 1955, "country": "Poland", "cluster": 1, "pop": 27220668, "life_expect": 65.77, "fertility": 3.29}, {"year": 2005, "country": "Poland", "cluster": 1, "pop": 38557984, "life_expect": 75.563, "fertility": 1.227}, {"year": 1955, "country": "Portugal", "cluster": 1, "pop": 8692600, "life_expect": 61.51, "fertility": 3.03}, {"year": 2005, "country": "Portugal", "cluster": 1, "pop": 10566212, "life_expect": 78.098, "fertility": 1.455}, {"year": 1955, "country": "Rwanda", "cluster": 2, "pop": 2698272, "life_expect": 41.5, "fertility": 8.0}, {"year": 2005, "country": "Rwanda", "cluster": 2, "pop": 8440820, "life_expect": 46.242, "fertility": 5.9169}, {"year": 1955, "country": "Saudi Arabia", "cluster": 5, "pop": 4243218, "life_expect": 42.868, "fertility": 7.175}, {"year": 2005, "country": "Saudi Arabia", "cluster": 5, "pop": 26417599, "life_expect": 72.777, "fertility": 3.352}, {"year": 1955, "country": "South Africa", "cluster": 2, "pop": 15368551, "life_expect": 47.985, "fertility": 6.5}, {"year": 2005, "country": "South Africa", "cluster": 2, "pop": 44344136, "life_expect": 49.339, "fertility": 2.637}, {"year": 1955, "country": "Spain", "cluster": 1, "pop": 29318745, "life_expect": 66.66, "fertility": 2.75}, {"year": 2005, "country": "Spain", "cluster": 1, "pop": 40341462, "life_expect": 80.941, "fertility": 1.409}, {"year": 1955, "country": "Switzerland", "cluster": 1, "pop": 4980000, "life_expect": 70.56, "fertility": 2.34}, {"year": 2005, "country": "Switzerland", "cluster": 1, "pop": 7489370, "life_expect": 81.701, "fertility": 1.42}, {"year": 1955, "country": "Turkey", "cluster": 1, "pop": 24144571, "life_expect": 48.079, "fertility": 6.6}, {"year": 2005, "country": "Turkey", "cluster": 1, "pop": 69660559, "life_expect": 71.777, "fertility": 2.143}, {"year": 1955, "country": "United Kingdom", "cluster": 1, "pop": 50946000, "life_expect": 70.42, "fertility": 2.49}, {"year": 2005, "country": "United Kingdom", "cluster": 1, "pop": 60441457, "life_expect": 79.425, "fertility": 1.815}, {"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}, {"year": 1955, "country": "Venezuela", "cluster": 3, "pop": 6170497, "life_expect": 57.907, "fertility": 6.4585}, {"year": 2005, "country": "Venezuela", "cluster": 3, "pop": 25375281, "life_expect": 73.747, "fertility": 2.547}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
<section id="area-marks">
<h3><span class="section-number">2.4.7. </span>Area Marks<a class="headerlink" href="#area-marks" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">area</span></code> mark type combines aspects of <code class="docutils literal notranslate"><span class="pre">line</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> marks: it visualizes connections (slopes) among data points, but also shows a filled region, with one edge defaulting to a zero-valued baseline.</p>
<p>The chart below is an area chart of population over time for just the United States:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataUS</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;United States&#39;</span><span class="p">]</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dataUS</span><span class="p">)</span><span class="o">.</span><span class="n">mark_area</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-1fe09ca5dd8140859715f0d843357638.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-1fe09ca5dd8140859715f0d843357638.vega-embed details,
  #altair-viz-1fe09ca5dd8140859715f0d843357638.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-1fe09ca5dd8140859715f0d843357638"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-1fe09ca5dd8140859715f0d843357638") {
      outputDiv = document.getElementById("altair-viz-1fe09ca5dd8140859715f0d843357638");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-88b888ddd9723697d79222394a5e6167"}, "mark": {"type": "area"}, "encoding": {"x": {"field": "year", "type": "ordinal"}, "y": {"field": "fertility", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-88b888ddd9723697d79222394a5e6167": [{"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">line</span></code> marks, <code class="docutils literal notranslate"><span class="pre">area</span></code> marks support an <code class="docutils literal notranslate"><span class="pre">interpolate</span></code> parameter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dataUS</span><span class="p">)</span><span class="o">.</span><span class="n">mark_area</span><span class="p">(</span><span class="n">interpolate</span><span class="o">=</span><span class="s1">&#39;monotone&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;fertility:Q&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-b9fd354b778b4ba991175bdfacc5c391.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-b9fd354b778b4ba991175bdfacc5c391.vega-embed details,
  #altair-viz-b9fd354b778b4ba991175bdfacc5c391.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-b9fd354b778b4ba991175bdfacc5c391"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-b9fd354b778b4ba991175bdfacc5c391") {
      outputDiv = document.getElementById("altair-viz-b9fd354b778b4ba991175bdfacc5c391");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-88b888ddd9723697d79222394a5e6167"}, "mark": {"type": "area", "interpolate": "monotone"}, "encoding": {"x": {"field": "year", "type": "ordinal"}, "y": {"field": "fertility", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-88b888ddd9723697d79222394a5e6167": [{"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">bar</span></code> marks, <code class="docutils literal notranslate"><span class="pre">area</span></code> marks also support stacking. Here we create a new data frame with data for the three North American countries, then plot them using an <code class="docutils literal notranslate"><span class="pre">area</span></code> mark and a <code class="docutils literal notranslate"><span class="pre">color</span></code> encoding channel to stack by country.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataNA</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
    <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;United States&#39;</span><span class="p">)</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Canada&#39;</span><span class="p">)</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;country&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Mexico&#39;</span><span class="p">)</span>
<span class="p">]</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dataNA</span><span class="p">)</span><span class="o">.</span><span class="n">mark_area</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-dc760b4c285c4acdb536ada3e0361074.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-dc760b4c285c4acdb536ada3e0361074.vega-embed details,
  #altair-viz-dc760b4c285c4acdb536ada3e0361074.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-dc760b4c285c4acdb536ada3e0361074"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-dc760b4c285c4acdb536ada3e0361074") {
      outputDiv = document.getElementById("altair-viz-dc760b4c285c4acdb536ada3e0361074");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-47c9b0c62b71b7f7ea989f7fb393189e"}, "mark": {"type": "area"}, "encoding": {"color": {"field": "country", "type": "nominal"}, "x": {"field": "year", "type": "ordinal"}, "y": {"field": "pop", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-47c9b0c62b71b7f7ea989f7fb393189e": [{"year": 1955, "country": "Canada", "cluster": 3, "pop": 16050356, "life_expect": 69.96, "fertility": 3.882}, {"year": 1960, "country": "Canada", "cluster": 3, "pop": 18266765, "life_expect": 71.3, "fertility": 3.675}, {"year": 1965, "country": "Canada", "cluster": 3, "pop": 20071104, "life_expect": 72.13, "fertility": 2.61}, {"year": 1970, "country": "Canada", "cluster": 3, "pop": 21749986, "life_expect": 72.88, "fertility": 1.976}, {"year": 1975, "country": "Canada", "cluster": 3, "pop": 23209200, "life_expect": 74.21, "fertility": 1.734}, {"year": 1980, "country": "Canada", "cluster": 3, "pop": 24593300, "life_expect": 75.76, "fertility": 1.6340000000000001}, {"year": 1985, "country": "Canada", "cluster": 3, "pop": 25941600, "life_expect": 76.86, "fertility": 1.616}, {"year": 1990, "country": "Canada", "cluster": 3, "pop": 27790600, "life_expect": 77.95, "fertility": 1.694}, {"year": 1995, "country": "Canada", "cluster": 3, "pop": 29619002, "life_expect": 78.61, "fertility": 1.564}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2005, "country": "Canada", "cluster": 3, "pop": 32805041, "life_expect": 80.653, "fertility": 1.527}, {"year": 1955, "country": "Mexico", "cluster": 3, "pop": 32929914, "life_expect": 55.19, "fertility": 6.8}, {"year": 1960, "country": "Mexico", "cluster": 3, "pop": 38578505, "life_expect": 58.299, "fertility": 6.7495}, {"year": 1965, "country": "Mexico", "cluster": 3, "pop": 45142399, "life_expect": 60.11, "fertility": 6.7495}, {"year": 1970, "country": "Mexico", "cluster": 3, "pop": 52775158, "life_expect": 62.361, "fertility": 6.5}, {"year": 1975, "country": "Mexico", "cluster": 3, "pop": 60678045, "life_expect": 65.032, "fertility": 5.2505}, {"year": 1980, "country": "Mexico", "cluster": 3, "pop": 68347479, "life_expect": 67.405, "fertility": 4.25}, {"year": 1985, "country": "Mexico", "cluster": 3, "pop": 76767225, "life_expect": 69.498, "fertility": 3.6295}, {"year": 1990, "country": "Mexico", "cluster": 3, "pop": 84913652, "life_expect": 71.455, "fertility": 3.1905}, {"year": 1995, "country": "Mexico", "cluster": 3, "pop": 92880353, "life_expect": 73.67, "fertility": 2.6705}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2005, "country": "Mexico", "cluster": 3, "pop": 106202903, "life_expect": 76.195, "fertility": 2.211}, {"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>By default, stacking is performed relative to a zero baseline. However, other <code class="docutils literal notranslate"><span class="pre">stack</span></code> options are available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">center</span></code> - to stack relative to a baseline in the center of the chart, creating a <em>streamgraph</em> visualization, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">normalize</span></code> - to normalize the summed data at each stacking point to 100%, enabling percentage comparisons.</p></li>
</ul>
<p>Below we adapt the chart by setting the <code class="docutils literal notranslate"><span class="pre">y</span></code> encoding <code class="docutils literal notranslate"><span class="pre">stack</span></code> attribute to <code class="docutils literal notranslate"><span class="pre">center</span></code>. What happens if you instead set it <code class="docutils literal notranslate"><span class="pre">normalize</span></code>?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dataNA</span><span class="p">)</span><span class="o">.</span><span class="n">mark_area</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-cbc4ac9223ea48c4ab0698a8aad9a521.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-cbc4ac9223ea48c4ab0698a8aad9a521.vega-embed details,
  #altair-viz-cbc4ac9223ea48c4ab0698a8aad9a521.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-cbc4ac9223ea48c4ab0698a8aad9a521"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-cbc4ac9223ea48c4ab0698a8aad9a521") {
      outputDiv = document.getElementById("altair-viz-cbc4ac9223ea48c4ab0698a8aad9a521");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-47c9b0c62b71b7f7ea989f7fb393189e"}, "mark": {"type": "area"}, "encoding": {"color": {"field": "country", "type": "nominal"}, "x": {"field": "year", "type": "ordinal"}, "y": {"field": "pop", "stack": "center", "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-47c9b0c62b71b7f7ea989f7fb393189e": [{"year": 1955, "country": "Canada", "cluster": 3, "pop": 16050356, "life_expect": 69.96, "fertility": 3.882}, {"year": 1960, "country": "Canada", "cluster": 3, "pop": 18266765, "life_expect": 71.3, "fertility": 3.675}, {"year": 1965, "country": "Canada", "cluster": 3, "pop": 20071104, "life_expect": 72.13, "fertility": 2.61}, {"year": 1970, "country": "Canada", "cluster": 3, "pop": 21749986, "life_expect": 72.88, "fertility": 1.976}, {"year": 1975, "country": "Canada", "cluster": 3, "pop": 23209200, "life_expect": 74.21, "fertility": 1.734}, {"year": 1980, "country": "Canada", "cluster": 3, "pop": 24593300, "life_expect": 75.76, "fertility": 1.6340000000000001}, {"year": 1985, "country": "Canada", "cluster": 3, "pop": 25941600, "life_expect": 76.86, "fertility": 1.616}, {"year": 1990, "country": "Canada", "cluster": 3, "pop": 27790600, "life_expect": 77.95, "fertility": 1.694}, {"year": 1995, "country": "Canada", "cluster": 3, "pop": 29619002, "life_expect": 78.61, "fertility": 1.564}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2005, "country": "Canada", "cluster": 3, "pop": 32805041, "life_expect": 80.653, "fertility": 1.527}, {"year": 1955, "country": "Mexico", "cluster": 3, "pop": 32929914, "life_expect": 55.19, "fertility": 6.8}, {"year": 1960, "country": "Mexico", "cluster": 3, "pop": 38578505, "life_expect": 58.299, "fertility": 6.7495}, {"year": 1965, "country": "Mexico", "cluster": 3, "pop": 45142399, "life_expect": 60.11, "fertility": 6.7495}, {"year": 1970, "country": "Mexico", "cluster": 3, "pop": 52775158, "life_expect": 62.361, "fertility": 6.5}, {"year": 1975, "country": "Mexico", "cluster": 3, "pop": 60678045, "life_expect": 65.032, "fertility": 5.2505}, {"year": 1980, "country": "Mexico", "cluster": 3, "pop": 68347479, "life_expect": 67.405, "fertility": 4.25}, {"year": 1985, "country": "Mexico", "cluster": 3, "pop": 76767225, "life_expect": 69.498, "fertility": 3.6295}, {"year": 1990, "country": "Mexico", "cluster": 3, "pop": 84913652, "life_expect": 71.455, "fertility": 3.1905}, {"year": 1995, "country": "Mexico", "cluster": 3, "pop": 92880353, "life_expect": 73.67, "fertility": 2.6705}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2005, "country": "Mexico", "cluster": 3, "pop": 106202903, "life_expect": 76.195, "fertility": 2.211}, {"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>To disable stacking altogether, set the  <code class="docutils literal notranslate"><span class="pre">stack</span></code> attribute to <code class="docutils literal notranslate"><span class="pre">None</span></code>. We can also add <code class="docutils literal notranslate"><span class="pre">opacity</span></code> as a default mark parameter to ensure we see the overlapping areas!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dataNA</span><span class="p">)</span><span class="o">.</span><span class="n">mark_area</span><span class="p">(</span><span class="n">opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;pop:Q&#39;</span><span class="p">,</span> <span class="n">stack</span><span class="o">=</span><span class="kc">None</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;country:N&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-1c55585d3a94465eaca45dd83cdb9a63.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-1c55585d3a94465eaca45dd83cdb9a63.vega-embed details,
  #altair-viz-1c55585d3a94465eaca45dd83cdb9a63.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-1c55585d3a94465eaca45dd83cdb9a63"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-1c55585d3a94465eaca45dd83cdb9a63") {
      outputDiv = document.getElementById("altair-viz-1c55585d3a94465eaca45dd83cdb9a63");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-47c9b0c62b71b7f7ea989f7fb393189e"}, "mark": {"type": "area", "opacity": 0.5}, "encoding": {"color": {"field": "country", "type": "nominal"}, "x": {"field": "year", "type": "ordinal"}, "y": {"field": "pop", "stack": null, "type": "quantitative"}}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-47c9b0c62b71b7f7ea989f7fb393189e": [{"year": 1955, "country": "Canada", "cluster": 3, "pop": 16050356, "life_expect": 69.96, "fertility": 3.882}, {"year": 1960, "country": "Canada", "cluster": 3, "pop": 18266765, "life_expect": 71.3, "fertility": 3.675}, {"year": 1965, "country": "Canada", "cluster": 3, "pop": 20071104, "life_expect": 72.13, "fertility": 2.61}, {"year": 1970, "country": "Canada", "cluster": 3, "pop": 21749986, "life_expect": 72.88, "fertility": 1.976}, {"year": 1975, "country": "Canada", "cluster": 3, "pop": 23209200, "life_expect": 74.21, "fertility": 1.734}, {"year": 1980, "country": "Canada", "cluster": 3, "pop": 24593300, "life_expect": 75.76, "fertility": 1.6340000000000001}, {"year": 1985, "country": "Canada", "cluster": 3, "pop": 25941600, "life_expect": 76.86, "fertility": 1.616}, {"year": 1990, "country": "Canada", "cluster": 3, "pop": 27790600, "life_expect": 77.95, "fertility": 1.694}, {"year": 1995, "country": "Canada", "cluster": 3, "pop": 29619002, "life_expect": 78.61, "fertility": 1.564}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2005, "country": "Canada", "cluster": 3, "pop": 32805041, "life_expect": 80.653, "fertility": 1.527}, {"year": 1955, "country": "Mexico", "cluster": 3, "pop": 32929914, "life_expect": 55.19, "fertility": 6.8}, {"year": 1960, "country": "Mexico", "cluster": 3, "pop": 38578505, "life_expect": 58.299, "fertility": 6.7495}, {"year": 1965, "country": "Mexico", "cluster": 3, "pop": 45142399, "life_expect": 60.11, "fertility": 6.7495}, {"year": 1970, "country": "Mexico", "cluster": 3, "pop": 52775158, "life_expect": 62.361, "fertility": 6.5}, {"year": 1975, "country": "Mexico", "cluster": 3, "pop": 60678045, "life_expect": 65.032, "fertility": 5.2505}, {"year": 1980, "country": "Mexico", "cluster": 3, "pop": 68347479, "life_expect": 67.405, "fertility": 4.25}, {"year": 1985, "country": "Mexico", "cluster": 3, "pop": 76767225, "life_expect": 69.498, "fertility": 3.6295}, {"year": 1990, "country": "Mexico", "cluster": 3, "pop": 84913652, "life_expect": 71.455, "fertility": 3.1905}, {"year": 1995, "country": "Mexico", "cluster": 3, "pop": 92880353, "life_expect": 73.67, "fertility": 2.6705}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2005, "country": "Mexico", "cluster": 3, "pop": 106202903, "life_expect": 76.195, "fertility": 2.211}, {"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">area</span></code> mark type also supports data-driven baselines, with both the upper and lower series determined by data fields. As with <code class="docutils literal notranslate"><span class="pre">bar</span></code> marks, we can use the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">x2</span></code> (or <code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">y2</span></code>) channels to provide end points for the area mark.</p>
<p>The chart below visualizes the range of minimum and maximum fertility, per year, for North American countries:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dataNA</span><span class="p">)</span><span class="o">.</span><span class="n">mark_area</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;min(fertility):Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y2</span><span class="p">(</span><span class="s1">&#39;max(fertility):Q&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="mi">40</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-3e14d9a441b9473494f1fcdbe736739f.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-3e14d9a441b9473494f1fcdbe736739f.vega-embed details,
  #altair-viz-3e14d9a441b9473494f1fcdbe736739f.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-3e14d9a441b9473494f1fcdbe736739f"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-3e14d9a441b9473494f1fcdbe736739f") {
      outputDiv = document.getElementById("altair-viz-3e14d9a441b9473494f1fcdbe736739f");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-47c9b0c62b71b7f7ea989f7fb393189e"}, "mark": {"type": "area"}, "encoding": {"x": {"field": "year", "type": "ordinal"}, "y": {"aggregate": "min", "field": "fertility", "type": "quantitative"}, "y2": {"aggregate": "max", "field": "fertility"}}, "width": {"step": 40}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-47c9b0c62b71b7f7ea989f7fb393189e": [{"year": 1955, "country": "Canada", "cluster": 3, "pop": 16050356, "life_expect": 69.96, "fertility": 3.882}, {"year": 1960, "country": "Canada", "cluster": 3, "pop": 18266765, "life_expect": 71.3, "fertility": 3.675}, {"year": 1965, "country": "Canada", "cluster": 3, "pop": 20071104, "life_expect": 72.13, "fertility": 2.61}, {"year": 1970, "country": "Canada", "cluster": 3, "pop": 21749986, "life_expect": 72.88, "fertility": 1.976}, {"year": 1975, "country": "Canada", "cluster": 3, "pop": 23209200, "life_expect": 74.21, "fertility": 1.734}, {"year": 1980, "country": "Canada", "cluster": 3, "pop": 24593300, "life_expect": 75.76, "fertility": 1.6340000000000001}, {"year": 1985, "country": "Canada", "cluster": 3, "pop": 25941600, "life_expect": 76.86, "fertility": 1.616}, {"year": 1990, "country": "Canada", "cluster": 3, "pop": 27790600, "life_expect": 77.95, "fertility": 1.694}, {"year": 1995, "country": "Canada", "cluster": 3, "pop": 29619002, "life_expect": 78.61, "fertility": 1.564}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2005, "country": "Canada", "cluster": 3, "pop": 32805041, "life_expect": 80.653, "fertility": 1.527}, {"year": 1955, "country": "Mexico", "cluster": 3, "pop": 32929914, "life_expect": 55.19, "fertility": 6.8}, {"year": 1960, "country": "Mexico", "cluster": 3, "pop": 38578505, "life_expect": 58.299, "fertility": 6.7495}, {"year": 1965, "country": "Mexico", "cluster": 3, "pop": 45142399, "life_expect": 60.11, "fertility": 6.7495}, {"year": 1970, "country": "Mexico", "cluster": 3, "pop": 52775158, "life_expect": 62.361, "fertility": 6.5}, {"year": 1975, "country": "Mexico", "cluster": 3, "pop": 60678045, "life_expect": 65.032, "fertility": 5.2505}, {"year": 1980, "country": "Mexico", "cluster": 3, "pop": 68347479, "life_expect": 67.405, "fertility": 4.25}, {"year": 1985, "country": "Mexico", "cluster": 3, "pop": 76767225, "life_expect": 69.498, "fertility": 3.6295}, {"year": 1990, "country": "Mexico", "cluster": 3, "pop": 84913652, "life_expect": 71.455, "fertility": 3.1905}, {"year": 1995, "country": "Mexico", "cluster": 3, "pop": 92880353, "life_expect": 73.67, "fertility": 2.6705}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2005, "country": "Mexico", "cluster": 3, "pop": 106202903, "life_expect": 76.195, "fertility": 2.211}, {"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
<p>We can see a larger range of values in 1995, from just under 4 to just under 7. By 2005, both the overall fertility values and the variability have declined, centered around 2 children per familty.</p>
<p>All the <code class="docutils literal notranslate"><span class="pre">area</span></code> mark examples above use a vertically oriented area. However, Altair and Vega-Lite support horizontal areas as well. Let’s transpose the chart above, simply by swapping the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> channels.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">dataNA</span><span class="p">)</span><span class="o">.</span><span class="n">mark_area</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;year:O&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;min(fertility):Q&#39;</span><span class="p">),</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X2</span><span class="p">(</span><span class="s1">&#39;max(fertility):Q&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="mi">40</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-88c44f06de864d6889e619f69adc70e2.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-88c44f06de864d6889e619f69adc70e2.vega-embed details,
  #altair-viz-88c44f06de864d6889e619f69adc70e2.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-88c44f06de864d6889e619f69adc70e2"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-88c44f06de864d6889e619f69adc70e2") {
      outputDiv = document.getElementById("altair-viz-88c44f06de864d6889e619f69adc70e2");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-47c9b0c62b71b7f7ea989f7fb393189e"}, "mark": {"type": "area"}, "encoding": {"x": {"aggregate": "min", "field": "fertility", "type": "quantitative"}, "x2": {"aggregate": "max", "field": "fertility"}, "y": {"field": "year", "type": "ordinal"}}, "width": {"step": 40}, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-47c9b0c62b71b7f7ea989f7fb393189e": [{"year": 1955, "country": "Canada", "cluster": 3, "pop": 16050356, "life_expect": 69.96, "fertility": 3.882}, {"year": 1960, "country": "Canada", "cluster": 3, "pop": 18266765, "life_expect": 71.3, "fertility": 3.675}, {"year": 1965, "country": "Canada", "cluster": 3, "pop": 20071104, "life_expect": 72.13, "fertility": 2.61}, {"year": 1970, "country": "Canada", "cluster": 3, "pop": 21749986, "life_expect": 72.88, "fertility": 1.976}, {"year": 1975, "country": "Canada", "cluster": 3, "pop": 23209200, "life_expect": 74.21, "fertility": 1.734}, {"year": 1980, "country": "Canada", "cluster": 3, "pop": 24593300, "life_expect": 75.76, "fertility": 1.6340000000000001}, {"year": 1985, "country": "Canada", "cluster": 3, "pop": 25941600, "life_expect": 76.86, "fertility": 1.616}, {"year": 1990, "country": "Canada", "cluster": 3, "pop": 27790600, "life_expect": 77.95, "fertility": 1.694}, {"year": 1995, "country": "Canada", "cluster": 3, "pop": 29619002, "life_expect": 78.61, "fertility": 1.564}, {"year": 2000, "country": "Canada", "cluster": 3, "pop": 31278097, "life_expect": 79.77, "fertility": 1.522}, {"year": 2005, "country": "Canada", "cluster": 3, "pop": 32805041, "life_expect": 80.653, "fertility": 1.527}, {"year": 1955, "country": "Mexico", "cluster": 3, "pop": 32929914, "life_expect": 55.19, "fertility": 6.8}, {"year": 1960, "country": "Mexico", "cluster": 3, "pop": 38578505, "life_expect": 58.299, "fertility": 6.7495}, {"year": 1965, "country": "Mexico", "cluster": 3, "pop": 45142399, "life_expect": 60.11, "fertility": 6.7495}, {"year": 1970, "country": "Mexico", "cluster": 3, "pop": 52775158, "life_expect": 62.361, "fertility": 6.5}, {"year": 1975, "country": "Mexico", "cluster": 3, "pop": 60678045, "life_expect": 65.032, "fertility": 5.2505}, {"year": 1980, "country": "Mexico", "cluster": 3, "pop": 68347479, "life_expect": 67.405, "fertility": 4.25}, {"year": 1985, "country": "Mexico", "cluster": 3, "pop": 76767225, "life_expect": 69.498, "fertility": 3.6295}, {"year": 1990, "country": "Mexico", "cluster": 3, "pop": 84913652, "life_expect": 71.455, "fertility": 3.1905}, {"year": 1995, "country": "Mexico", "cluster": 3, "pop": 92880353, "life_expect": 73.67, "fertility": 2.6705}, {"year": 2000, "country": "Mexico", "cluster": 3, "pop": 99926620, "life_expect": 74.902, "fertility": 2.4005}, {"year": 2005, "country": "Mexico", "cluster": 3, "pop": 106202903, "life_expect": 76.195, "fertility": 2.211}, {"year": 1955, "country": "United States", "cluster": 3, "pop": 165931000, "life_expect": 69.49, "fertility": 3.706}, {"year": 1960, "country": "United States", "cluster": 3, "pop": 180671000, "life_expect": 70.21, "fertility": 3.314}, {"year": 1965, "country": "United States", "cluster": 3, "pop": 194303000, "life_expect": 70.76, "fertility": 2.545}, {"year": 1970, "country": "United States", "cluster": 3, "pop": 205052000, "life_expect": 71.34, "fertility": 2.016}, {"year": 1975, "country": "United States", "cluster": 3, "pop": 215973000, "life_expect": 73.38, "fertility": 1.788}, {"year": 1980, "country": "United States", "cluster": 3, "pop": 227726463, "life_expect": 74.65, "fertility": 1.825}, {"year": 1985, "country": "United States", "cluster": 3, "pop": 238466283, "life_expect": 75.02, "fertility": 1.924}, {"year": 1990, "country": "United States", "cluster": 3, "pop": 250131894, "life_expect": 76.09, "fertility": 2.025}, {"year": 1995, "country": "United States", "cluster": 3, "pop": 266557091, "life_expect": 76.81, "fertility": 1.994}, {"year": 2000, "country": "United States", "cluster": 3, "pop": 282338631, "life_expect": 77.31, "fertility": 2.038}, {"year": 2005, "country": "United States", "cluster": 3, "pop": 295734134, "life_expect": 78.242, "fertility": 2.054}]}}, {"mode": "vega-lite"});
</script></div></div>
</div>
</section>
</section>
<section id="id1">
<h2><span class="section-number">2.5. </span>Summary<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>We’ve completed our tour of data types, encoding channels, and graphical marks! You should now be well-equipped to further explore the space of encodings, mark types, and mark parameters. For a comprehensive reference – including features we’ve skipped over here! – see the Altair <a class="reference external" href="https://altair-viz.github.io/user_guide/marks/index.html">marks</a> and <a class="reference external" href="https://altair-viz.github.io/user_guide/encodings/index.html">encoding</a> documentation.</p>
<p>In the next module, we will look at the use of data transformations to create charts that summarize data or visualize new derived fields. In a later module, we’ll examine how to further customize your charts by modifying scales, axes, and legends.</p>
<p>Interested in learning more about visual encoding?</p>
<p><img title="Bertin's Taxonomy of Visual Encoding Channels" src="https://cdn-images-1.medium.com/max/2000/1*jsb78Rr2cDy6zrE7j2IKig.png" style="max-width: 650px;"><br/></p>
<p><small>Bertin’s taxonomy of visual encodings from <a href="https://books.google.com/books/about/Semiology_of_Graphics.html?id=X5caQwAACAAJ"><em>Sémiologie Graphique</em></a>, as adapted by <a href="https://bost.ocks.org/mike/">Mike Bostock</a>.</small></p>
<ul class="simple">
<li><p>The systematic study of marks, visual encodings, and backing data types was initiated by <a class="reference external" href="https://en.wikipedia.org/wiki/Jacques_Bertin">Jacques Bertin</a> in his pioneering 1967 work <a class="reference external" href="https://books.google.com/books/about/Semiology_of_Graphics.html?id=X5caQwAACAAJ"><em>Sémiologie Graphique (The Semiology of Graphics)</em></a>. The image above illustrates position, size, value (brightness), texture, color (hue), orientation, and shape channels, alongside Bertin’s recommendations for the data types they support.</p></li>
<li><p>The framework of data types, marks, and channels also guides <em>automated</em> visualization design tools, starting with <a class="reference external" href="https://scholar.google.com/scholar?cluster=10191273548472217907">Mackinlay’s APT (A Presentation Tool)</a> in 1986 and continuing in more recent systems such as <a class="reference external" href="http://idl.cs.washington.edu/papers/voyager/">Voyager</a> and <a class="reference external" href="http://idl.cs.washington.edu/papers/draco/">Draco</a>.</p></li>
<li><p>The identification of nominal, ordinal, interval, and ratio types dates at least as far back as S. S. Steven’s 1947 article <a class="reference external" href="https://scholar.google.com/scholar?cluster=14356809180080326415"><em>On the theory of scales of measurement</em></a>.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="altair_introduction.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Introduction to Altair</p>
      </div>
    </a>
    <a class="right-next"
       href="altair_data_transformation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">3. </span>Data Transformation</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#global-development-data">2.1. Global Development Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-types">2.2. Data Types</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nominal-n">2.2.1. Nominal (N)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ordinal-o">2.2.2. Ordinal (O)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quantitative-q">2.2.3. Quantitative (Q)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#temporal-t">2.2.4. Temporal (T)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">2.2.5. Summary</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding-channels">2.3. Encoding Channels</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#x">2.3.1. X</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#y">2.3.2. Y</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#size">2.3.3. Size</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#color-and-opacity">2.3.4. Color and Opacity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shape">2.3.5. Shape</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tooltips-ordering">2.3.6. Tooltips &amp; Ordering</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#column-and-row-facets">2.3.7. Column and Row Facets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#a-peek-ahead-interactive-filtering">2.3.8. A Peek Ahead: Interactive Filtering</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#graphical-marks">2.4. Graphical Marks</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#point-marks">2.4.1. Point Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#circle-marks">2.4.2. Circle Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#square-marks">2.4.3. Square Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tick-marks">2.4.4. Tick Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bar-marks">2.4.5. Bar Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#line-marks">2.4.6. Line Marks</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#area-marks">2.4.7. Area Marks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">2.5. Summary</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jeffrey Heer, Dominik Moritz, Jake VanderPlas, and Brock Craft
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>